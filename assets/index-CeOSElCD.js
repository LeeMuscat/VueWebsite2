(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Eh(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ut={},ro=[],Ts=()=>{},Dm=()=>!1,ic=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bh=t=>t.startsWith("onUpdate:"),Wt=Object.assign,wh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},VE=Object.prototype.hasOwnProperty,et=(t,e)=>VE.call(t,e),we=Array.isArray,io=t=>oc(t)==="[object Map]",Om=t=>oc(t)==="[object Set]",Pe=t=>typeof t=="function",St=t=>typeof t=="string",Hr=t=>typeof t=="symbol",mt=t=>t!==null&&typeof t=="object",Nm=t=>(mt(t)||Pe(t))&&Pe(t.then)&&Pe(t.catch),km=Object.prototype.toString,oc=t=>km.call(t),xE=t=>oc(t).slice(8,-1),Lm=t=>oc(t)==="[object Object]",Th=t=>St(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,aa=Eh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ac=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},DE=/-\w/g,Wn=ac(t=>t.replace(DE,e=>e.slice(1).toUpperCase())),OE=/\B([A-Z])/g,Si=ac(t=>t.replace(OE,"-$1").toLowerCase()),lc=ac(t=>t.charAt(0).toUpperCase()+t.slice(1)),ou=ac(t=>t?`on${lc(t)}`:""),Vr=(t,e)=>!Object.is(t,e),yl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Mm=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ah=t=>{const e=parseFloat(t);return isNaN(e)?t:e},NE=t=>{const e=St(t)?Number(t):NaN;return isNaN(e)?t:e};let _d;const cc=()=>_d||(_d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ih(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=St(s)?$E(s):Ih(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(St(t)||mt(t))return t}const kE=/;(?![^(]*\))/g,LE=/:([^]+)/,ME=/\/\*[^]*?\*\//g;function $E(t){const e={};return t.replace(ME,"").split(kE).forEach(n=>{if(n){const s=n.split(LE);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function uc(t){let e="";if(St(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const s=uc(t[n]);s&&(e+=s+" ")}else if(mt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const FE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BE=Eh(FE);function $m(t){return!!t||t===""}const Fm=t=>!!(t&&t.__v_isRef===!0),bt=t=>St(t)?t:t==null?"":we(t)||mt(t)&&(t.toString===km||!Pe(t.toString))?Fm(t)?bt(t.value):JSON.stringify(t,Bm,2):String(t),Bm=(t,e)=>Fm(e)?Bm(t,e.value):io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[au(s,i)+" =>"]=r,n),{})}:Om(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>au(n))}:Hr(e)?au(e):mt(e)&&!we(e)&&!Lm(e)?String(e):e,au=(t,e="")=>{var n;return Hr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let An;class jE{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=An,!e&&An&&(this.index=(An.scopes||(An.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=An;try{return An=this,e()}finally{An=n}}}on(){++this._on===1&&(this.prevScope=An,An=this)}off(){this._on>0&&--this._on===0&&(An=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function UE(){return An}let pt;const lu=new WeakSet;class jm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,An&&An.active&&An.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lu.has(this)&&(lu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yd(this),Hm(this);const e=pt,n=es;pt=this,es=!0;try{return this.fn()}finally{zm(this),pt=e,es=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Rh(e);this.deps=this.depsTail=void 0,yd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nu(this)&&this.run()}get dirty(){return Nu(this)}}let Um=0,la,ca;function qm(t,e=!1){if(t.flags|=8,e){t.next=ca,ca=t;return}t.next=la,la=t}function Ch(){Um++}function Sh(){if(--Um>0)return;if(ca){let e=ca;for(ca=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;la;){let e=la;for(la=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Hm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zm(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Rh(s),qE(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Nu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Wm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Wm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ea)||(t.globalVersion=Ea,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Nu(t))))return;t.flags|=2;const e=t.dep,n=pt,s=es;pt=t,es=!0;try{Hm(t);const r=t.fn(t._value);(e.version===0||Vr(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{pt=n,es=s,zm(t),t.flags&=-3}}function Rh(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Rh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function qE(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let es=!0;const Gm=[];function Ys(){Gm.push(es),es=!1}function Js(){const t=Gm.pop();es=t===void 0?!0:t}function yd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=pt;pt=void 0;try{e()}finally{pt=n}}}let Ea=0;class HE{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ph{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!pt||!es||pt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==pt)n=this.activeLink=new HE(pt,this),pt.deps?(n.prevDep=pt.depsTail,pt.depsTail.nextDep=n,pt.depsTail=n):pt.deps=pt.depsTail=n,Km(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=pt.depsTail,n.nextDep=void 0,pt.depsTail.nextDep=n,pt.depsTail=n,pt.deps===n&&(pt.deps=s)}return n}trigger(e){this.version++,Ea++,this.notify(e)}notify(e){Ch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Sh()}}}function Km(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Km(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ku=new WeakMap,wi=Symbol(""),Lu=Symbol(""),ba=Symbol("");function hn(t,e,n){if(es&&pt){let s=ku.get(t);s||ku.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ph),r.map=s,r.key=n),r.track()}}function Gs(t,e,n,s,r,i){const a=ku.get(t);if(!a){Ea++;return}const c=u=>{u&&u.trigger()};if(Ch(),e==="clear")a.forEach(c);else{const u=we(t),h=u&&Th(n);if(u&&n==="length"){const d=Number(s);a.forEach((g,y)=>{(y==="length"||y===ba||!Hr(y)&&y>=d)&&c(g)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),h&&c(a.get(ba)),e){case"add":u?h&&c(a.get("length")):(c(a.get(wi)),io(t)&&c(a.get(Lu)));break;case"delete":u||(c(a.get(wi)),io(t)&&c(a.get(Lu)));break;case"set":io(t)&&c(a.get(wi));break}}Sh()}function Ki(t){const e=Xe(t);return e===t?e:(hn(e,"iterate",ba),Hn(t)?e:e.map(ns))}function hc(t){return hn(t=Xe(t),"iterate",ba),t}function Ar(t,e){return Rs(t)?xr(t)?fo(ns(e)):fo(e):ns(e)}const zE={__proto__:null,[Symbol.iterator](){return cu(this,Symbol.iterator,t=>Ar(this,t))},concat(...t){return Ki(this).concat(...t.map(e=>we(e)?Ki(e):e))},entries(){return cu(this,"entries",t=>(t[1]=Ar(this,t[1]),t))},every(t,e){return qs(this,"every",t,e,void 0,arguments)},filter(t,e){return qs(this,"filter",t,e,n=>n.map(s=>Ar(this,s)),arguments)},find(t,e){return qs(this,"find",t,e,n=>Ar(this,n),arguments)},findIndex(t,e){return qs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qs(this,"findLast",t,e,n=>Ar(this,n),arguments)},findLastIndex(t,e){return qs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qs(this,"forEach",t,e,void 0,arguments)},includes(...t){return uu(this,"includes",t)},indexOf(...t){return uu(this,"indexOf",t)},join(t){return Ki(this).join(t)},lastIndexOf(...t){return uu(this,"lastIndexOf",t)},map(t,e){return qs(this,"map",t,e,void 0,arguments)},pop(){return Zo(this,"pop")},push(...t){return Zo(this,"push",t)},reduce(t,...e){return vd(this,"reduce",t,e)},reduceRight(t,...e){return vd(this,"reduceRight",t,e)},shift(){return Zo(this,"shift")},some(t,e){return qs(this,"some",t,e,void 0,arguments)},splice(...t){return Zo(this,"splice",t)},toReversed(){return Ki(this).toReversed()},toSorted(t){return Ki(this).toSorted(t)},toSpliced(...t){return Ki(this).toSpliced(...t)},unshift(...t){return Zo(this,"unshift",t)},values(){return cu(this,"values",t=>Ar(this,t))}};function cu(t,e,n){const s=hc(t),r=s[e]();return s!==t&&!Hn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const WE=Array.prototype;function qs(t,e,n,s,r,i){const a=hc(t),c=a!==t&&!Hn(t),u=a[e];if(u!==WE[e]){const g=u.apply(t,i);return c?ns(g):g}let h=n;a!==t&&(c?h=function(g,y){return n.call(this,Ar(t,g),y,t)}:n.length>2&&(h=function(g,y){return n.call(this,g,y,t)}));const d=u.call(a,h,s);return c&&r?r(d):d}function vd(t,e,n,s){const r=hc(t);let i=n;return r!==t&&(Hn(t)?n.length>3&&(i=function(a,c,u){return n.call(this,a,c,u,t)}):i=function(a,c,u){return n.call(this,a,Ar(t,c),u,t)}),r[e](i,...s)}function uu(t,e,n){const s=Xe(t);hn(s,"iterate",ba);const r=s[e](...n);return(r===-1||r===!1)&&Dh(n[0])?(n[0]=Xe(n[0]),s[e](...n)):r}function Zo(t,e,n=[]){Ys(),Ch();const s=Xe(t)[e].apply(t,n);return Sh(),Js(),s}const GE=Eh("__proto__,__v_isRef,__isVue"),Qm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hr));function KE(t){Hr(t)||(t=String(t));const e=Xe(this);return hn(e,"has",t),e.hasOwnProperty(t)}class Xm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?rb:eg:i?Zm:Jm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const a=we(e);if(!r){let u;if(a&&(u=zE[n]))return u;if(n==="hasOwnProperty")return KE}const c=Reflect.get(e,n,Ht(e)?e:s);if((Hr(n)?Qm.has(n):GE(n))||(r||hn(e,"get",n),i))return c;if(Ht(c)){const u=a&&Th(n)?c:c.value;return r&&mt(u)?$u(u):u}return mt(c)?r?$u(c):zr(c):c}}class Ym extends Xm{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];const a=we(e)&&Th(n);if(!this._isShallow){const h=Rs(i);if(!Hn(s)&&!Rs(s)&&(i=Xe(i),s=Xe(s)),!a&&Ht(i)&&!Ht(s))return h||(i.value=s),!0}const c=a?Number(n)<e.length:et(e,n),u=Reflect.set(e,n,s,Ht(e)?e:r);return e===Xe(r)&&(c?Vr(s,i)&&Gs(e,"set",n,s):Gs(e,"add",n,s)),u}deleteProperty(e,n){const s=et(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Gs(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Hr(n)||!Qm.has(n))&&hn(e,"has",n),s}ownKeys(e){return hn(e,"iterate",we(e)?"length":wi),Reflect.ownKeys(e)}}class QE extends Xm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const XE=new Ym,YE=new QE,JE=new Ym(!0);const Mu=t=>t,cl=t=>Reflect.getPrototypeOf(t);function ZE(t,e,n){return function(...s){const r=this.__v_raw,i=Xe(r),a=io(i),c=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,h=r[t](...s),d=n?Mu:e?fo:ns;return!e&&hn(i,"iterate",u?Lu:wi),{next(){const{value:g,done:y}=h.next();return y?{value:g,done:y}:{value:c?[d(g[0]),d(g[1])]:d(g),done:y}},[Symbol.iterator](){return this}}}}function ul(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function eb(t,e){const n={get(r){const i=this.__v_raw,a=Xe(i),c=Xe(r);t||(Vr(r,c)&&hn(a,"get",r),hn(a,"get",c));const{has:u}=cl(a),h=e?Mu:t?fo:ns;if(u.call(a,r))return h(i.get(r));if(u.call(a,c))return h(i.get(c));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&hn(Xe(r),"iterate",wi),r.size},has(r){const i=this.__v_raw,a=Xe(i),c=Xe(r);return t||(Vr(r,c)&&hn(a,"has",r),hn(a,"has",c)),r===c?i.has(r):i.has(r)||i.has(c)},forEach(r,i){const a=this,c=a.__v_raw,u=Xe(c),h=e?Mu:t?fo:ns;return!t&&hn(u,"iterate",wi),c.forEach((d,g)=>r.call(i,h(d),h(g),a))}};return Wt(n,t?{add:ul("add"),set:ul("set"),delete:ul("delete"),clear:ul("clear")}:{add(r){!e&&!Hn(r)&&!Rs(r)&&(r=Xe(r));const i=Xe(this);return cl(i).has.call(i,r)||(i.add(r),Gs(i,"add",r,r)),this},set(r,i){!e&&!Hn(i)&&!Rs(i)&&(i=Xe(i));const a=Xe(this),{has:c,get:u}=cl(a);let h=c.call(a,r);h||(r=Xe(r),h=c.call(a,r));const d=u.call(a,r);return a.set(r,i),h?Vr(i,d)&&Gs(a,"set",r,i):Gs(a,"add",r,i),this},delete(r){const i=Xe(this),{has:a,get:c}=cl(i);let u=a.call(i,r);u||(r=Xe(r),u=a.call(i,r)),c&&c.call(i,r);const h=i.delete(r);return u&&Gs(i,"delete",r,void 0),h},clear(){const r=Xe(this),i=r.size!==0,a=r.clear();return i&&Gs(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=ZE(r,t,e)}),n}function Vh(t,e){const n=eb(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(et(n,r)&&r in s?n:s,r,i)}const tb={get:Vh(!1,!1)},nb={get:Vh(!1,!0)},sb={get:Vh(!0,!1)};const Jm=new WeakMap,Zm=new WeakMap,eg=new WeakMap,rb=new WeakMap;function ib(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ob(t){return t.__v_skip||!Object.isExtensible(t)?0:ib(xE(t))}function zr(t){return Rs(t)?t:xh(t,!1,XE,tb,Jm)}function tg(t){return xh(t,!1,JE,nb,Zm)}function $u(t){return xh(t,!0,YE,sb,eg)}function xh(t,e,n,s,r){if(!mt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ob(t);if(i===0)return t;const a=r.get(t);if(a)return a;const c=new Proxy(t,i===2?s:n);return r.set(t,c),c}function xr(t){return Rs(t)?xr(t.__v_raw):!!(t&&t.__v_isReactive)}function Rs(t){return!!(t&&t.__v_isReadonly)}function Hn(t){return!!(t&&t.__v_isShallow)}function Dh(t){return t?!!t.__v_raw:!1}function Xe(t){const e=t&&t.__v_raw;return e?Xe(e):t}function ab(t){return!et(t,"__v_skip")&&Object.isExtensible(t)&&Mm(t,"__v_skip",!0),t}const ns=t=>mt(t)?zr(t):t,fo=t=>mt(t)?$u(t):t;function Ht(t){return t?t.__v_isRef===!0:!1}function _t(t){return ng(t,!1)}function lb(t){return ng(t,!0)}function ng(t,e){return Ht(t)?t:new cb(t,e)}class cb{constructor(e,n){this.dep=new Ph,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Xe(e),this._value=n?e:ns(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Hn(e)||Rs(e);e=s?e:Xe(e),Vr(e,n)&&(this._rawValue=e,this._value=s?e:ns(e),this.dep.trigger())}}function Ce(t){return Ht(t)?t.value:t}const ub={get:(t,e,n)=>e==="__v_raw"?t:Ce(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ht(r)&&!Ht(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function sg(t){return xr(t)?t:new Proxy(t,ub)}class hb{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ph(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ea-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&pt!==this)return qm(this,!0),!0}get value(){const e=this.dep.track();return Wm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function fb(t,e,n=!1){let s,r;return Pe(t)?s=t:(s=t.get,r=t.set),new hb(s,r,n)}const hl={},Vl=new WeakMap;let _i;function db(t,e=!1,n=_i){if(n){let s=Vl.get(n);s||Vl.set(n,s=[]),s.push(t)}}function pb(t,e,n=ut){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:c,call:u}=n,h=ne=>r?ne:Hn(ne)||r===!1||r===0?Ks(ne,1):Ks(ne);let d,g,y,b,P=!1,k=!1;if(Ht(t)?(g=()=>t.value,P=Hn(t)):xr(t)?(g=()=>h(t),P=!0):we(t)?(k=!0,P=t.some(ne=>xr(ne)||Hn(ne)),g=()=>t.map(ne=>{if(Ht(ne))return ne.value;if(xr(ne))return h(ne);if(Pe(ne))return u?u(ne,2):ne()})):Pe(t)?e?g=u?()=>u(t,2):t:g=()=>{if(y){Ys();try{y()}finally{Js()}}const ne=_i;_i=d;try{return u?u(t,3,[b]):t(b)}finally{_i=ne}}:g=Ts,e&&r){const ne=g,me=r===!0?1/0:r;g=()=>Ks(ne(),me)}const L=UE(),F=()=>{d.stop(),L&&L.active&&wh(L.effects,d)};if(i&&e){const ne=e;e=(...me)=>{ne(...me),F()}}let B=k?new Array(t.length).fill(hl):hl;const H=ne=>{if(!(!(d.flags&1)||!d.dirty&&!ne))if(e){const me=d.run();if(r||P||(k?me.some((ve,V)=>Vr(ve,B[V])):Vr(me,B))){y&&y();const ve=_i;_i=d;try{const V=[me,B===hl?void 0:k&&B[0]===hl?[]:B,b];B=me,u?u(e,3,V):e(...V)}finally{_i=ve}}}else d.run()};return c&&c(H),d=new jm(g),d.scheduler=a?()=>a(H,!1):H,b=ne=>db(ne,!1,d),y=d.onStop=()=>{const ne=Vl.get(d);if(ne){if(u)u(ne,4);else for(const me of ne)me();Vl.delete(d)}},e?s?H(!0):B=d.run():a?a(H.bind(null,!0),!0):d.run(),F.pause=d.pause.bind(d),F.resume=d.resume.bind(d),F.stop=F,F}function Ks(t,e=1/0,n){if(e<=0||!mt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ht(t))Ks(t.value,e,n);else if(we(t))for(let s=0;s<t.length;s++)Ks(t[s],e,n);else if(Om(t)||io(t))t.forEach(s=>{Ks(s,e,n)});else if(Lm(t)){for(const s in t)Ks(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ks(t[s],e,n)}return t}function ka(t,e,n,s){try{return s?t(...s):t()}catch(r){fc(r,e,n)}}function ss(t,e,n,s){if(Pe(t)){const r=ka(t,e,n,s);return r&&Nm(r)&&r.catch(i=>{fc(i,e,n)}),r}if(we(t)){const r=[];for(let i=0;i<t.length;i++)r.push(ss(t[i],e,n,s));return r}}function fc(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||ut;if(e){let c=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const d=c.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,u,h)===!1)return}c=c.parent}if(i){Ys(),ka(i,null,10,[t,u,h]),Js();return}}mb(t,n,r,s,a)}function mb(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const En=[];let vs=-1;const oo=[];let Ir=null,Xi=0;const rg=Promise.resolve();let xl=null;function Dl(t){const e=xl||rg;return t?e.then(this?t.bind(this):t):e}function gb(t){let e=vs+1,n=En.length;for(;e<n;){const s=e+n>>>1,r=En[s],i=wa(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Oh(t){if(!(t.flags&1)){const e=wa(t),n=En[En.length-1];!n||!(t.flags&2)&&e>=wa(n)?En.push(t):En.splice(gb(e),0,t),t.flags|=1,ig()}}function ig(){xl||(xl=rg.then(ag))}function _b(t){we(t)?oo.push(...t):Ir&&t.id===-1?Ir.splice(Xi+1,0,t):t.flags&1||(oo.push(t),t.flags|=1),ig()}function Ed(t,e,n=vs+1){for(;n<En.length;n++){const s=En[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;En.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function og(t){if(oo.length){const e=[...new Set(oo)].sort((n,s)=>wa(n)-wa(s));if(oo.length=0,Ir){Ir.push(...e);return}for(Ir=e,Xi=0;Xi<Ir.length;Xi++){const n=Ir[Xi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ir=null,Xi=0}}const wa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ag(t){try{for(vs=0;vs<En.length;vs++){const e=En[vs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ka(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;vs<En.length;vs++){const e=En[vs];e&&(e.flags&=-2)}vs=-1,En.length=0,og(),xl=null,(En.length||oo.length)&&ag()}}let Vn=null,lg=null;function Ol(t){const e=Vn;return Vn=t,lg=t&&t.type.__scopeId||null,e}function Zn(t,e=Vn,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Ll(-1);const i=Ol(e);let a;try{a=t(...r)}finally{Ol(i),s._d&&Ll(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function hu(t,e){if(Vn===null)return t;const n=Ec(Vn),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,c,u=ut]=e[r];i&&(Pe(i)&&(i={mounted:i,updated:i}),i.deep&&Ks(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return t}function pi(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const c=r[a];i&&(c.oldValue=i[a].value);let u=c.dir[s];u&&(Ys(),ss(u,n,8,[t.el,c,t,e]),Js())}}function ao(t,e){if(dn){let n=dn.provides;const s=dn.parent&&dn.parent.provides;s===n&&(n=dn.provides=Object.create(s)),n[t]=e}}function zn(t,e,n=!1){const s=vc();if(s||lo){let r=lo?lo._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Pe(e)?e.call(s&&s.proxy):e}}const yb=Symbol.for("v-scx"),vb=()=>zn(yb);function Qs(t,e,n){return cg(t,e,n)}function cg(t,e,n=ut){const{immediate:s,deep:r,flush:i,once:a}=n,c=Wt({},n),u=e&&s||!e&&i!=="post";let h;if(Ia){if(i==="sync"){const b=vb();h=b.__watcherHandles||(b.__watcherHandles=[])}else if(!u){const b=()=>{};return b.stop=Ts,b.resume=Ts,b.pause=Ts,b}}const d=dn;c.call=(b,P,k)=>ss(b,d,P,k);let g=!1;i==="post"?c.scheduler=b=>{Pn(b,d&&d.suspense)}:i!=="sync"&&(g=!0,c.scheduler=(b,P)=>{P?b():Oh(b)}),c.augmentJob=b=>{e&&(b.flags|=4),g&&(b.flags|=2,d&&(b.id=d.uid,b.i=d))};const y=pb(t,e,c);return Ia&&(h?h.push(y):u&&y()),y}function Eb(t,e,n){const s=this.proxy,r=St(t)?t.includes(".")?ug(s,t):()=>s[t]:t.bind(s,s);let i;Pe(e)?i=e:(i=e.handler,n=e);const a=La(this),c=cg(r,i.bind(s),n);return a(),c}function ug(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const bb=Symbol("_vte"),hg=t=>t.__isTeleport,Ws=Symbol("_leaveCb"),fl=Symbol("_enterCb");function fg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return To(()=>{t.isMounted=!0}),kh(()=>{t.isUnmounting=!0}),t}const Un=[Function,Array],dg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Un,onEnter:Un,onAfterEnter:Un,onEnterCancelled:Un,onBeforeLeave:Un,onLeave:Un,onAfterLeave:Un,onLeaveCancelled:Un,onBeforeAppear:Un,onAppear:Un,onAfterAppear:Un,onAppearCancelled:Un},pg=t=>{const e=t.subTree;return e.component?pg(e.component):e},wb={name:"BaseTransition",props:dg,setup(t,{slots:e}){const n=vc(),s=fg();return()=>{const r=e.default&&Nh(e.default(),!0);if(!r||!r.length)return;const i=mg(r),a=Xe(t),{mode:c}=a;if(s.isLeaving)return fu(i);const u=bd(i);if(!u)return fu(i);let h=Ta(u,a,s,n,g=>h=g);u.type!==bn&&Ai(u,h);let d=n.subTree&&bd(n.subTree);if(d&&d.type!==bn&&!vi(d,u)&&pg(n).type!==bn){let g=Ta(d,a,s,n);if(Ai(d,g),c==="out-in"&&u.type!==bn)return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete g.afterLeave,d=void 0},fu(i);c==="in-out"&&u.type!==bn?g.delayLeave=(y,b,P)=>{const k=gg(s,d);k[String(d.key)]=d,y[Ws]=()=>{b(),y[Ws]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{P(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function mg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==bn){e=n;break}}return e}const Tb=wb;function gg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ta(t,e,n,s,r){const{appear:i,mode:a,persisted:c=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:y,onLeave:b,onAfterLeave:P,onLeaveCancelled:k,onBeforeAppear:L,onAppear:F,onAfterAppear:B,onAppearCancelled:H}=e,ne=String(t.key),me=gg(n,t),ve=(w,x)=>{w&&ss(w,s,9,x)},V=(w,x)=>{const R=x[1];ve(w,x),we(w)?w.every(C=>C.length<=1)&&R():w.length<=1&&R()},A={mode:a,persisted:c,beforeEnter(w){let x=u;if(!n.isMounted)if(i)x=L||u;else return;w[Ws]&&w[Ws](!0);const R=me[ne];R&&vi(t,R)&&R.el[Ws]&&R.el[Ws](),ve(x,[w])},enter(w){let x=h,R=d,C=g;if(!n.isMounted)if(i)x=F||h,R=B||d,C=H||g;else return;let T=!1;const Le=w[fl]=lt=>{T||(T=!0,lt?ve(C,[w]):ve(R,[w]),A.delayedLeave&&A.delayedLeave(),w[fl]=void 0)};x?V(x,[w,Le]):Le()},leave(w,x){const R=String(t.key);if(w[fl]&&w[fl](!0),n.isUnmounting)return x();ve(y,[w]);let C=!1;const T=w[Ws]=Le=>{C||(C=!0,x(),Le?ve(k,[w]):ve(P,[w]),w[Ws]=void 0,me[R]===t&&delete me[R])};me[R]=t,b?V(b,[w,T]):T()},clone(w){const x=Ta(w,e,n,s,r);return r&&r(x),x}};return A}function fu(t){if(dc(t))return t=Lr(t),t.children=null,t}function bd(t){if(!dc(t))return hg(t.type)&&t.children?mg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Pe(n.default))return n.default()}}function Ai(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ai(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Nh(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let a=t[i];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===jt?(a.patchFlag&128&&r++,s=s.concat(Nh(a.children,e,c))):(e||a.type!==bn)&&s.push(c!=null?Lr(a,{key:c}):a)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function _g(t,e){return Pe(t)?Wt({name:t.name},e,{setup:t}):t}function yg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Nl=new WeakMap;function ua(t,e,n,s,r=!1){if(we(t)){t.forEach((P,k)=>ua(P,e&&(we(e)?e[k]:e),n,s,r));return}if(ha(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ua(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Ec(s.component):s.el,a=r?null:i,{i:c,r:u}=t,h=e&&e.r,d=c.refs===ut?c.refs={}:c.refs,g=c.setupState,y=Xe(g),b=g===ut?Dm:P=>et(y,P);if(h!=null&&h!==u){if(wd(e),St(h))d[h]=null,b(h)&&(g[h]=null);else if(Ht(h)){h.value=null;const P=e;P.k&&(d[P.k]=null)}}if(Pe(u))ka(u,c,12,[a,d]);else{const P=St(u),k=Ht(u);if(P||k){const L=()=>{if(t.f){const F=P?b(u)?g[u]:d[u]:u.value;if(r)we(F)&&wh(F,i);else if(we(F))F.includes(i)||F.push(i);else if(P)d[u]=[i],b(u)&&(g[u]=d[u]);else{const B=[i];u.value=B,t.k&&(d[t.k]=B)}}else P?(d[u]=a,b(u)&&(g[u]=a)):k&&(u.value=a,t.k&&(d[t.k]=a))};if(a){const F=()=>{L(),Nl.delete(t)};F.id=-1,Nl.set(t,F),Pn(F,n)}else wd(t),L()}}}function wd(t){const e=Nl.get(t);e&&(e.flags|=8,Nl.delete(t))}cc().requestIdleCallback;cc().cancelIdleCallback;const ha=t=>!!t.type.__asyncLoader,dc=t=>t.type.__isKeepAlive;function Ab(t,e){vg(t,"a",e)}function Ib(t,e){vg(t,"da",e)}function vg(t,e,n=dn){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(pc(e,s,n),n){let r=n.parent;for(;r&&r.parent;)dc(r.parent.vnode)&&Cb(s,e,n,r),r=r.parent}}function Cb(t,e,n,s){const r=pc(e,t,s,!0);wg(()=>{wh(s[e],r)},n)}function pc(t,e,n=dn,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{Ys();const c=La(n),u=ss(e,n,t,a);return c(),Js(),u});return s?r.unshift(i):r.push(i),i}}const sr=t=>(e,n=dn)=>{(!Ia||t==="sp")&&pc(t,(...s)=>e(...s),n)},Eg=sr("bm"),To=sr("m"),Sb=sr("bu"),bg=sr("u"),kh=sr("bum"),wg=sr("um"),Rb=sr("sp"),Pb=sr("rtg"),Vb=sr("rtc");function xb(t,e=dn){pc("ec",t,e)}const Tg="components";function mc(t,e){return Ag(Tg,t,!0,e)||t}const Db=Symbol.for("v-ndc");function Ob(t){return St(t)&&Ag(Tg,t,!1)||t}function Ag(t,e,n=!0,s=!1){const r=Vn||dn;if(r){const i=r.type;{const c=yw(i,!1);if(c&&(c===e||c===Wn(e)||c===lc(Wn(e))))return i}const a=Td(r[t]||i[t],e)||Td(r.appContext[t],e);return!a&&s?i:a}}function Td(t,e){return t&&(t[e]||t[Wn(e)]||t[lc(Wn(e))])}function gc(t,e,n,s){let r;const i=n,a=we(t);if(a||St(t)){const c=a&&xr(t);let u=!1,h=!1;c&&(u=!Hn(t),h=Rs(t),t=hc(t)),r=new Array(t.length);for(let d=0,g=t.length;d<g;d++)r[d]=e(u?h?fo(ns(t[d])):ns(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let c=0;c<t;c++)r[c]=e(c+1,c,void 0,i)}else if(mt(t))if(t[Symbol.iterator])r=Array.from(t,(c,u)=>e(c,u,void 0,i));else{const c=Object.keys(t);r=new Array(c.length);for(let u=0,h=c.length;u<h;u++){const d=c[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}const Fu=t=>t?Hg(t)?Ec(t):Fu(t.parent):null,fa=Wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fu(t.parent),$root:t=>Fu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Cg(t),$forceUpdate:t=>t.f||(t.f=()=>{Oh(t.update)}),$nextTick:t=>t.n||(t.n=Dl.bind(t.proxy)),$watch:t=>Eb.bind(t)}),du=(t,e)=>t!==ut&&!t.__isScriptSetup&&et(t,e),Nb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:c,appContext:u}=t;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(du(s,e))return a[e]=1,s[e];if(r!==ut&&et(r,e))return a[e]=2,r[e];if(et(i,e))return a[e]=3,i[e];if(n!==ut&&et(n,e))return a[e]=4,n[e];Bu&&(a[e]=0)}}const h=fa[e];let d,g;if(h)return e==="$attrs"&&hn(t.attrs,"get",""),h(t);if((d=c.__cssModules)&&(d=d[e]))return d;if(n!==ut&&et(n,e))return a[e]=4,n[e];if(g=u.config.globalProperties,et(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return du(r,e)?(r[e]=n,!0):s!==ut&&et(s,e)?(s[e]=n,!0):et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,props:i,type:a}},c){let u;return!!(n[c]||t!==ut&&c[0]!=="$"&&et(t,c)||du(e,c)||et(i,c)||et(s,c)||et(fa,c)||et(r.config.globalProperties,c)||(u=a.__cssModules)&&u[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ad(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Bu=!0;function kb(t){const e=Cg(t),n=t.proxy,s=t.ctx;Bu=!1,e.beforeCreate&&Id(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:c,provide:u,inject:h,created:d,beforeMount:g,mounted:y,beforeUpdate:b,updated:P,activated:k,deactivated:L,beforeDestroy:F,beforeUnmount:B,destroyed:H,unmounted:ne,render:me,renderTracked:ve,renderTriggered:V,errorCaptured:A,serverPrefetch:w,expose:x,inheritAttrs:R,components:C,directives:T,filters:Le}=e;if(h&&Lb(h,s,null),a)for(const je in a){const De=a[je];Pe(De)&&(s[je]=De.bind(n))}if(r){const je=r.call(n,n);mt(je)&&(t.data=zr(je))}if(Bu=!0,i)for(const je in i){const De=i[je],Gt=Pe(De)?De.bind(n,n):Pe(De.get)?De.get.bind(n,n):Ts,Ue=!Pe(De)&&Pe(De.set)?De.set.bind(n):Ts,W=$e({get:Gt,set:Ue});Object.defineProperty(s,je,{enumerable:!0,configurable:!0,get:()=>W.value,set:Je=>W.value=Je})}if(c)for(const je in c)Ig(c[je],s,n,je);if(u){const je=Pe(u)?u.call(n):u;Reflect.ownKeys(je).forEach(De=>{ao(De,je[De])})}d&&Id(d,t,"c");function rt(je,De){we(De)?De.forEach(Gt=>je(Gt.bind(n))):De&&je(De.bind(n))}if(rt(Eg,g),rt(To,y),rt(Sb,b),rt(bg,P),rt(Ab,k),rt(Ib,L),rt(xb,A),rt(Vb,ve),rt(Pb,V),rt(kh,B),rt(wg,ne),rt(Rb,w),we(x))if(x.length){const je=t.exposed||(t.exposed={});x.forEach(De=>{Object.defineProperty(je,De,{get:()=>n[De],set:Gt=>n[De]=Gt,enumerable:!0})})}else t.exposed||(t.exposed={});me&&t.render===Ts&&(t.render=me),R!=null&&(t.inheritAttrs=R),C&&(t.components=C),T&&(t.directives=T),w&&yg(t)}function Lb(t,e,n=Ts){we(t)&&(t=ju(t));for(const s in t){const r=t[s];let i;mt(r)?"default"in r?i=zn(r.from||s,r.default,!0):i=zn(r.from||s):i=zn(r),Ht(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function Id(t,e,n){ss(we(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ig(t,e,n,s){let r=s.includes(".")?ug(n,s):()=>n[s];if(St(t)){const i=e[t];Pe(i)&&Qs(r,i)}else if(Pe(t))Qs(r,t.bind(n));else if(mt(t))if(we(t))t.forEach(i=>Ig(i,e,n,s));else{const i=Pe(t.handler)?t.handler.bind(n):e[t.handler];Pe(i)&&Qs(r,i,t)}}function Cg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,c=i.get(e);let u;return c?u=c:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(h=>kl(u,h,a,!0)),kl(u,e,a)),mt(e)&&i.set(e,u),u}function kl(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&kl(t,i,n,!0),r&&r.forEach(a=>kl(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const c=Mb[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const Mb={data:Cd,props:Sd,emits:Sd,methods:na,computed:na,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:na,directives:na,watch:Fb,provide:Cd,inject:$b};function Cd(t,e){return e?t?function(){return Wt(Pe(t)?t.call(this,this):t,Pe(e)?e.call(this,this):e)}:e:t}function $b(t,e){return na(ju(t),ju(e))}function ju(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function yn(t,e){return t?[...new Set([].concat(t,e))]:e}function na(t,e){return t?Wt(Object.create(null),t,e):e}function Sd(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:Wt(Object.create(null),Ad(t),Ad(e??{})):e}function Fb(t,e){if(!t)return e;if(!e)return t;const n=Wt(Object.create(null),t);for(const s in e)n[s]=yn(t[s],e[s]);return n}function Sg(){return{app:null,config:{isNativeTag:Dm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bb=0;function jb(t,e){return function(s,r=null){Pe(s)||(s=Wt({},s)),r!=null&&!mt(r)&&(r=null);const i=Sg(),a=new WeakSet,c=[];let u=!1;const h=i.app={_uid:Bb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Ew,get config(){return i.config},set config(d){},use(d,...g){return a.has(d)||(d&&Pe(d.install)?(a.add(d),d.install(h,...g)):Pe(d)&&(a.add(d),d(h,...g))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,g){return g?(i.components[d]=g,h):i.components[d]},directive(d,g){return g?(i.directives[d]=g,h):i.directives[d]},mount(d,g,y){if(!u){const b=h._ceVNode||Ke(s,r);return b.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),t(b,d,y),u=!0,h._container=d,d.__vue_app__=h,Ec(b.component)}},onUnmount(d){c.push(d)},unmount(){u&&(ss(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,g){return i.provides[d]=g,h},runWithContext(d){const g=lo;lo=h;try{return d()}finally{lo=g}}};return h}}let lo=null;const Ub=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wn(e)}Modifiers`]||t[`${Si(e)}Modifiers`];function qb(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ut;let r=n;const i=e.startsWith("update:"),a=i&&Ub(s,e.slice(7));a&&(a.trim&&(r=n.map(d=>St(d)?d.trim():d)),a.number&&(r=n.map(Ah)));let c,u=s[c=ou(e)]||s[c=ou(Wn(e))];!u&&i&&(u=s[c=ou(Si(e))]),u&&ss(u,t,6,r);const h=s[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,ss(h,t,6,r)}}const Hb=new WeakMap;function Rg(t,e,n=!1){const s=n?Hb:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let a={},c=!1;if(!Pe(t)){const u=h=>{const d=Rg(h,e,!0);d&&(c=!0,Wt(a,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!c?(mt(t)&&s.set(t,null),null):(we(i)?i.forEach(u=>a[u]=null):Wt(a,i),mt(t)&&s.set(t,a),a)}function _c(t,e){return!t||!ic(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(t,e[0].toLowerCase()+e.slice(1))||et(t,Si(e))||et(t,e))}function Rd(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:c,emit:u,render:h,renderCache:d,props:g,data:y,setupState:b,ctx:P,inheritAttrs:k}=t,L=Ol(t);let F,B;try{if(n.shapeFlag&4){const ne=r||s,me=ne;F=ws(h.call(me,ne,d,g,b,y,P)),B=c}else{const ne=e;F=ws(ne.length>1?ne(g,{attrs:c,slots:a,emit:u}):ne(g,null)),B=e.props?c:zb(c)}}catch(ne){da.length=0,fc(ne,t,1),F=Ke(bn)}let H=F;if(B&&k!==!1){const ne=Object.keys(B),{shapeFlag:me}=H;ne.length&&me&7&&(i&&ne.some(bh)&&(B=Wb(B,i)),H=Lr(H,B,!1,!0))}return n.dirs&&(H=Lr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&Ai(H,n.transition),F=H,Ol(L),F}const zb=t=>{let e;for(const n in t)(n==="class"||n==="style"||ic(n))&&((e||(e={}))[n]=t[n]);return e},Wb=(t,e)=>{const n={};for(const s in t)(!bh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Gb(t,e,n){const{props:s,children:r,component:i}=t,{props:a,children:c,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Pd(s,a,h):!!a;if(u&8){const d=e.dynamicProps;for(let g=0;g<d.length;g++){const y=d[g];if(a[y]!==s[y]&&!_c(h,y))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:s===a?!1:s?a?Pd(s,a,h):!0:!!a;return!1}function Pd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!_c(n,i))return!0}return!1}function Kb({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Pg={},Vg=()=>Object.create(Pg),xg=t=>Object.getPrototypeOf(t)===Pg;function Qb(t,e,n,s=!1){const r={},i=Vg();t.propsDefaults=Object.create(null),Dg(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:tg(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Xb(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,c=Xe(r),[u]=t.propsOptions;let h=!1;if((s||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let g=0;g<d.length;g++){let y=d[g];if(_c(t.emitsOptions,y))continue;const b=e[y];if(u)if(et(i,y))b!==i[y]&&(i[y]=b,h=!0);else{const P=Wn(y);r[P]=Uu(u,c,P,b,t,!1)}else b!==i[y]&&(i[y]=b,h=!0)}}}else{Dg(t,e,r,i)&&(h=!0);let d;for(const g in c)(!e||!et(e,g)&&((d=Si(g))===g||!et(e,d)))&&(u?n&&(n[g]!==void 0||n[d]!==void 0)&&(r[g]=Uu(u,c,g,void 0,t,!0)):delete r[g]);if(i!==c)for(const g in i)(!e||!et(e,g))&&(delete i[g],h=!0)}h&&Gs(t.attrs,"set","")}function Dg(t,e,n,s){const[r,i]=t.propsOptions;let a=!1,c;if(e)for(let u in e){if(aa(u))continue;const h=e[u];let d;r&&et(r,d=Wn(u))?!i||!i.includes(d)?n[d]=h:(c||(c={}))[d]=h:_c(t.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,a=!0)}if(i){const u=Xe(n),h=c||ut;for(let d=0;d<i.length;d++){const g=i[d];n[g]=Uu(r,u,g,h[g],t,!et(h,g))}}return a}function Uu(t,e,n,s,r,i){const a=t[n];if(a!=null){const c=et(a,"default");if(c&&s===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Pe(u)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=La(r);s=h[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!c?s=!1:a[1]&&(s===""||s===Si(n))&&(s=!0))}return s}const Yb=new WeakMap;function Og(t,e,n=!1){const s=n?Yb:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,a={},c=[];let u=!1;if(!Pe(t)){const d=g=>{u=!0;const[y,b]=Og(g,e,!0);Wt(a,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return mt(t)&&s.set(t,ro),ro;if(we(i))for(let d=0;d<i.length;d++){const g=Wn(i[d]);Vd(g)&&(a[g]=ut)}else if(i)for(const d in i){const g=Wn(d);if(Vd(g)){const y=i[d],b=a[g]=we(y)||Pe(y)?{type:y}:Wt({},y),P=b.type;let k=!1,L=!0;if(we(P))for(let F=0;F<P.length;++F){const B=P[F],H=Pe(B)&&B.name;if(H==="Boolean"){k=!0;break}else H==="String"&&(L=!1)}else k=Pe(P)&&P.name==="Boolean";b[0]=k,b[1]=L,(k||et(b,"default"))&&c.push(g)}}const h=[a,c];return mt(t)&&s.set(t,h),h}function Vd(t){return t[0]!=="$"&&!aa(t)}const Lh=t=>t==="_"||t==="_ctx"||t==="$stable",Mh=t=>we(t)?t.map(ws):[ws(t)],Jb=(t,e,n)=>{if(e._n)return e;const s=Zn((...r)=>Mh(e(...r)),n);return s._c=!1,s},Ng=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Lh(r))continue;const i=t[r];if(Pe(i))e[r]=Jb(r,i,s);else if(i!=null){const a=Mh(i);e[r]=()=>a}}},kg=(t,e)=>{const n=Mh(e);t.slots.default=()=>n},Lg=(t,e,n)=>{for(const s in e)(n||!Lh(s))&&(t[s]=e[s])},Zb=(t,e,n)=>{const s=t.slots=Vg();if(t.vnode.shapeFlag&32){const r=e._;r?(Lg(s,e,n),n&&Mm(s,"_",r,!0)):Ng(e,s)}else e&&kg(t,e)},ew=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,a=ut;if(s.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:Lg(r,e,n):(i=!e.$stable,Ng(e,r)),a=e}else e&&(kg(t,e),a={default:1});if(i)for(const c in r)!Lh(c)&&a[c]==null&&delete r[c]},Pn=iw;function tw(t){return nw(t)}function nw(t,e){const n=cc();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:c,createComment:u,setText:h,setElementText:d,parentNode:g,nextSibling:y,setScopeId:b=Ts,insertStaticContent:P}=t,k=(I,S,N,G=null,K=null,z=null,ie=void 0,te=null,ee=!!S.dynamicChildren)=>{if(I===S)return;I&&!vi(I,S)&&(G=q(I),Je(I,K,z,!0),I=null),S.patchFlag===-2&&(ee=!1,S.dynamicChildren=null);const{type:J,ref:_e,shapeFlag:oe}=S;switch(J){case yc:L(I,S,N,G);break;case bn:F(I,S,N,G);break;case vl:I==null&&B(S,N,G,ie);break;case jt:C(I,S,N,G,K,z,ie,te,ee);break;default:oe&1?me(I,S,N,G,K,z,ie,te,ee):oe&6?T(I,S,N,G,K,z,ie,te,ee):(oe&64||oe&128)&&J.process(I,S,N,G,K,z,ie,te,ee,de)}_e!=null&&K?ua(_e,I&&I.ref,z,S||I,!S):_e==null&&I&&I.ref!=null&&ua(I.ref,null,z,I,!0)},L=(I,S,N,G)=>{if(I==null)s(S.el=c(S.children),N,G);else{const K=S.el=I.el;S.children!==I.children&&h(K,S.children)}},F=(I,S,N,G)=>{I==null?s(S.el=u(S.children||""),N,G):S.el=I.el},B=(I,S,N,G)=>{[I.el,I.anchor]=P(I.children,S,N,G,I.el,I.anchor)},H=({el:I,anchor:S},N,G)=>{let K;for(;I&&I!==S;)K=y(I),s(I,N,G),I=K;s(S,N,G)},ne=({el:I,anchor:S})=>{let N;for(;I&&I!==S;)N=y(I),r(I),I=N;r(S)},me=(I,S,N,G,K,z,ie,te,ee)=>{if(S.type==="svg"?ie="svg":S.type==="math"&&(ie="mathml"),I==null)ve(S,N,G,K,z,ie,te,ee);else{const J=I.el&&I.el._isVueCE?I.el:null;try{J&&J._beginPatch(),w(I,S,K,z,ie,te,ee)}finally{J&&J._endPatch()}}},ve=(I,S,N,G,K,z,ie,te)=>{let ee,J;const{props:_e,shapeFlag:oe,transition:pe,dirs:ge}=I;if(ee=I.el=a(I.type,z,_e&&_e.is,_e),oe&8?d(ee,I.children):oe&16&&A(I.children,ee,null,G,K,pu(I,z),ie,te),ge&&pi(I,null,G,"created"),V(ee,I,I.scopeId,ie,G),_e){for(const Qe in _e)Qe!=="value"&&!aa(Qe)&&i(ee,Qe,null,_e[Qe],z,G);"value"in _e&&i(ee,"value",null,_e.value,z),(J=_e.onVnodeBeforeMount)&&_s(J,G,I)}ge&&pi(I,null,G,"beforeMount");const Te=sw(K,pe);Te&&pe.beforeEnter(ee),s(ee,S,N),((J=_e&&_e.onVnodeMounted)||Te||ge)&&Pn(()=>{J&&_s(J,G,I),Te&&pe.enter(ee),ge&&pi(I,null,G,"mounted")},K)},V=(I,S,N,G,K)=>{if(N&&b(I,N),G)for(let z=0;z<G.length;z++)b(I,G[z]);if(K){let z=K.subTree;if(S===z||Bg(z.type)&&(z.ssContent===S||z.ssFallback===S)){const ie=K.vnode;V(I,ie,ie.scopeId,ie.slotScopeIds,K.parent)}}},A=(I,S,N,G,K,z,ie,te,ee=0)=>{for(let J=ee;J<I.length;J++){const _e=I[J]=te?Cr(I[J]):ws(I[J]);k(null,_e,S,N,G,K,z,ie,te)}},w=(I,S,N,G,K,z,ie)=>{const te=S.el=I.el;let{patchFlag:ee,dynamicChildren:J,dirs:_e}=S;ee|=I.patchFlag&16;const oe=I.props||ut,pe=S.props||ut;let ge;if(N&&mi(N,!1),(ge=pe.onVnodeBeforeUpdate)&&_s(ge,N,S,I),_e&&pi(S,I,N,"beforeUpdate"),N&&mi(N,!0),(oe.innerHTML&&pe.innerHTML==null||oe.textContent&&pe.textContent==null)&&d(te,""),J?x(I.dynamicChildren,J,te,N,G,pu(S,K),z):ie||De(I,S,te,null,N,G,pu(S,K),z,!1),ee>0){if(ee&16)R(te,oe,pe,N,K);else if(ee&2&&oe.class!==pe.class&&i(te,"class",null,pe.class,K),ee&4&&i(te,"style",oe.style,pe.style,K),ee&8){const Te=S.dynamicProps;for(let Qe=0;Qe<Te.length;Qe++){const qe=Te[Qe],Kt=oe[qe],At=pe[qe];(At!==Kt||qe==="value")&&i(te,qe,Kt,At,K,N)}}ee&1&&I.children!==S.children&&d(te,S.children)}else!ie&&J==null&&R(te,oe,pe,N,K);((ge=pe.onVnodeUpdated)||_e)&&Pn(()=>{ge&&_s(ge,N,S,I),_e&&pi(S,I,N,"updated")},G)},x=(I,S,N,G,K,z,ie)=>{for(let te=0;te<S.length;te++){const ee=I[te],J=S[te],_e=ee.el&&(ee.type===jt||!vi(ee,J)||ee.shapeFlag&198)?g(ee.el):N;k(ee,J,_e,null,G,K,z,ie,!0)}},R=(I,S,N,G,K)=>{if(S!==N){if(S!==ut)for(const z in S)!aa(z)&&!(z in N)&&i(I,z,S[z],null,K,G);for(const z in N){if(aa(z))continue;const ie=N[z],te=S[z];ie!==te&&z!=="value"&&i(I,z,te,ie,K,G)}"value"in N&&i(I,"value",S.value,N.value,K)}},C=(I,S,N,G,K,z,ie,te,ee)=>{const J=S.el=I?I.el:c(""),_e=S.anchor=I?I.anchor:c("");let{patchFlag:oe,dynamicChildren:pe,slotScopeIds:ge}=S;ge&&(te=te?te.concat(ge):ge),I==null?(s(J,N,G),s(_e,N,G),A(S.children||[],N,_e,K,z,ie,te,ee)):oe>0&&oe&64&&pe&&I.dynamicChildren&&I.dynamicChildren.length===pe.length?(x(I.dynamicChildren,pe,N,K,z,ie,te),(S.key!=null||K&&S===K.subTree)&&Mg(I,S,!0)):De(I,S,N,_e,K,z,ie,te,ee)},T=(I,S,N,G,K,z,ie,te,ee)=>{S.slotScopeIds=te,I==null?S.shapeFlag&512?K.ctx.activate(S,N,G,ie,ee):Le(S,N,G,K,z,ie,ee):lt(I,S,ee)},Le=(I,S,N,G,K,z,ie)=>{const te=I.component=dw(I,G,K);if(dc(I)&&(te.ctx.renderer=de),pw(te,!1,ie),te.asyncDep){if(K&&K.registerDep(te,rt,ie),!I.el){const ee=te.subTree=Ke(bn);F(null,ee,S,N),I.placeholder=ee.el}}else rt(te,I,S,N,K,z,ie)},lt=(I,S,N)=>{const G=S.component=I.component;if(Gb(I,S,N))if(G.asyncDep&&!G.asyncResolved){je(G,S,N);return}else G.next=S,G.update();else S.el=I.el,G.vnode=S},rt=(I,S,N,G,K,z,ie)=>{const te=()=>{if(I.isMounted){let{next:oe,bu:pe,u:ge,parent:Te,vnode:Qe}=I;{const Nt=$g(I);if(Nt){oe&&(oe.el=Qe.el,je(I,oe,ie)),Nt.asyncDep.then(()=>{I.isUnmounted||te()});return}}let qe=oe,Kt;mi(I,!1),oe?(oe.el=Qe.el,je(I,oe,ie)):oe=Qe,pe&&yl(pe),(Kt=oe.props&&oe.props.onVnodeBeforeUpdate)&&_s(Kt,Te,oe,Qe),mi(I,!0);const At=Rd(I),Ot=I.subTree;I.subTree=At,k(Ot,At,g(Ot.el),q(Ot),I,K,z),oe.el=At.el,qe===null&&Kb(I,At.el),ge&&Pn(ge,K),(Kt=oe.props&&oe.props.onVnodeUpdated)&&Pn(()=>_s(Kt,Te,oe,Qe),K)}else{let oe;const{el:pe,props:ge}=S,{bm:Te,m:Qe,parent:qe,root:Kt,type:At}=I,Ot=ha(S);mi(I,!1),Te&&yl(Te),!Ot&&(oe=ge&&ge.onVnodeBeforeMount)&&_s(oe,qe,S),mi(I,!0);{Kt.ce&&Kt.ce._def.shadowRoot!==!1&&Kt.ce._injectChildStyle(At);const Nt=I.subTree=Rd(I);k(null,Nt,N,G,I,K,z),S.el=Nt.el}if(Qe&&Pn(Qe,K),!Ot&&(oe=ge&&ge.onVnodeMounted)){const Nt=S;Pn(()=>_s(oe,qe,Nt),K)}(S.shapeFlag&256||qe&&ha(qe.vnode)&&qe.vnode.shapeFlag&256)&&I.a&&Pn(I.a,K),I.isMounted=!0,S=N=G=null}};I.scope.on();const ee=I.effect=new jm(te);I.scope.off();const J=I.update=ee.run.bind(ee),_e=I.job=ee.runIfDirty.bind(ee);_e.i=I,_e.id=I.uid,ee.scheduler=()=>Oh(_e),mi(I,!0),J()},je=(I,S,N)=>{S.component=I;const G=I.vnode.props;I.vnode=S,I.next=null,Xb(I,S.props,G,N),ew(I,S.children,N),Ys(),Ed(I),Js()},De=(I,S,N,G,K,z,ie,te,ee=!1)=>{const J=I&&I.children,_e=I?I.shapeFlag:0,oe=S.children,{patchFlag:pe,shapeFlag:ge}=S;if(pe>0){if(pe&128){Ue(J,oe,N,G,K,z,ie,te,ee);return}else if(pe&256){Gt(J,oe,N,G,K,z,ie,te,ee);return}}ge&8?(_e&16&&Tt(J,K,z),oe!==J&&d(N,oe)):_e&16?ge&16?Ue(J,oe,N,G,K,z,ie,te,ee):Tt(J,K,z,!0):(_e&8&&d(N,""),ge&16&&A(oe,N,G,K,z,ie,te,ee))},Gt=(I,S,N,G,K,z,ie,te,ee)=>{I=I||ro,S=S||ro;const J=I.length,_e=S.length,oe=Math.min(J,_e);let pe;for(pe=0;pe<oe;pe++){const ge=S[pe]=ee?Cr(S[pe]):ws(S[pe]);k(I[pe],ge,N,null,K,z,ie,te,ee)}J>_e?Tt(I,K,z,!0,!1,oe):A(S,N,G,K,z,ie,te,ee,oe)},Ue=(I,S,N,G,K,z,ie,te,ee)=>{let J=0;const _e=S.length;let oe=I.length-1,pe=_e-1;for(;J<=oe&&J<=pe;){const ge=I[J],Te=S[J]=ee?Cr(S[J]):ws(S[J]);if(vi(ge,Te))k(ge,Te,N,null,K,z,ie,te,ee);else break;J++}for(;J<=oe&&J<=pe;){const ge=I[oe],Te=S[pe]=ee?Cr(S[pe]):ws(S[pe]);if(vi(ge,Te))k(ge,Te,N,null,K,z,ie,te,ee);else break;oe--,pe--}if(J>oe){if(J<=pe){const ge=pe+1,Te=ge<_e?S[ge].el:G;for(;J<=pe;)k(null,S[J]=ee?Cr(S[J]):ws(S[J]),N,Te,K,z,ie,te,ee),J++}}else if(J>pe)for(;J<=oe;)Je(I[J],K,z,!0),J++;else{const ge=J,Te=J,Qe=new Map;for(J=Te;J<=pe;J++){const Pt=S[J]=ee?Cr(S[J]):ws(S[J]);Pt.key!=null&&Qe.set(Pt.key,J)}let qe,Kt=0;const At=pe-Te+1;let Ot=!1,Nt=0;const sn=new Array(At);for(J=0;J<At;J++)sn[J]=0;for(J=ge;J<=oe;J++){const Pt=I[J];if(Kt>=At){Je(Pt,K,z,!0);continue}let kt;if(Pt.key!=null)kt=Qe.get(Pt.key);else for(qe=Te;qe<=pe;qe++)if(sn[qe-Te]===0&&vi(Pt,S[qe])){kt=qe;break}kt===void 0?Je(Pt,K,z,!0):(sn[kt-Te]=J+1,kt>=Nt?Nt=kt:Ot=!0,k(Pt,S[kt],N,null,K,z,ie,te,ee),Kt++)}const ir=Ot?rw(sn):ro;for(qe=ir.length-1,J=At-1;J>=0;J--){const Pt=Te+J,kt=S[Pt],Kr=S[Pt+1],xs=Pt+1<_e?Kr.el||Fg(Kr):G;sn[J]===0?k(null,kt,N,xs,K,z,ie,te,ee):Ot&&(qe<0||J!==ir[qe]?W(kt,N,xs,2):qe--)}}},W=(I,S,N,G,K=null)=>{const{el:z,type:ie,transition:te,children:ee,shapeFlag:J}=I;if(J&6){W(I.component.subTree,S,N,G);return}if(J&128){I.suspense.move(S,N,G);return}if(J&64){ie.move(I,S,N,de);return}if(ie===jt){s(z,S,N);for(let oe=0;oe<ee.length;oe++)W(ee[oe],S,N,G);s(I.anchor,S,N);return}if(ie===vl){H(I,S,N);return}if(G!==2&&J&1&&te)if(G===0)te.beforeEnter(z),s(z,S,N),Pn(()=>te.enter(z),K);else{const{leave:oe,delayLeave:pe,afterLeave:ge}=te,Te=()=>{I.ctx.isUnmounted?r(z):s(z,S,N)},Qe=()=>{z._isLeaving&&z[Ws](!0),oe(z,()=>{Te(),ge&&ge()})};pe?pe(z,Te,Qe):Qe()}else s(z,S,N)},Je=(I,S,N,G=!1,K=!1)=>{const{type:z,props:ie,ref:te,children:ee,dynamicChildren:J,shapeFlag:_e,patchFlag:oe,dirs:pe,cacheIndex:ge}=I;if(oe===-2&&(K=!1),te!=null&&(Ys(),ua(te,null,N,I,!0),Js()),ge!=null&&(S.renderCache[ge]=void 0),_e&256){S.ctx.deactivate(I);return}const Te=_e&1&&pe,Qe=!ha(I);let qe;if(Qe&&(qe=ie&&ie.onVnodeBeforeUnmount)&&_s(qe,S,I),_e&6)Rt(I.component,N,G);else{if(_e&128){I.suspense.unmount(N,G);return}Te&&pi(I,null,S,"beforeUnmount"),_e&64?I.type.remove(I,S,N,de,G):J&&!J.hasOnce&&(z!==jt||oe>0&&oe&64)?Tt(J,S,N,!1,!0):(z===jt&&oe&384||!K&&_e&16)&&Tt(ee,S,N),G&&On(I)}(Qe&&(qe=ie&&ie.onVnodeUnmounted)||Te)&&Pn(()=>{qe&&_s(qe,S,I),Te&&pi(I,null,S,"unmounted")},N)},On=I=>{const{type:S,el:N,anchor:G,transition:K}=I;if(S===jt){pn(N,G);return}if(S===vl){ne(I);return}const z=()=>{r(N),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(I.shapeFlag&1&&K&&!K.persisted){const{leave:ie,delayLeave:te}=K,ee=()=>ie(N,z);te?te(I.el,z,ee):ee()}else z()},pn=(I,S)=>{let N;for(;I!==S;)N=y(I),r(I),I=N;r(S)},Rt=(I,S,N)=>{const{bum:G,scope:K,job:z,subTree:ie,um:te,m:ee,a:J}=I;xd(ee),xd(J),G&&yl(G),K.stop(),z&&(z.flags|=8,Je(ie,I,S,N)),te&&Pn(te,S),Pn(()=>{I.isUnmounted=!0},S)},Tt=(I,S,N,G=!1,K=!1,z=0)=>{for(let ie=z;ie<I.length;ie++)Je(I[ie],S,N,G,K)},q=I=>{if(I.shapeFlag&6)return q(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const S=y(I.anchor||I.el),N=S&&S[bb];return N?y(N):S};let ae=!1;const U=(I,S,N)=>{let G;I==null?S._vnode&&(Je(S._vnode,null,null,!0),G=S._vnode.component):k(S._vnode||null,I,S,null,null,null,N),S._vnode=I,ae||(ae=!0,Ed(G),og(),ae=!1)},de={p:k,um:Je,m:W,r:On,mt:Le,mc:A,pc:De,pbc:x,n:q,o:t};return{render:U,hydrate:void 0,createApp:jb(U)}}function pu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function mi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mg(t,e,n=!1){const s=t.children,r=e.children;if(we(s)&&we(r))for(let i=0;i<s.length;i++){const a=s[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=Cr(r[i]),c.el=a.el),!n&&c.patchFlag!==-2&&Mg(a,c)),c.type===yc&&(c.patchFlag!==-1?c.el=a.el:c.__elIndex=i+(t.type===jt?1:0)),c.type===bn&&!c.el&&(c.el=a.el)}}function rw(t){const e=t.slice(),n=[0];let s,r,i,a,c;const u=t.length;for(s=0;s<u;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)c=i+a>>1,t[n[c]]<h?i=c+1:a=c;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function $g(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$g(e)}function xd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Fg(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Fg(e.subTree):null}const Bg=t=>t.__isSuspense;function iw(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):_b(t)}const jt=Symbol.for("v-fgt"),yc=Symbol.for("v-txt"),bn=Symbol.for("v-cmt"),vl=Symbol.for("v-stc"),da=[];let xn=null;function ht(t=!1){da.push(xn=t?null:[])}function ow(){da.pop(),xn=da[da.length-1]||null}let Aa=1;function Ll(t,e=!1){Aa+=t,t<0&&xn&&e&&(xn.hasOnce=!0)}function jg(t){return t.dynamicChildren=Aa>0?xn||ro:null,ow(),Aa>0&&xn&&xn.push(t),t}function yt(t,e,n,s,r,i){return jg(Z(t,e,n,s,r,i,!0))}function Ug(t,e,n,s,r){return jg(Ke(t,e,n,s,r,!0))}function Ml(t){return t?t.__v_isVNode===!0:!1}function vi(t,e){return t.type===e.type&&t.key===e.key}const qg=({key:t})=>t??null,El=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?St(t)||Ht(t)||Pe(t)?{i:Vn,r:t,k:e,f:!!n}:t:null);function Z(t,e=null,n=null,s=0,r=null,i=t===jt?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qg(e),ref:e&&El(e),scopeId:lg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Vn};return c?($h(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=St(n)?8:16),Aa>0&&!a&&xn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&xn.push(u),u}const Ke=aw;function aw(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Db)&&(t=bn),Ml(t)){const c=Lr(t,e,!0);return n&&$h(c,n),Aa>0&&!i&&xn&&(c.shapeFlag&6?xn[xn.indexOf(t)]=c:xn.push(c)),c.patchFlag=-2,c}if(vw(t)&&(t=t.__vccOpts),e){e=lw(e);let{class:c,style:u}=e;c&&!St(c)&&(e.class=uc(c)),mt(u)&&(Dh(u)&&!we(u)&&(u=Wt({},u)),e.style=Ih(u))}const a=St(t)?1:Bg(t)?128:hg(t)?64:mt(t)?4:Pe(t)?2:0;return Z(t,e,n,s,r,a,i,!0)}function lw(t){return t?Dh(t)||xg(t)?Wt({},t):t:null}function Lr(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:c,transition:u}=t,h=e?uw(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&qg(h),ref:e&&e.ref?n&&i?we(i)?i.concat(El(e)):[i,El(e)]:El(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Lr(t.ssContent),ssFallback:t.ssFallback&&Lr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Ai(d,u.clone(d)),d}function bs(t=" ",e=0){return Ke(yc,null,t,e)}function cw(t,e){const n=Ke(vl,null,t);return n.staticCount=e,n}function $l(t="",e=!1){return e?(ht(),Ug(bn,null,t)):Ke(bn,null,t)}function ws(t){return t==null||typeof t=="boolean"?Ke(bn):we(t)?Ke(jt,null,t.slice()):Ml(t)?Cr(t):Ke(yc,null,String(t))}function Cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Lr(t)}function $h(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),$h(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!xg(e)?e._ctx=Vn:r===3&&Vn&&(Vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pe(e)?(e={default:e,_ctx:Vn},n=32):(e=String(e),s&64?(n=16,e=[bs(e)]):n=8);t.children=e,t.shapeFlag|=n}function uw(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=uc([e.class,s.class]));else if(r==="style")e.style=Ih([e.style,s.style]);else if(ic(r)){const i=e[r],a=s[r];a&&i!==a&&!(we(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=s[r])}return e}function _s(t,e,n,s=null){ss(t,e,7,[n,s])}const hw=Sg();let fw=0;function dw(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||hw,i={uid:fw++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Og(s,r),emitsOptions:Rg(s,r),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=qb.bind(null,i),t.ce&&t.ce(i),i}let dn=null;const vc=()=>dn||Vn;let Fl,qu;{const t=cc(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Fl=e("__VUE_INSTANCE_SETTERS__",n=>dn=n),qu=e("__VUE_SSR_SETTERS__",n=>Ia=n)}const La=t=>{const e=dn;return Fl(t),t.scope.on(),()=>{t.scope.off(),Fl(e)}},Dd=()=>{dn&&dn.scope.off(),Fl(null)};function Hg(t){return t.vnode.shapeFlag&4}let Ia=!1;function pw(t,e=!1,n=!1){e&&qu(e);const{props:s,children:r}=t.vnode,i=Hg(t);Qb(t,s,i,e),Zb(t,r,n||e);const a=i?mw(t,e):void 0;return e&&qu(!1),a}function mw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Nb);const{setup:s}=n;if(s){Ys();const r=t.setupContext=s.length>1?_w(t):null,i=La(t),a=ka(s,t,0,[t.props,r]),c=Nm(a);if(Js(),i(),(c||t.sp)&&!ha(t)&&yg(t),c){if(a.then(Dd,Dd),e)return a.then(u=>{Od(t,u)}).catch(u=>{fc(u,t,0)});t.asyncDep=a}else Od(t,a)}else zg(t)}function Od(t,e,n){Pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mt(e)&&(t.setupState=sg(e)),zg(t)}function zg(t,e,n){const s=t.type;t.render||(t.render=s.render||Ts);{const r=La(t);Ys();try{kb(t)}finally{Js(),r()}}}const gw={get(t,e){return hn(t,"get",""),t[e]}};function _w(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,gw),slots:t.slots,emit:t.emit,expose:e}}function Ec(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sg(ab(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fa)return fa[n](t)},has(e,n){return n in e||n in fa}})):t.proxy}function yw(t,e=!0){return Pe(t)?t.displayName||t.name:t.name||e&&t.__name}function vw(t){return Pe(t)&&"__vccOpts"in t}const $e=(t,e)=>fb(t,e,Ia);function Fh(t,e,n){try{Ll(-1);const s=arguments.length;return s===2?mt(e)&&!we(e)?Ml(e)?Ke(t,null,[e]):Ke(t,e):Ke(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ml(n)&&(n=[n]),Ke(t,e,n))}finally{Ll(1)}}const Ew="3.5.26";let Hu;const Nd=typeof window<"u"&&window.trustedTypes;if(Nd)try{Hu=Nd.createPolicy("vue",{createHTML:t=>t})}catch{}const Wg=Hu?t=>Hu.createHTML(t):t=>t,bw="http://www.w3.org/2000/svg",ww="http://www.w3.org/1998/Math/MathML",zs=typeof document<"u"?document:null,kd=zs&&zs.createElement("template"),Tw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?zs.createElementNS(bw,t):e==="mathml"?zs.createElementNS(ww,t):n?zs.createElement(t,{is:n}):zs.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>zs.createTextNode(t),createComment:t=>zs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>zs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const a=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{kd.innerHTML=Wg(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const c=kd.content;if(s==="svg"||s==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},br="transition",ea="animation",po=Symbol("_vtc"),Gg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kg=Wt({},dg,Gg),Aw=t=>(t.displayName="Transition",t.props=Kg,t),Iw=Aw((t,{slots:e})=>Fh(Tb,Qg(t),e)),gi=(t,e=[])=>{we(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ld=t=>t?we(t)?t.some(e=>e.length>1):t.length>1:!1;function Qg(t){const e={};for(const C in t)C in Gg||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:h=a,appearToClass:d=c,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,P=Cw(r),k=P&&P[0],L=P&&P[1],{onBeforeEnter:F,onEnter:B,onEnterCancelled:H,onLeave:ne,onLeaveCancelled:me,onBeforeAppear:ve=F,onAppear:V=B,onAppearCancelled:A=H}=e,w=(C,T,Le,lt)=>{C._enterCancelled=lt,Tr(C,T?d:c),Tr(C,T?h:a),Le&&Le()},x=(C,T)=>{C._isLeaving=!1,Tr(C,g),Tr(C,b),Tr(C,y),T&&T()},R=C=>(T,Le)=>{const lt=C?V:B,rt=()=>w(T,C,Le);gi(lt,[T,rt]),Md(()=>{Tr(T,C?u:i),ys(T,C?d:c),Ld(lt)||$d(T,s,k,rt)})};return Wt(e,{onBeforeEnter(C){gi(F,[C]),ys(C,i),ys(C,a)},onBeforeAppear(C){gi(ve,[C]),ys(C,u),ys(C,h)},onEnter:R(!1),onAppear:R(!0),onLeave(C,T){C._isLeaving=!0;const Le=()=>x(C,T);ys(C,g),C._enterCancelled?(ys(C,y),zu(C)):(zu(C),ys(C,y)),Md(()=>{C._isLeaving&&(Tr(C,g),ys(C,b),Ld(ne)||$d(C,s,L,Le))}),gi(ne,[C,Le])},onEnterCancelled(C){w(C,!1,void 0,!0),gi(H,[C])},onAppearCancelled(C){w(C,!0,void 0,!0),gi(A,[C])},onLeaveCancelled(C){x(C),gi(me,[C])}})}function Cw(t){if(t==null)return null;if(mt(t))return[mu(t.enter),mu(t.leave)];{const e=mu(t);return[e,e]}}function mu(t){return NE(t)}function ys(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[po]||(t[po]=new Set)).add(e)}function Tr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[po];n&&(n.delete(e),n.size||(t[po]=void 0))}function Md(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sw=0;function $d(t,e,n,s){const r=t._endId=++Sw,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:c,propCount:u}=Xg(t,e);if(!a)return s();const h=a+"end";let d=0;const g=()=>{t.removeEventListener(h,y),i()},y=b=>{b.target===t&&++d>=u&&g()};setTimeout(()=>{d<u&&g()},c+1),t.addEventListener(h,y)}function Xg(t,e){const n=window.getComputedStyle(t),s=P=>(n[P]||"").split(", "),r=s(`${br}Delay`),i=s(`${br}Duration`),a=Fd(r,i),c=s(`${ea}Delay`),u=s(`${ea}Duration`),h=Fd(c,u);let d=null,g=0,y=0;e===br?a>0&&(d=br,g=a,y=i.length):e===ea?h>0&&(d=ea,g=h,y=u.length):(g=Math.max(a,h),d=g>0?a>h?br:ea:null,y=d?d===br?i.length:u.length:0);const b=d===br&&/\b(?:transform|all)(?:,|$)/.test(s(`${br}Property`).toString());return{type:d,timeout:g,propCount:y,hasTransform:b}}function Fd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Bd(n)+Bd(t[s])))}function Bd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function zu(t){return(t?t.ownerDocument:document).body.offsetHeight}function Rw(t,e,n){const s=t[po];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const jd=Symbol("_vod"),Pw=Symbol("_vsh"),Vw=Symbol(""),xw=/(?:^|;)\s*display\s*:/;function Dw(t,e,n){const s=t.style,r=St(n);let i=!1;if(n&&!r){if(e)if(St(e))for(const a of e.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&bl(s,c,"")}else for(const a in e)n[a]==null&&bl(s,a,"");for(const a in n)a==="display"&&(i=!0),bl(s,a,n[a])}else if(r){if(e!==n){const a=s[Vw];a&&(n+=";"+a),s.cssText=n,i=xw.test(n)}}else e&&t.removeAttribute("style");jd in t&&(t[jd]=i?s.display:"",t[Pw]&&(s.display="none"))}const Ud=/\s*!important$/;function bl(t,e,n){if(we(n))n.forEach(s=>bl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Ow(t,e);Ud.test(n)?t.setProperty(Si(s),n.replace(Ud,""),"important"):t[s]=n}}const qd=["Webkit","Moz","ms"],gu={};function Ow(t,e){const n=gu[e];if(n)return n;let s=Wn(e);if(s!=="filter"&&s in t)return gu[e]=s;s=lc(s);for(let r=0;r<qd.length;r++){const i=qd[r]+s;if(i in t)return gu[e]=i}return e}const Hd="http://www.w3.org/1999/xlink";function zd(t,e,n,s,r,i=BE(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hd,e.slice(6,e.length)):t.setAttributeNS(Hd,e,n):n==null||i&&!$m(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Hr(n)?String(n):n)}function Wd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Wg(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=$m(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function Yi(t,e,n,s){t.addEventListener(e,n,s)}function Nw(t,e,n,s){t.removeEventListener(e,n,s)}const Gd=Symbol("_vei");function kw(t,e,n,s,r=null){const i=t[Gd]||(t[Gd]={}),a=i[e];if(s&&a)a.value=s;else{const[c,u]=Lw(e);if(s){const h=i[e]=Fw(s,r);Yi(t,c,h,u)}else a&&(Nw(t,c,a,u),i[e]=void 0)}}const Kd=/(?:Once|Passive|Capture)$/;function Lw(t){let e;if(Kd.test(t)){e={};let s;for(;s=t.match(Kd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Si(t.slice(2)),e]}let _u=0;const Mw=Promise.resolve(),$w=()=>_u||(Mw.then(()=>_u=0),_u=Date.now());function Fw(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ss(Bw(s,n.value),e,5,[s])};return n.value=t,n.attached=$w(),n}function Bw(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Qd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jw=(t,e,n,s,r,i)=>{const a=r==="svg";e==="class"?Rw(t,s,a):e==="style"?Dw(t,n,s):ic(e)?bh(e)||kw(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Uw(t,e,s,a))?(Wd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zd(t,e,s,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!St(s))?Wd(t,Wn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),zd(t,e,s,a))};function Uw(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qd(e)&&Pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Qd(e)&&St(n)?!1:e in t}const Yg=new WeakMap,Jg=new WeakMap,Bl=Symbol("_moveCb"),Xd=Symbol("_enterCb"),qw=t=>(delete t.props.mode,t),Hw=qw({name:"TransitionGroup",props:Wt({},Kg,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=vc(),s=fg();let r,i;return bg(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Qw(r[0].el,n.vnode.el,a)){r=[];return}r.forEach(Ww),r.forEach(Gw);const c=r.filter(Kw);zu(n.vnode.el),c.forEach(u=>{const h=u.el,d=h.style;ys(h,a),d.transform=d.webkitTransform=d.transitionDuration="";const g=h[Bl]=y=>{y&&y.target!==h||(!y||y.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",g),h[Bl]=null,Tr(h,a))};h.addEventListener("transitionend",g)}),r=[]}),()=>{const a=Xe(t),c=Qg(a);let u=a.tag||jt;if(r=[],i)for(let h=0;h<i.length;h++){const d=i[h];d.el&&d.el instanceof Element&&(r.push(d),Ai(d,Ta(d,c,s,n)),Yg.set(d,{left:d.el.offsetLeft,top:d.el.offsetTop}))}i=e.default?Nh(e.default()):[];for(let h=0;h<i.length;h++){const d=i[h];d.key!=null&&Ai(d,Ta(d,c,s,n))}return Ke(u,null,i)}}}),zw=Hw;function Ww(t){const e=t.el;e[Bl]&&e[Bl](),e[Xd]&&e[Xd]()}function Gw(t){Jg.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function Kw(t){const e=Yg.get(t),n=Jg.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function Qw(t,e,n){const s=t.cloneNode(),r=t[po];r&&r.forEach(c=>{c.split(/\s+/).forEach(u=>u&&s.classList.remove(u))}),n.split(/\s+/).forEach(c=>c&&s.classList.add(c)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:a}=Xg(s);return i.removeChild(s),a}const Yd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?n=>yl(e,n):e};function Xw(t){t.target.composing=!0}function Jd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const yu=Symbol("_assign");function Zd(t,e,n){return e&&(t=t.trim()),n&&(t=Ah(t)),t}const vu={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[yu]=Yd(r);const i=s||r.props&&r.props.type==="number";Yi(t,e?"change":"input",a=>{a.target.composing||t[yu](Zd(t.value,n,i))}),(n||i)&&Yi(t,"change",()=>{t.value=Zd(t.value,n,i)}),e||(Yi(t,"compositionstart",Xw),Yi(t,"compositionend",Jd),Yi(t,"change",Jd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(t[yu]=Yd(a),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ah(t.value):t.value,u=e??"";c!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},Yw=["ctrl","shift","alt","meta"],Jw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Yw.some(n=>t[`${n}Key`]&&!e.includes(n))},Zg=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let a=0;a<e.length;a++){const c=Jw[e[a]];if(c&&c(r,e))return}return t(r,...i)}))},Zw=Wt({patchProp:jw},Tw);let ep;function eT(){return ep||(ep=tw(Zw))}const tT=((...t)=>{const e=eT().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=sT(s);if(!r)return;const i=e._component;!Pe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,nT(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e});function nT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sT(t){return St(t)?document.querySelector(t):t}const rr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},rT={},iT={class:"navbar navbar-expand-lg navbar-dark bg-dark w-100 fixed-top"},oT={class:"container-fluid"},aT={id:"navMenu",class:"collapse navbar-collapse"},lT={class:"navbar-nav ms-auto"},cT={class:"nav-item"},uT={class:"nav-item"},hT={class:"nav-item"},fT={class:"nav-item"},dT={class:"nav-item"},pT={class:"nav-item"};function mT(t,e){const n=mc("router-link");return ht(),yt("nav",iT,[Z("div",oT,[e[6]||(e[6]=Z("span",{class:"navbar-brand fw-bold"},"Tech Store",-1)),e[7]||(e[7]=Z("button",{class:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#navMenu"},[Z("span",{class:"navbar-toggler-icon"})],-1)),Z("div",aT,[Z("ul",lT,[Z("li",cT,[Ke(n,{class:"nav-link",to:"/"},{default:Zn(()=>[...e[0]||(e[0]=[bs("Home",-1)])]),_:1})]),Z("li",uT,[Ke(n,{class:"nav-link",to:"/products"},{default:Zn(()=>[...e[1]||(e[1]=[bs("Products",-1)])]),_:1})]),Z("li",hT,[Ke(n,{class:"nav-link",to:"/offers"},{default:Zn(()=>[...e[2]||(e[2]=[bs("Offers",-1)])]),_:1})]),Z("li",fT,[Ke(n,{class:"nav-link",to:"/about"},{default:Zn(()=>[...e[3]||(e[3]=[bs("About",-1)])]),_:1})]),Z("li",dT,[Ke(n,{class:"nav-link",to:"/contact"},{default:Zn(()=>[...e[4]||(e[4]=[bs("Contact",-1)])]),_:1})]),Z("li",pT,[Ke(n,{class:"nav-link",to:"/admin"},{default:Zn(()=>[...e[5]||(e[5]=[bs("Admin",-1)])]),_:1})])])])])])}const gT=rr(rT,[["render",mT]]),_T={class:"page-wrapper"},yT={__name:"App",setup(t){return(e,n)=>{const s=mc("router-view");return ht(),yt(jt,null,[Ke(gT),Z("main",_T,[Ke(Iw,{name:"fade",mode:"out-in"},{default:Zn(()=>[Ke(s)]),_:1})])],64)}}};var wl={exports:{}};var vT=wl.exports,tp;function ET(){return tp||(tp=1,(function(t,e){(function(n,s){t.exports=s()})(vT,function(){const n=new Map,s={set(_,l,p){n.has(_)||n.set(_,new Map);const v=n.get(_);v.has(l)||v.size===0?v.set(l,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(_,l)=>n.has(_)&&n.get(_).get(l)||null,remove(_,l){if(!n.has(_))return;const p=n.get(_);p.delete(l),p.size===0&&n.delete(_)}},r="transitionend",i=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(l,p)=>`#${CSS.escape(p)}`)),_),a=_=>_==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase(),c=_=>{_.dispatchEvent(new Event(r))},u=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),h=_=>u(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(i(_)):null,d=_=>{if(!u(_)||_.getClientRects().length===0)return!1;const l=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return l;if(p!==_){const v=_.closest("summary");if(v&&v.parentNode!==p||v===null)return!1}return l},g=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),y=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const l=_.getRootNode();return l instanceof ShadowRoot?l:null}return _ instanceof ShadowRoot?_:_.parentNode?y(_.parentNode):null},b=()=>{},P=_=>{_.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],F=()=>document.documentElement.dir==="rtl",B=_=>{var l;l=()=>{const p=k();if(p){const v=_.NAME,D=p.fn[v];p.fn[v]=_.jQueryInterface,p.fn[v].Constructor=_,p.fn[v].noConflict=()=>(p.fn[v]=D,_.jQueryInterface)}},document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of L)p()}),L.push(l)):l()},H=(_,l=[],p=_)=>typeof _=="function"?_.call(...l):p,ne=(_,l,p=!0)=>{if(!p)return void H(_);const v=(j=>{if(!j)return 0;let{transitionDuration:Y,transitionDelay:re}=window.getComputedStyle(j);const ue=Number.parseFloat(Y),he=Number.parseFloat(re);return ue||he?(Y=Y.split(",")[0],re=re.split(",")[0],1e3*(Number.parseFloat(Y)+Number.parseFloat(re))):0})(l)+5;let D=!1;const O=({target:j})=>{j===l&&(D=!0,l.removeEventListener(r,O),H(_))};l.addEventListener(r,O),setTimeout(()=>{D||c(l)},v)},me=(_,l,p,v)=>{const D=_.length;let O=_.indexOf(l);return O===-1?!p&&v?_[D-1]:_[0]:(O+=p?1:-1,v&&(O=(O+D)%D),_[Math.max(0,Math.min(O,D-1))])},ve=/[^.]*(?=\..*)\.|.*/,V=/\..*/,A=/::\d+$/,w={};let x=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},C=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(_,l){return l&&`${l}::${x++}`||_.uidEvent||x++}function Le(_){const l=T(_);return _.uidEvent=l,w[l]=w[l]||{},w[l]}function lt(_,l,p=null){return Object.values(_).find(v=>v.callable===l&&v.delegationSelector===p)}function rt(_,l,p){const v=typeof l=="string",D=v?p:l||p;let O=Ue(_);return C.has(O)||(O=_),[v,D,O]}function je(_,l,p,v,D){if(typeof l!="string"||!_)return;let[O,j,Y]=rt(l,p,v);l in R&&(j=(Se=>function(Ae){if(!Ae.relatedTarget||Ae.relatedTarget!==Ae.delegateTarget&&!Ae.delegateTarget.contains(Ae.relatedTarget))return Se.call(this,Ae)})(j));const re=Le(_),ue=re[Y]||(re[Y]={}),he=lt(ue,j,O?p:null);if(he)return void(he.oneOff=he.oneOff&&D);const le=T(j,l.replace(ve,"")),Oe=O?(function(Ee,Se,Ae){return function Re(ot){const dt=Ee.querySelectorAll(Se);for(let{target:Me}=ot;Me&&Me!==this;Me=Me.parentNode)for(const Ye of dt)if(Ye===Me)return Je(ot,{delegateTarget:Me}),Re.oneOff&&W.off(Ee,ot.type,Se,Ae),Ae.apply(Me,[ot])}})(_,p,j):(function(Ee,Se){return function Ae(Re){return Je(Re,{delegateTarget:Ee}),Ae.oneOff&&W.off(Ee,Re.type,Se),Se.apply(Ee,[Re])}})(_,j);Oe.delegationSelector=O?p:null,Oe.callable=j,Oe.oneOff=D,Oe.uidEvent=le,ue[le]=Oe,_.addEventListener(Y,Oe,O)}function De(_,l,p,v,D){const O=lt(l[p],v,D);O&&(_.removeEventListener(p,O,!!D),delete l[p][O.uidEvent])}function Gt(_,l,p,v){const D=l[p]||{};for(const[O,j]of Object.entries(D))O.includes(v)&&De(_,l,p,j.callable,j.delegationSelector)}function Ue(_){return _=_.replace(V,""),R[_]||_}const W={on(_,l,p,v){je(_,l,p,v,!1)},one(_,l,p,v){je(_,l,p,v,!0)},off(_,l,p,v){if(typeof l!="string"||!_)return;const[D,O,j]=rt(l,p,v),Y=j!==l,re=Le(_),ue=re[j]||{},he=l.startsWith(".");if(O===void 0){if(he)for(const le of Object.keys(re))Gt(_,re,le,l.slice(1));for(const[le,Oe]of Object.entries(ue)){const Ee=le.replace(A,"");Y&&!l.includes(Ee)||De(_,re,j,Oe.callable,Oe.delegationSelector)}}else{if(!Object.keys(ue).length)return;De(_,re,j,O,D?p:null)}},trigger(_,l,p){if(typeof l!="string"||!_)return null;const v=k();let D=null,O=!0,j=!0,Y=!1;l!==Ue(l)&&v&&(D=v.Event(l,p),v(_).trigger(D),O=!D.isPropagationStopped(),j=!D.isImmediatePropagationStopped(),Y=D.isDefaultPrevented());const re=Je(new Event(l,{bubbles:O,cancelable:!0}),p);return Y&&re.preventDefault(),j&&_.dispatchEvent(re),re.defaultPrevented&&D&&D.preventDefault(),re}};function Je(_,l={}){for(const[p,v]of Object.entries(l))try{_[p]=v}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>v})}return _}function On(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function pn(_){return _.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Rt={setDataAttribute(_,l,p){_.setAttribute(`data-bs-${pn(l)}`,p)},removeDataAttribute(_,l){_.removeAttribute(`data-bs-${pn(l)}`)},getDataAttributes(_){if(!_)return{};const l={},p=Object.keys(_.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of p){let D=v.replace(/^bs/,"");D=D.charAt(0).toLowerCase()+D.slice(1),l[D]=On(_.dataset[v])}return l},getDataAttribute:(_,l)=>On(_.getAttribute(`data-bs-${pn(l)}`))};class Tt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,p){const v=u(p)?Rt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...u(p)?Rt.getDataAttributes(p):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,p=this.constructor.DefaultType){for(const[v,D]of Object.entries(p)){const O=l[v],j=u(O)?"element":a(O);if(!new RegExp(D).test(j))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${j}" but expected type "${D}".`)}}}class q extends Tt{constructor(l,p){super(),(l=h(l))&&(this._element=l,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,p,v=!0){ne(l,p,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return s.get(h(l),this.DATA_KEY)}static getOrCreateInstance(l,p={}){return this.getInstance(l)||new this(l,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ae=_=>{let l=_.getAttribute("data-bs-target");if(!l||l==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),l=p&&p!=="#"?p.trim():null}return l?l.split(",").map(p=>i(p)).join(","):null},U={find:(_,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,_)),findOne:(_,l=document.documentElement)=>Element.prototype.querySelector.call(l,_),children:(_,l)=>[].concat(..._.children).filter(p=>p.matches(l)),parents(_,l){const p=[];let v=_.parentNode.closest(l);for(;v;)p.push(v),v=v.parentNode.closest(l);return p},prev(_,l){let p=_.previousElementSibling;for(;p;){if(p.matches(l))return[p];p=p.previousElementSibling}return[]},next(_,l){let p=_.nextElementSibling;for(;p;){if(p.matches(l))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(l,_).filter(p=>!g(p)&&d(p))},getSelectorFromElement(_){const l=ae(_);return l&&U.findOne(l)?l:null},getElementFromSelector(_){const l=ae(_);return l?U.findOne(l):null},getMultipleElementsFromSelector(_){const l=ae(_);return l?U.find(l):[]}},de=(_,l="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,v=_.NAME;W.on(document,p,`[data-bs-dismiss="${v}"]`,function(D){if(["A","AREA"].includes(this.tagName)&&D.preventDefault(),g(this))return;const O=U.getElementFromSelector(this)||this.closest(`.${v}`);_.getOrCreateInstance(O)[l]()})},ke=".bs.alert",I=`close${ke}`,S=`closed${ke}`;class N extends q{static get NAME(){return"alert"}close(){if(W.trigger(this._element,I).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),W.trigger(this._element,S),this.dispose()}static jQueryInterface(l){return this.each(function(){const p=N.getOrCreateInstance(this);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l](this)}})}}de(N,"close"),B(N);const G='[data-bs-toggle="button"]';class K extends q{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const p=K.getOrCreateInstance(this);l==="toggle"&&p[l]()})}}W.on(document,"click.bs.button.data-api",G,_=>{_.preventDefault();const l=_.target.closest(G);K.getOrCreateInstance(l).toggle()}),B(K);const z=".bs.swipe",ie=`touchstart${z}`,te=`touchmove${z}`,ee=`touchend${z}`,J=`pointerdown${z}`,_e=`pointerup${z}`,oe={endCallback:null,leftCallback:null,rightCallback:null},pe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ge extends Tt{constructor(l,p){super(),this._element=l,l&&ge.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return oe}static get DefaultType(){return pe}static get NAME(){return"swipe"}dispose(){W.off(this._element,z)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),H(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const p=l/this._deltaX;this._deltaX=0,p&&H(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,J,l=>this._start(l)),W.on(this._element,_e,l=>this._end(l)),this._element.classList.add("pointer-event")):(W.on(this._element,ie,l=>this._start(l)),W.on(this._element,te,l=>this._move(l)),W.on(this._element,ee,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Te=".bs.carousel",Qe=".data-api",qe="ArrowLeft",Kt="ArrowRight",At="next",Ot="prev",Nt="left",sn="right",ir=`slide${Te}`,Pt=`slid${Te}`,kt=`keydown${Te}`,Kr=`mouseenter${Te}`,xs=`mouseleave${Te}`,Ua=`dragstart${Te}`,Qr=`load${Te}${Qe}`,qa=`click${Te}${Qe}`,Qt="carousel",Xr="active",or=".active",ar=".carousel-item",Bc=or+ar,jc={[qe]:sn,[Kt]:Nt},lr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Uc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cr extends q{constructor(l,p){super(l,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Qt&&this.cycle()}static get Default(){return lr}static get DefaultType(){return Uc}static get NAME(){return"carousel"}next(){this._slide(At)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(Ot)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,Pt,()=>this.cycle()):this.cycle())}to(l){const p=this._getItems();if(l>p.length-1||l<0)return;if(this._isSliding)return void W.one(this._element,Pt,()=>this.to(l));const v=this._getItemIndex(this._getActive());if(v===l)return;const D=l>v?At:Ot;this._slide(D,p[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&W.on(this._element,kt,l=>this._keydown(l)),this._config.pause==="hover"&&(W.on(this._element,Kr,()=>this.pause()),W.on(this._element,xs,()=>this._maybeEnableCycle())),this._config.touch&&ge.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of U.find(".carousel-item img",this._element))W.on(p,Ua,v=>v.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(sn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ge(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const p=jc[l.key];p&&(l.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const p=U.findOne(or,this._indicatorsElement);p.classList.remove(Xr),p.removeAttribute("aria-current");const v=U.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(Xr),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const p=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(l,p=null){if(this._isSliding)return;const v=this._getActive(),D=l===At,O=p||me(this._getItems(),v,D,this._config.wrap);if(O===v)return;const j=this._getItemIndex(O),Y=le=>W.trigger(this._element,le,{relatedTarget:O,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:j});if(Y(ir).defaultPrevented||!v||!O)return;const re=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(j),this._activeElement=O;const ue=D?"carousel-item-start":"carousel-item-end",he=D?"carousel-item-next":"carousel-item-prev";O.classList.add(he),P(O),v.classList.add(ue),O.classList.add(ue),this._queueCallback(()=>{O.classList.remove(ue,he),O.classList.add(Xr),v.classList.remove(Xr,he,ue),this._isSliding=!1,Y(Pt)},v,this._isAnimated()),re&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(Bc,this._element)}_getItems(){return U.find(ar,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return F()?l===Nt?Ot:At:l===Nt?At:Ot}_orderToDirection(l){return F()?l===Ot?Nt:sn:l===Ot?sn:Nt}static jQueryInterface(l){return this.each(function(){const p=cr.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}}else p.to(l)})}}W.on(document,qa,"[data-bs-slide], [data-bs-slide-to]",function(_){const l=U.getElementFromSelector(this);if(!l||!l.classList.contains(Qt))return;_.preventDefault();const p=cr.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");return v?(p.to(v),void p._maybeEnableCycle()):Rt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),W.on(window,Qr,()=>{const _=U.find('[data-bs-ride="carousel"]');for(const l of _)cr.getOrCreateInstance(l)}),B(cr);const is=".bs.collapse",Ha=`show${is}`,za=`shown${is}`,Vo=`hide${is}`,Yr=`hidden${is}`,qc=`click${is}.data-api`,Nn="show",Ds="collapse",Jr="collapsing",xo=`:scope .${Ds} .${Ds}`,Zr='[data-bs-toggle="collapse"]',Wa={parent:null,toggle:!0},Hc={parent:"(null|element)",toggle:"boolean"};class Os extends q{constructor(l,p){super(l,p),this._isTransitioning=!1,this._triggerArray=[];const v=U.find(Zr);for(const D of v){const O=U.getSelectorFromElement(D),j=U.find(O).filter(Y=>Y===this._element);O!==null&&j.length&&this._triggerArray.push(D)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wa}static get DefaultType(){return Hc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(D=>D!==this._element).map(D=>Os.getOrCreateInstance(D,{toggle:!1}))),l.length&&l[0]._isTransitioning||W.trigger(this._element,Ha).defaultPrevented)return;for(const D of l)D.hide();const p=this._getDimension();this._element.classList.remove(Ds),this._element.classList.add(Jr),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(Ds,Nn),this._element.style[p]="",W.trigger(this._element,za)},this._element,!0),this._element.style[p]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,Vo).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,P(this._element),this._element.classList.add(Jr),this._element.classList.remove(Ds,Nn);for(const p of this._triggerArray){const v=U.getElementFromSelector(p);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(Ds),W.trigger(this._element,Yr)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Nn)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=h(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Zr);for(const p of l){const v=U.getElementFromSelector(p);v&&this._addAriaAndCollapsedClass([p],this._isShown(v))}}_getFirstLevelChildren(l){const p=U.find(xo,this._config.parent);return U.find(l,this._config.parent).filter(v=>!p.includes(v))}_addAriaAndCollapsedClass(l,p){if(l.length)for(const v of l)v.classList.toggle("collapsed",!p),v.setAttribute("aria-expanded",p)}static jQueryInterface(l){const p={};return typeof l=="string"&&/show|hide/.test(l)&&(p.toggle=!1),this.each(function(){const v=Os.getOrCreateInstance(this,p);if(typeof l=="string"){if(v[l]===void 0)throw new TypeError(`No method named "${l}"`);v[l]()}})}}W.on(document,qc,Zr,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const l of U.getMultipleElementsFromSelector(this))Os.getOrCreateInstance(l,{toggle:!1}).toggle()}),B(Os);var Zt="top",Xt="bottom",rn="right",$t="left",os="auto",wn=[Zt,Xt,rn,$t],Gn="start",ur="end",Do="clippingParents",xi="viewport",Ns="popper",Di="reference",ei=wn.reduce(function(_,l){return _.concat([l+"-"+Gn,l+"-"+ur])},[]),Oi=[].concat(wn,[os]).reduce(function(_,l){return _.concat([l,l+"-"+Gn,l+"-"+ur])},[]),Oo="beforeRead",No="read",Ga="afterRead",Kn="beforeMain",Sn="main",hr="afterMain",fr="beforeWrite",Ni="write",it="afterWrite",ti=[Oo,No,Ga,Kn,Sn,hr,fr,Ni,it];function on(_){return _?(_.nodeName||"").toLowerCase():null}function Ft(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var l=_.ownerDocument;return l&&l.defaultView||window}return _}function ks(_){return _ instanceof Ft(_).Element||_ instanceof Element}function mn(_){return _ instanceof Ft(_).HTMLElement||_ instanceof HTMLElement}function ko(_){return typeof ShadowRoot<"u"&&(_ instanceof Ft(_).ShadowRoot||_ instanceof ShadowRoot)}const Lo={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var l=_.state;Object.keys(l.elements).forEach(function(p){var v=l.styles[p]||{},D=l.attributes[p]||{},O=l.elements[p];mn(O)&&on(O)&&(Object.assign(O.style,v),Object.keys(D).forEach(function(j){var Y=D[j];Y===!1?O.removeAttribute(j):O.setAttribute(j,Y===!0?"":Y)}))})},effect:function(_){var l=_.state,p={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,p.popper),l.styles=p,l.elements.arrow&&Object.assign(l.elements.arrow.style,p.arrow),function(){Object.keys(l.elements).forEach(function(v){var D=l.elements[v],O=l.attributes[v]||{},j=Object.keys(l.styles.hasOwnProperty(v)?l.styles[v]:p[v]).reduce(function(Y,re){return Y[re]="",Y},{});mn(D)&&on(D)&&(Object.assign(D.style,j),Object.keys(O).forEach(function(Y){D.removeAttribute(Y)}))})}},requires:["computeStyles"]};function kn(_){return _.split("-")[0]}var Ls=Math.max,as=Math.min,Tn=Math.round;function ki(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Mo(){return!/^((?!chrome|android).)*safari/i.test(ki())}function Ms(_,l,p){l===void 0&&(l=!1),p===void 0&&(p=!1);var v=_.getBoundingClientRect(),D=1,O=1;l&&mn(_)&&(D=_.offsetWidth>0&&Tn(v.width)/_.offsetWidth||1,O=_.offsetHeight>0&&Tn(v.height)/_.offsetHeight||1);var j=(ks(_)?Ft(_):window).visualViewport,Y=!Mo()&&p,re=(v.left+(Y&&j?j.offsetLeft:0))/D,ue=(v.top+(Y&&j?j.offsetTop:0))/O,he=v.width/D,le=v.height/O;return{width:he,height:le,top:ue,right:re+he,bottom:ue+le,left:re,x:re,y:ue}}function Li(_){var l=Ms(_),p=_.offsetWidth,v=_.offsetHeight;return Math.abs(l.width-p)<=1&&(p=l.width),Math.abs(l.height-v)<=1&&(v=l.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:v}}function $o(_,l){var p=l.getRootNode&&l.getRootNode();if(_.contains(l))return!0;if(p&&ko(p)){var v=l;do{if(v&&_.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function an(_){return Ft(_).getComputedStyle(_)}function zc(_){return["table","td","th"].indexOf(on(_))>=0}function ls(_){return((ks(_)?_.ownerDocument:_.document)||window.document).documentElement}function Mi(_){return on(_)==="html"?_:_.assignedSlot||_.parentNode||(ko(_)?_.host:null)||ls(_)}function Qn(_){return mn(_)&&an(_).position!=="fixed"?_.offsetParent:null}function ni(_){for(var l=Ft(_),p=Qn(_);p&&zc(p)&&an(p).position==="static";)p=Qn(p);return p&&(on(p)==="html"||on(p)==="body"&&an(p).position==="static")?l:p||(function(v){var D=/firefox/i.test(ki());if(/Trident/i.test(ki())&&mn(v)&&an(v).position==="fixed")return null;var O=Mi(v);for(ko(O)&&(O=O.host);mn(O)&&["html","body"].indexOf(on(O))<0;){var j=an(O);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||D&&j.willChange==="filter"||D&&j.filter&&j.filter!=="none")return O;O=O.parentNode}return null})(_)||l}function si(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function cs(_,l,p){return Ls(_,as(l,p))}function Fo(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function dr(_,l){return l.reduce(function(p,v){return p[v]=_,p},{})}const pr={name:"arrow",enabled:!0,phase:"main",fn:function(_){var l,p=_.state,v=_.name,D=_.options,O=p.elements.arrow,j=p.modifiersData.popperOffsets,Y=kn(p.placement),re=si(Y),ue=[$t,rn].indexOf(Y)>=0?"height":"width";if(O&&j){var he=(function(at,st){return Fo(typeof(at=typeof at=="function"?at(Object.assign({},st.rects,{placement:st.placement})):at)!="number"?at:dr(at,wn))})(D.padding,p),le=Li(O),Oe=re==="y"?Zt:$t,Ee=re==="y"?Xt:rn,Se=p.rects.reference[ue]+p.rects.reference[re]-j[re]-p.rects.popper[ue],Ae=j[re]-p.rects.reference[re],Re=ni(O),ot=Re?re==="y"?Re.clientHeight||0:Re.clientWidth||0:0,dt=Se/2-Ae/2,Me=he[Oe],Ye=ot-le[ue]-he[Ee],Ne=ot/2-le[ue]/2+dt,He=cs(Me,Ne,Ye),nt=re;p.modifiersData[v]=((l={})[nt]=He,l.centerOffset=He-Ne,l)}},effect:function(_){var l=_.state,p=_.options.element,v=p===void 0?"[data-popper-arrow]":p;v!=null&&(typeof v!="string"||(v=l.elements.popper.querySelector(v)))&&$o(l.elements.popper,v)&&(l.elements.arrow=v)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $s(_){return _.split("-")[1]}var Bo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gt(_){var l,p=_.popper,v=_.popperRect,D=_.placement,O=_.variation,j=_.offsets,Y=_.position,re=_.gpuAcceleration,ue=_.adaptive,he=_.roundOffsets,le=_.isFixed,Oe=j.x,Ee=Oe===void 0?0:Oe,Se=j.y,Ae=Se===void 0?0:Se,Re=typeof he=="function"?he({x:Ee,y:Ae}):{x:Ee,y:Ae};Ee=Re.x,Ae=Re.y;var ot=j.hasOwnProperty("x"),dt=j.hasOwnProperty("y"),Me=$t,Ye=Zt,Ne=window;if(ue){var He=ni(p),nt="clientHeight",at="clientWidth";He===Ft(p)&&an(He=ls(p)).position!=="static"&&Y==="absolute"&&(nt="scrollHeight",at="scrollWidth"),(D===Zt||(D===$t||D===rn)&&O===ur)&&(Ye=Xt,Ae-=(le&&He===Ne&&Ne.visualViewport?Ne.visualViewport.height:He[nt])-v.height,Ae*=re?1:-1),D!==$t&&(D!==Zt&&D!==Xt||O!==ur)||(Me=rn,Ee-=(le&&He===Ne&&Ne.visualViewport?Ne.visualViewport.width:He[at])-v.width,Ee*=re?1:-1)}var st,xt=Object.assign({position:Y},ue&&Bo),Rn=he===!0?(function(Jn,gn){var Fn=Jn.x,Bn=Jn.y,It=gn.devicePixelRatio||1;return{x:Tn(Fn*It)/It||0,y:Tn(Bn*It)/It||0}})({x:Ee,y:Ae},Ft(p)):{x:Ee,y:Ae};return Ee=Rn.x,Ae=Rn.y,re?Object.assign({},xt,((st={})[Ye]=dt?"0":"",st[Me]=ot?"0":"",st.transform=(Ne.devicePixelRatio||1)<=1?"translate("+Ee+"px, "+Ae+"px)":"translate3d("+Ee+"px, "+Ae+"px, 0)",st)):Object.assign({},xt,((l={})[Ye]=dt?Ae+"px":"",l[Me]=ot?Ee+"px":"",l.transform="",l))}const jo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var l=_.state,p=_.options,v=p.gpuAcceleration,D=v===void 0||v,O=p.adaptive,j=O===void 0||O,Y=p.roundOffsets,re=Y===void 0||Y,ue={placement:kn(l.placement),variation:$s(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:D,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,gt(Object.assign({},ue,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:j,roundOffsets:re})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,gt(Object.assign({},ue,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:re})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var $i={passive:!0};const Fi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var l=_.state,p=_.instance,v=_.options,D=v.scroll,O=D===void 0||D,j=v.resize,Y=j===void 0||j,re=Ft(l.elements.popper),ue=[].concat(l.scrollParents.reference,l.scrollParents.popper);return O&&ue.forEach(function(he){he.addEventListener("scroll",p.update,$i)}),Y&&re.addEventListener("resize",p.update,$i),function(){O&&ue.forEach(function(he){he.removeEventListener("scroll",p.update,$i)}),Y&&re.removeEventListener("resize",p.update,$i)}},data:{}};var Ka={left:"right",right:"left",bottom:"top",top:"bottom"};function ri(_){return _.replace(/left|right|bottom|top/g,function(l){return Ka[l]})}var Bi={start:"end",end:"start"};function Xn(_){return _.replace(/start|end/g,function(l){return Bi[l]})}function ji(_){var l=Ft(_);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Uo(_){return Ms(ls(_)).left+ji(_).scrollLeft}function Fs(_){var l=an(_),p=l.overflow,v=l.overflowX,D=l.overflowY;return/auto|scroll|overlay|hidden/.test(p+D+v)}function qo(_){return["html","body","#document"].indexOf(on(_))>=0?_.ownerDocument.body:mn(_)&&Fs(_)?_:qo(Mi(_))}function Bs(_,l){var p;l===void 0&&(l=[]);var v=qo(_),D=v===((p=_.ownerDocument)==null?void 0:p.body),O=Ft(v),j=D?[O].concat(O.visualViewport||[],Fs(v)?v:[]):v,Y=l.concat(j);return D?Y:Y.concat(Bs(Mi(j)))}function mr(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Ho(_,l,p){return l===xi?mr((function(v,D){var O=Ft(v),j=ls(v),Y=O.visualViewport,re=j.clientWidth,ue=j.clientHeight,he=0,le=0;if(Y){re=Y.width,ue=Y.height;var Oe=Mo();(Oe||!Oe&&D==="fixed")&&(he=Y.offsetLeft,le=Y.offsetTop)}return{width:re,height:ue,x:he+Uo(v),y:le}})(_,p)):ks(l)?(function(v,D){var O=Ms(v,!1,D==="fixed");return O.top=O.top+v.clientTop,O.left=O.left+v.clientLeft,O.bottom=O.top+v.clientHeight,O.right=O.left+v.clientWidth,O.width=v.clientWidth,O.height=v.clientHeight,O.x=O.left,O.y=O.top,O})(l,p):mr((function(v){var D,O=ls(v),j=ji(v),Y=(D=v.ownerDocument)==null?void 0:D.body,re=Ls(O.scrollWidth,O.clientWidth,Y?Y.scrollWidth:0,Y?Y.clientWidth:0),ue=Ls(O.scrollHeight,O.clientHeight,Y?Y.scrollHeight:0,Y?Y.clientHeight:0),he=-j.scrollLeft+Uo(v),le=-j.scrollTop;return an(Y||O).direction==="rtl"&&(he+=Ls(O.clientWidth,Y?Y.clientWidth:0)-re),{width:re,height:ue,x:he,y:le}})(ls(_)))}function ii(_){var l,p=_.reference,v=_.element,D=_.placement,O=D?kn(D):null,j=D?$s(D):null,Y=p.x+p.width/2-v.width/2,re=p.y+p.height/2-v.height/2;switch(O){case Zt:l={x:Y,y:p.y-v.height};break;case Xt:l={x:Y,y:p.y+p.height};break;case rn:l={x:p.x+p.width,y:re};break;case $t:l={x:p.x-v.width,y:re};break;default:l={x:p.x,y:p.y}}var ue=O?si(O):null;if(ue!=null){var he=ue==="y"?"height":"width";switch(j){case Gn:l[ue]=l[ue]-(p[he]/2-v[he]/2);break;case ur:l[ue]=l[ue]+(p[he]/2-v[he]/2)}}return l}function gr(_,l){l===void 0&&(l={});var p=l,v=p.placement,D=v===void 0?_.placement:v,O=p.strategy,j=O===void 0?_.strategy:O,Y=p.boundary,re=Y===void 0?Do:Y,ue=p.rootBoundary,he=ue===void 0?xi:ue,le=p.elementContext,Oe=le===void 0?Ns:le,Ee=p.altBoundary,Se=Ee!==void 0&&Ee,Ae=p.padding,Re=Ae===void 0?0:Ae,ot=Fo(typeof Re!="number"?Re:dr(Re,wn)),dt=Oe===Ns?Di:Ns,Me=_.rects.popper,Ye=_.elements[Se?dt:Oe],Ne=(function(gn,Fn,Bn,It){var ms=Fn==="clippingParents"?(function(ct){var _n=Bs(Mi(ct)),jn=["absolute","fixed"].indexOf(an(ct).position)>=0&&mn(ct)?ni(ct):ct;return ks(jn)?_n.filter(function(Er){return ks(Er)&&$o(Er,jn)&&on(Er)!=="body"}):[]})(gn):[].concat(Fn),gs=[].concat(ms,[Bn]),Gi=gs[0],Yt=gs.reduce(function(ct,_n){var jn=Ho(gn,_n,It);return ct.top=Ls(jn.top,ct.top),ct.right=as(jn.right,ct.right),ct.bottom=as(jn.bottom,ct.bottom),ct.left=Ls(jn.left,ct.left),ct},Ho(gn,Gi,It));return Yt.width=Yt.right-Yt.left,Yt.height=Yt.bottom-Yt.top,Yt.x=Yt.left,Yt.y=Yt.top,Yt})(ks(Ye)?Ye:Ye.contextElement||ls(_.elements.popper),re,he,j),He=Ms(_.elements.reference),nt=ii({reference:He,element:Me,placement:D}),at=mr(Object.assign({},Me,nt)),st=Oe===Ns?at:He,xt={top:Ne.top-st.top+ot.top,bottom:st.bottom-Ne.bottom+ot.bottom,left:Ne.left-st.left+ot.left,right:st.right-Ne.right+ot.right},Rn=_.modifiersData.offset;if(Oe===Ns&&Rn){var Jn=Rn[D];Object.keys(xt).forEach(function(gn){var Fn=[rn,Xt].indexOf(gn)>=0?1:-1,Bn=[Zt,Xt].indexOf(gn)>=0?"y":"x";xt[gn]+=Jn[Bn]*Fn})}return xt}function Qa(_,l){l===void 0&&(l={});var p=l,v=p.placement,D=p.boundary,O=p.rootBoundary,j=p.padding,Y=p.flipVariations,re=p.allowedAutoPlacements,ue=re===void 0?Oi:re,he=$s(v),le=he?Y?ei:ei.filter(function(Se){return $s(Se)===he}):wn,Oe=le.filter(function(Se){return ue.indexOf(Se)>=0});Oe.length===0&&(Oe=le);var Ee=Oe.reduce(function(Se,Ae){return Se[Ae]=gr(_,{placement:Ae,boundary:D,rootBoundary:O,padding:j})[kn(Ae)],Se},{});return Object.keys(Ee).sort(function(Se,Ae){return Ee[Se]-Ee[Ae]})}const _r={name:"flip",enabled:!0,phase:"main",fn:function(_){var l=_.state,p=_.options,v=_.name;if(!l.modifiersData[v]._skip){for(var D=p.mainAxis,O=D===void 0||D,j=p.altAxis,Y=j===void 0||j,re=p.fallbackPlacements,ue=p.padding,he=p.boundary,le=p.rootBoundary,Oe=p.altBoundary,Ee=p.flipVariations,Se=Ee===void 0||Ee,Ae=p.allowedAutoPlacements,Re=l.options.placement,ot=kn(Re),dt=re||(ot!==Re&&Se?(function(ct){if(kn(ct)===os)return[];var _n=ri(ct);return[Xn(ct),_n,Xn(_n)]})(Re):[ri(Re)]),Me=[Re].concat(dt).reduce(function(ct,_n){return ct.concat(kn(_n)===os?Qa(l,{placement:_n,boundary:he,rootBoundary:le,padding:ue,flipVariations:Se,allowedAutoPlacements:Ae}):_n)},[]),Ye=l.rects.reference,Ne=l.rects.popper,He=new Map,nt=!0,at=Me[0],st=0;st<Me.length;st++){var xt=Me[st],Rn=kn(xt),Jn=$s(xt)===Gn,gn=[Zt,Xt].indexOf(Rn)>=0,Fn=gn?"width":"height",Bn=gr(l,{placement:xt,boundary:he,rootBoundary:le,altBoundary:Oe,padding:ue}),It=gn?Jn?rn:$t:Jn?Xt:Zt;Ye[Fn]>Ne[Fn]&&(It=ri(It));var ms=ri(It),gs=[];if(O&&gs.push(Bn[Rn]<=0),Y&&gs.push(Bn[It]<=0,Bn[ms]<=0),gs.every(function(ct){return ct})){at=xt,nt=!1;break}He.set(xt,gs)}if(nt)for(var Gi=function(ct){var _n=Me.find(function(jn){var Er=He.get(jn);if(Er)return Er.slice(0,ct).every(function(ol){return ol})});if(_n)return at=_n,"break"},Yt=Se?3:1;Yt>0&&Gi(Yt)!=="break";Yt--);l.placement!==at&&(l.modifiersData[v]._skip=!0,l.placement=at,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zo(_,l,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-l.height-p.y,right:_.right-l.width+p.x,bottom:_.bottom-l.height+p.y,left:_.left-l.width-p.x}}function Wo(_){return[Zt,rn,Xt,$t].some(function(l){return _[l]>=0})}const Ui={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var l=_.state,p=_.name,v=l.rects.reference,D=l.rects.popper,O=l.modifiersData.preventOverflow,j=gr(l,{elementContext:"reference"}),Y=gr(l,{altBoundary:!0}),re=zo(j,v),ue=zo(Y,D,O),he=Wo(re),le=Wo(ue);l.modifiersData[p]={referenceClippingOffsets:re,popperEscapeOffsets:ue,isReferenceHidden:he,hasPopperEscaped:le},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":le})}},qi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var l=_.state,p=_.options,v=_.name,D=p.offset,O=D===void 0?[0,0]:D,j=Oi.reduce(function(he,le){return he[le]=(function(Oe,Ee,Se){var Ae=kn(Oe),Re=[$t,Zt].indexOf(Ae)>=0?-1:1,ot=typeof Se=="function"?Se(Object.assign({},Ee,{placement:Oe})):Se,dt=ot[0],Me=ot[1];return dt=dt||0,Me=(Me||0)*Re,[$t,rn].indexOf(Ae)>=0?{x:Me,y:dt}:{x:dt,y:Me}})(le,l.rects,O),he},{}),Y=j[l.placement],re=Y.x,ue=Y.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=re,l.modifiersData.popperOffsets.y+=ue),l.modifiersData[v]=j}},Hi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var l=_.state,p=_.name;l.modifiersData[p]=ii({reference:l.rects.reference,element:l.rects.popper,placement:l.placement})},data:{}},oi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var l=_.state,p=_.options,v=_.name,D=p.mainAxis,O=D===void 0||D,j=p.altAxis,Y=j!==void 0&&j,re=p.boundary,ue=p.rootBoundary,he=p.altBoundary,le=p.padding,Oe=p.tether,Ee=Oe===void 0||Oe,Se=p.tetherOffset,Ae=Se===void 0?0:Se,Re=gr(l,{boundary:re,rootBoundary:ue,padding:le,altBoundary:he}),ot=kn(l.placement),dt=$s(l.placement),Me=!dt,Ye=si(ot),Ne=Ye==="x"?"y":"x",He=l.modifiersData.popperOffsets,nt=l.rects.reference,at=l.rects.popper,st=typeof Ae=="function"?Ae(Object.assign({},l.rects,{placement:l.placement})):Ae,xt=typeof st=="number"?{mainAxis:st,altAxis:st}:Object.assign({mainAxis:0,altAxis:0},st),Rn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Jn={x:0,y:0};if(He){if(O){var gn,Fn=Ye==="y"?Zt:$t,Bn=Ye==="y"?Xt:rn,It=Ye==="y"?"height":"width",ms=He[Ye],gs=ms+Re[Fn],Gi=ms-Re[Bn],Yt=Ee?-at[It]/2:0,ct=dt===Gn?nt[It]:at[It],_n=dt===Gn?-at[It]:-nt[It],jn=l.elements.arrow,Er=Ee&&jn?Li(jn):{width:0,height:0},ol=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},id=ol[Fn],od=ol[Bn],al=cs(0,nt[It],Er[It]),wE=Me?nt[It]/2-Yt-al-id-xt.mainAxis:ct-al-id-xt.mainAxis,TE=Me?-nt[It]/2+Yt+al+od+xt.mainAxis:_n+al+od+xt.mainAxis,su=l.elements.arrow&&ni(l.elements.arrow),AE=su?Ye==="y"?su.clientTop||0:su.clientLeft||0:0,ad=(gn=Rn?.[Ye])!=null?gn:0,IE=ms+TE-ad,ld=cs(Ee?as(gs,ms+wE-ad-AE):gs,ms,Ee?Ls(Gi,IE):Gi);He[Ye]=ld,Jn[Ye]=ld-ms}if(Y){var cd,CE=Ye==="x"?Zt:$t,SE=Ye==="x"?Xt:rn,di=He[Ne],ll=Ne==="y"?"height":"width",ud=di+Re[CE],hd=di-Re[SE],ru=[Zt,$t].indexOf(ot)!==-1,fd=(cd=Rn?.[Ne])!=null?cd:0,dd=ru?ud:di-nt[ll]-at[ll]-fd+xt.altAxis,pd=ru?di+nt[ll]+at[ll]-fd-xt.altAxis:hd,md=Ee&&ru?(function(RE,PE,iu){var gd=cs(RE,PE,iu);return gd>iu?iu:gd})(dd,di,pd):cs(Ee?dd:ud,di,Ee?pd:hd);He[Ne]=md,Jn[Ne]=md-di}l.modifiersData[v]=Jn}},requiresIfExists:["offset"]};function Xa(_,l,p){p===void 0&&(p=!1);var v,D,O=mn(l),j=mn(l)&&(function(le){var Oe=le.getBoundingClientRect(),Ee=Tn(Oe.width)/le.offsetWidth||1,Se=Tn(Oe.height)/le.offsetHeight||1;return Ee!==1||Se!==1})(l),Y=ls(l),re=Ms(_,j,p),ue={scrollLeft:0,scrollTop:0},he={x:0,y:0};return(O||!O&&!p)&&((on(l)!=="body"||Fs(Y))&&(ue=(v=l)!==Ft(v)&&mn(v)?{scrollLeft:(D=v).scrollLeft,scrollTop:D.scrollTop}:ji(v)),mn(l)?((he=Ms(l,!0)).x+=l.clientLeft,he.y+=l.clientTop):Y&&(he.x=Uo(Y))),{x:re.left+ue.scrollLeft-he.x,y:re.top+ue.scrollTop-he.y,width:re.width,height:re.height}}function Ya(_){var l=new Map,p=new Set,v=[];function D(O){p.add(O.name),[].concat(O.requires||[],O.requiresIfExists||[]).forEach(function(j){if(!p.has(j)){var Y=l.get(j);Y&&D(Y)}}),v.push(O)}return _.forEach(function(O){l.set(O.name,O)}),_.forEach(function(O){p.has(O.name)||D(O)}),v}var us={placement:"bottom",modifiers:[],strategy:"absolute"};function Go(){for(var _=arguments.length,l=new Array(_),p=0;p<_;p++)l[p]=arguments[p];return!l.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function ai(_){_===void 0&&(_={});var l=_,p=l.defaultModifiers,v=p===void 0?[]:p,D=l.defaultOptions,O=D===void 0?us:D;return function(j,Y,re){re===void 0&&(re=O);var ue,he,le={placement:"bottom",orderedModifiers:[],options:Object.assign({},us,O),modifiersData:{},elements:{reference:j,popper:Y},attributes:{},styles:{}},Oe=[],Ee=!1,Se={state:le,setOptions:function(Re){var ot=typeof Re=="function"?Re(le.options):Re;Ae(),le.options=Object.assign({},O,le.options,ot),le.scrollParents={reference:ks(j)?Bs(j):j.contextElement?Bs(j.contextElement):[],popper:Bs(Y)};var dt,Me,Ye=(function(Ne){var He=Ya(Ne);return ti.reduce(function(nt,at){return nt.concat(He.filter(function(st){return st.phase===at}))},[])})((dt=[].concat(v,le.options.modifiers),Me=dt.reduce(function(Ne,He){var nt=Ne[He.name];return Ne[He.name]=nt?Object.assign({},nt,He,{options:Object.assign({},nt.options,He.options),data:Object.assign({},nt.data,He.data)}):He,Ne},{}),Object.keys(Me).map(function(Ne){return Me[Ne]})));return le.orderedModifiers=Ye.filter(function(Ne){return Ne.enabled}),le.orderedModifiers.forEach(function(Ne){var He=Ne.name,nt=Ne.options,at=nt===void 0?{}:nt,st=Ne.effect;if(typeof st=="function"){var xt=st({state:le,name:He,instance:Se,options:at});Oe.push(xt||function(){})}}),Se.update()},forceUpdate:function(){if(!Ee){var Re=le.elements,ot=Re.reference,dt=Re.popper;if(Go(ot,dt)){le.rects={reference:Xa(ot,ni(dt),le.options.strategy==="fixed"),popper:Li(dt)},le.reset=!1,le.placement=le.options.placement,le.orderedModifiers.forEach(function(st){return le.modifiersData[st.name]=Object.assign({},st.data)});for(var Me=0;Me<le.orderedModifiers.length;Me++)if(le.reset!==!0){var Ye=le.orderedModifiers[Me],Ne=Ye.fn,He=Ye.options,nt=He===void 0?{}:He,at=Ye.name;typeof Ne=="function"&&(le=Ne({state:le,options:nt,name:at,instance:Se})||le)}else le.reset=!1,Me=-1}}},update:(ue=function(){return new Promise(function(Re){Se.forceUpdate(),Re(le)})},function(){return he||(he=new Promise(function(Re){Promise.resolve().then(function(){he=void 0,Re(ue())})})),he}),destroy:function(){Ae(),Ee=!0}};if(!Go(j,Y))return Se;function Ae(){Oe.forEach(function(Re){return Re()}),Oe=[]}return Se.setOptions(re).then(function(Re){!Ee&&re.onFirstUpdate&&re.onFirstUpdate(Re)}),Se}}var Ja=ai(),Za=ai({defaultModifiers:[Fi,Hi,jo,Lo]}),yr=ai({defaultModifiers:[Fi,Hi,jo,Lo,qi,_r,oi,pr,Ui]});const ln=Object.freeze(Object.defineProperty({__proto__:null,afterMain:hr,afterRead:Ga,afterWrite:it,applyStyles:Lo,arrow:pr,auto:os,basePlacements:wn,beforeMain:Kn,beforeRead:Oo,beforeWrite:fr,bottom:Xt,clippingParents:Do,computeStyles:jo,createPopper:yr,createPopperBase:Ja,createPopperLite:Za,detectOverflow:gr,end:ur,eventListeners:Fi,flip:_r,hide:Ui,left:$t,main:Sn,modifierPhases:ti,offset:qi,placements:Oi,popper:Ns,popperGenerator:ai,popperOffsets:Hi,preventOverflow:oi,read:No,reference:Di,right:rn,start:Gn,top:Zt,variationPlacements:ei,viewport:xi,write:Ni},Symbol.toStringTag,{value:"Module"})),Ko="dropdown",hs=".bs.dropdown",fs=".data-api",o="ArrowUp",f="ArrowDown",m=`hide${hs}`,E=`hidden${hs}`,M=`show${hs}`,$=`shown${hs}`,se=`click${hs}${fs}`,xe=`keydown${hs}${fs}`,Vt=`keyup${hs}${fs}`,ze="show",ft='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ln=`${ft}.${ze}`,Mn=".dropdown-menu",ds=F()?"top-end":"top-start",ps=F()?"top-start":"top-end",zi=F()?"bottom-end":"bottom-start",Qo=F()?"bottom-start":"bottom-end",ov=F()?"left-start":"right-start",av=F()?"right-start":"left-start",lv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},cv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yn extends q{constructor(l,p){super(l,p),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Mn)[0]||U.prev(this._element,Mn)[0]||U.findOne(Mn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return lv}static get DefaultType(){return cv}static get NAME(){return Ko}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!W.trigger(this._element,M,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))W.on(p,"mouseover",b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ze),this._element.classList.add(ze),W.trigger(this._element,$,l)}}hide(){if(g(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!W.trigger(this._element,m,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))W.off(p,"mouseover",b);this._popper&&this._popper.destroy(),this._menu.classList.remove(ze),this._element.classList.remove(ze),this._element.setAttribute("aria-expanded","false"),Rt.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,E,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!u(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${Ko.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(ln===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let l=this._element;this._config.reference==="parent"?l=this._parent:u(this._config.reference)?l=h(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const p=this._getPopperConfig();this._popper=yr(l,this._menu,p)}_isShown(){return this._menu.classList.contains(ze)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return ov;if(l.classList.contains("dropstart"))return av;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?p?ps:ds:p?Qo:zi}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(p=>Number.parseInt(p,10)):typeof l=="function"?p=>l(p,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rt.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...H(this._config.popperConfig,[void 0,l])}}_selectMenuItem({key:l,target:p}){const v=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(D=>d(D));v.length&&me(v,p,l===f,!v.includes(p)).focus()}static jQueryInterface(l){return this.each(function(){const p=Yn.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const p=U.find(Ln);for(const v of p){const D=Yn.getInstance(v);if(!D||D._config.autoClose===!1)continue;const O=l.composedPath(),j=O.includes(D._menu);if(O.includes(D._element)||D._config.autoClose==="inside"&&!j||D._config.autoClose==="outside"&&j||D._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const Y={relatedTarget:D._element};l.type==="click"&&(Y.clickEvent=l),D._completeHide(Y)}}static dataApiKeydownHandler(l){const p=/input|textarea/i.test(l.target.tagName),v=l.key==="Escape",D=[o,f].includes(l.key);if(!D&&!v||p&&!v)return;l.preventDefault();const O=this.matches(ft)?this:U.prev(this,ft)[0]||U.next(this,ft)[0]||U.findOne(ft,l.delegateTarget.parentNode),j=Yn.getOrCreateInstance(O);if(D)return l.stopPropagation(),j.show(),void j._selectMenuItem(l);j._isShown()&&(l.stopPropagation(),j.hide(),O.focus())}}W.on(document,xe,ft,Yn.dataApiKeydownHandler),W.on(document,xe,Mn,Yn.dataApiKeydownHandler),W.on(document,se,Yn.clearMenus),W.on(document,Vt,Yn.clearMenus),W.on(document,se,ft,function(_){_.preventDefault(),Yn.getOrCreateInstance(this).toggle()}),B(Yn);const Sf="backdrop",Rf="show",Pf=`mousedown.bs.${Sf}`,uv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vf extends Tt{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return uv}static get DefaultType(){return hv}static get NAME(){return Sf}show(l){if(!this._config.isVisible)return void H(l);this._append();const p=this._getElement();this._config.isAnimated&&P(p),p.classList.add(Rf),this._emulateAnimation(()=>{H(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(Rf),this._emulateAnimation(()=>{this.dispose(),H(l)})):H(l)}dispose(){this._isAppended&&(W.off(this._element,Pf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=h(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),W.on(l,Pf,()=>{H(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){ne(l,this._getElement(),this._config.isAnimated)}}const el=".bs.focustrap",fv=`focusin${el}`,dv=`keydown.tab${el}`,xf="backward",pv={autofocus:!0,trapElement:null},mv={autofocus:"boolean",trapElement:"element"};class Df extends Tt{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pv}static get DefaultType(){return mv}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,el),W.on(document,fv,l=>this._handleFocusin(l)),W.on(document,dv,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,el))}_handleFocusin(l){const{trapElement:p}=this._config;if(l.target===document||l.target===p||p.contains(l.target))return;const v=U.focusableChildren(p);v.length===0?p.focus():this._lastTabNavDirection===xf?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?xf:"forward")}}const Of=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Nf=".sticky-top",tl="padding-right",kf="margin-right";class Wc{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,tl,p=>p+l),this._setElementAttributes(Of,tl,p=>p+l),this._setElementAttributes(Nf,kf,p=>p-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,tl),this._resetElementAttributes(Of,tl),this._resetElementAttributes(Nf,kf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,p,v){const D=this.getWidth();this._applyManipulationCallback(l,O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+D)return;this._saveInitialAttribute(O,p);const j=window.getComputedStyle(O).getPropertyValue(p);O.style.setProperty(p,`${v(Number.parseFloat(j))}px`)})}_saveInitialAttribute(l,p){const v=l.style.getPropertyValue(p);v&&Rt.setDataAttribute(l,p,v)}_resetElementAttributes(l,p){this._applyManipulationCallback(l,v=>{const D=Rt.getDataAttribute(v,p);D!==null?(Rt.removeDataAttribute(v,p),v.style.setProperty(p,D)):v.style.removeProperty(p)})}_applyManipulationCallback(l,p){if(u(l))p(l);else for(const v of U.find(l,this._element))p(v)}}const $n=".bs.modal",gv=`hide${$n}`,_v=`hidePrevented${$n}`,Lf=`hidden${$n}`,Mf=`show${$n}`,yv=`shown${$n}`,vv=`resize${$n}`,Ev=`click.dismiss${$n}`,bv=`mousedown.dismiss${$n}`,wv=`keydown.dismiss${$n}`,Tv=`click${$n}.data-api`,$f="modal-open",Ff="show",Gc="modal-static",Av={backdrop:!0,focus:!0,keyboard:!0},Iv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class li extends q{constructor(l,p){super(l,p),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wc,this._addEventListeners()}static get Default(){return Av}static get DefaultType(){return Iv}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||W.trigger(this._element,Mf,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($f),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,gv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ff),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,$n),W.off(this._dialog,$n),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vf({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Df({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=U.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),P(this._element),this._element.classList.add(Ff),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,yv,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,wv,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,vv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,bv,l=>{W.one(this._element,Ev,p=>{this._element===l.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($f),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,Lf)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,_v).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(Gc)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Gc),this._queueCallback(()=>{this._element.classList.remove(Gc),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),v=p>0;if(v&&!l){const D=F()?"paddingLeft":"paddingRight";this._element.style[D]=`${p}px`}if(!v&&l){const D=F()?"paddingRight":"paddingLeft";this._element.style[D]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,p){return this.each(function(){const v=li.getOrCreateInstance(this,l);if(typeof l=="string"){if(v[l]===void 0)throw new TypeError(`No method named "${l}"`);v[l](p)}})}}W.on(document,Tv,'[data-bs-toggle="modal"]',function(_){const l=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),W.one(l,Mf,v=>{v.defaultPrevented||W.one(l,Lf,()=>{d(this)&&this.focus()})});const p=U.findOne(".modal.show");p&&li.getInstance(p).hide(),li.getOrCreateInstance(l).toggle(this)}),de(li),B(li);const js=".bs.offcanvas",Bf=".data-api",Cv=`load${js}${Bf}`,jf="show",Uf="showing",qf="hiding",Hf=".offcanvas.show",Sv=`show${js}`,Rv=`shown${js}`,Pv=`hide${js}`,zf=`hidePrevented${js}`,Wf=`hidden${js}`,Vv=`resize${js}`,xv=`click${js}${Bf}`,Dv=`keydown.dismiss${js}`,Ov={backdrop:!0,keyboard:!0,scroll:!1},Nv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Us extends q{constructor(l,p){super(l,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ov}static get DefaultType(){return Nv}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||W.trigger(this._element,Sv,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Uf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jf),this._element.classList.remove(Uf),W.trigger(this._element,Rv,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,Pv).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(qf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(jf,qf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wc().reset(),W.trigger(this._element,Wf)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Vf({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,zf)}:null})}_initializeFocusTrap(){return new Df({trapElement:this._element})}_addEventListeners(){W.on(this._element,Dv,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,zf))})}static jQueryInterface(l){return this.each(function(){const p=Us.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l](this)}})}}W.on(document,xv,'[data-bs-toggle="offcanvas"]',function(_){const l=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),g(this))return;W.one(l,Wf,()=>{d(this)&&this.focus()});const p=U.findOne(Hf);p&&p!==l&&Us.getInstance(p).hide(),Us.getOrCreateInstance(l).toggle(this)}),W.on(window,Cv,()=>{for(const _ of U.find(Hf))Us.getOrCreateInstance(_).show()}),W.on(window,Vv,()=>{for(const _ of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&Us.getOrCreateInstance(_).hide()}),de(Us),B(Us);const Gf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},kv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Lv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Mv=(_,l)=>{const p=_.nodeName.toLowerCase();return l.includes(p)?!kv.has(p)||!!Lv.test(_.nodeValue):l.filter(v=>v instanceof RegExp).some(v=>v.test(p))},$v={allowList:Gf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Bv={entry:"(string|element|function|null)",selector:"(string|element)"};class jv extends Tt{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return $v}static get DefaultType(){return Fv}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[D,O]of Object.entries(this._config.content))this._setContent(l,O,D);const p=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&p.classList.add(...v.split(" ")),p}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[p,v]of Object.entries(l))super._typeCheckConfig({selector:p,entry:v},Bv)}_setContent(l,p,v){const D=U.findOne(v,l);D&&((p=this._resolvePossibleFunction(p))?u(p)?this._putElementInTemplate(h(p),D):this._config.html?D.innerHTML=this._maybeSanitize(p):D.textContent=p:D.remove())}_maybeSanitize(l){return this._config.sanitize?(function(p,v,D){if(!p.length)return p;if(D&&typeof D=="function")return D(p);const O=new window.DOMParser().parseFromString(p,"text/html"),j=[].concat(...O.body.querySelectorAll("*"));for(const Y of j){const re=Y.nodeName.toLowerCase();if(!Object.keys(v).includes(re)){Y.remove();continue}const ue=[].concat(...Y.attributes),he=[].concat(v["*"]||[],v[re]||[]);for(const le of ue)Mv(le,he)||Y.removeAttribute(le.nodeName)}return O.body.innerHTML})(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return H(l,[void 0,this])}_putElementInTemplate(l,p){if(this._config.html)return p.innerHTML="",void p.append(l);p.textContent=l.textContent}}const Uv=new Set(["sanitize","allowList","sanitizeFn"]),Kc="fade",nl="show",qv=".tooltip-inner",Kf=".modal",Qf="hide.bs.modal",Xo="hover",Qc="focus",Xc="click",Hv={AUTO:"auto",TOP:"top",RIGHT:F()?"left":"right",BOTTOM:"bottom",LEFT:F()?"right":"left"},zv={allowList:Gf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wv={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ci extends q{constructor(l,p){if(ln===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(l,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zv}static get DefaultType(){return Wv}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(Kf),Qf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=W.trigger(this._element,this.constructor.eventName("show")),p=(y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!p)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:D}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(D.append(v),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(nl),"ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))W.on(O,"mouseover",b);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(nl),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))W.off(l,"mouseover",b);this._activeTrigger[Xc]=!1,this._activeTrigger[Qc]=!1,this._activeTrigger[Xo]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const p=this._getTemplateFactory(l).toHtml();if(!p)return null;p.classList.remove(Kc,nl),p.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(D=>{do D+=Math.floor(1e6*Math.random());while(document.getElementById(D));return D})(this.constructor.NAME).toString();return p.setAttribute("id",v),this._isAnimated()&&p.classList.add(Kc),p}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new jv({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[qv]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Kc)}_isShown(){return this.tip&&this.tip.classList.contains(nl)}_createPopper(l){const p=H(this._config.placement,[this,l,this._element]),v=Hv[p.toUpperCase()];return yr(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(p=>Number.parseInt(p,10)):typeof l=="function"?p=>l(p,this._element):l}_resolvePossibleFunction(l){return H(l,[this._element,this._element])}_getPopperConfig(l){const p={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...p,...H(this._config.popperConfig,[void 0,p])}}_setListeners(){const l=this._config.trigger.split(" ");for(const p of l)if(p==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{const D=this._initializeOnDelegatedTarget(v);D._activeTrigger[Xc]=!(D._isShown()&&D._activeTrigger[Xc]),D.toggle()});else if(p!=="manual"){const v=p===Xo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),D=p===Xo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,v,this._config.selector,O=>{const j=this._initializeOnDelegatedTarget(O);j._activeTrigger[O.type==="focusin"?Qc:Xo]=!0,j._enter()}),W.on(this._element,D,this._config.selector,O=>{const j=this._initializeOnDelegatedTarget(O);j._activeTrigger[O.type==="focusout"?Qc:Xo]=j._element.contains(O.relatedTarget),j._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(Kf),Qf,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,p){clearTimeout(this._timeout),this._timeout=setTimeout(l,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const p=Rt.getDataAttributes(this._element);for(const v of Object.keys(p))Uv.has(v)&&delete p[v];return l={...p,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:h(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[p,v]of Object.entries(this._config))this.constructor.Default[p]!==v&&(l[p]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const p=ci.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}}B(ci);const Gv=".popover-header",Kv=".popover-body",Qv={...ci.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xv={...ci.DefaultType,content:"(null|string|element|function)"};class sl extends ci{static get Default(){return Qv}static get DefaultType(){return Xv}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Gv]:this._getTitle(),[Kv]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const p=sl.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}}B(sl);const Yc=".bs.scrollspy",Yv=`activate${Yc}`,Xf=`click${Yc}`,Jv=`load${Yc}.data-api`,Wi="active",Jc="[href]",Yf=".nav-link",Zv=`${Yf}, .nav-item > ${Yf}, .list-group-item`,eE={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tE={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Yo extends q{constructor(l,p){super(l,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return eE}static get DefaultType(){return tE}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=h(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(p=>Number.parseFloat(p))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,Xf),W.on(this._config.target,Xf,Jc,l=>{const p=this._observableSections.get(l.target.hash);if(p){l.preventDefault();const v=this._rootElement||window,D=p.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:D,behavior:"smooth"});v.scrollTop=D}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),l)}_observerCallback(l){const p=j=>this._targetLinks.get(`#${j.target.id}`),v=j=>{this._previousScrollData.visibleEntryTop=j.target.offsetTop,this._process(p(j))},D=(this._rootElement||document.documentElement).scrollTop,O=D>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=D;for(const j of l){if(!j.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(j));continue}const Y=j.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(O&&Y){if(v(j),!D)return}else O||Y||v(j)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=U.find(Jc,this._config.target);for(const p of l){if(!p.hash||g(p))continue;const v=U.findOne(decodeURI(p.hash),this._element);d(v)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Wi),this._activateParents(l),W.trigger(this._element,Yv,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Wi);else for(const p of U.parents(l,".nav, .list-group"))for(const v of U.prev(p,Zv))v.classList.add(Wi)}_clearActiveClass(l){l.classList.remove(Wi);const p=U.find(`${Jc}.${Wi}`,l);for(const v of p)v.classList.remove(Wi)}static jQueryInterface(l){return this.each(function(){const p=Yo.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}})}}W.on(window,Jv,()=>{for(const _ of U.find('[data-bs-spy="scroll"]'))Yo.getOrCreateInstance(_)}),B(Yo);const ui=".bs.tab",nE=`hide${ui}`,sE=`hidden${ui}`,rE=`show${ui}`,iE=`shown${ui}`,oE=`click${ui}`,aE=`keydown${ui}`,lE=`load${ui}`,cE="ArrowLeft",Jf="ArrowRight",uE="ArrowUp",Zf="ArrowDown",Zc="Home",ed="End",hi="active",td="fade",eu="show",nd=".dropdown-toggle",tu=`:not(${nd})`,sd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nu=`.nav-link${tu}, .list-group-item${tu}, [role="tab"]${tu}, ${sd}`,hE=`.${hi}[data-bs-toggle="tab"], .${hi}[data-bs-toggle="pill"], .${hi}[data-bs-toggle="list"]`;class fi extends q{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,aE,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const p=this._getActiveElem(),v=p?W.trigger(p,nE,{relatedTarget:l}):null;W.trigger(l,rE,{relatedTarget:p}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(p,l),this._activate(l,p))}_activate(l,p){l&&(l.classList.add(hi),this._activate(U.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),W.trigger(l,iE,{relatedTarget:p})):l.classList.add(eu)},l,l.classList.contains(td)))}_deactivate(l,p){l&&(l.classList.remove(hi),l.blur(),this._deactivate(U.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),W.trigger(l,sE,{relatedTarget:p})):l.classList.remove(eu)},l,l.classList.contains(td)))}_keydown(l){if(![cE,Jf,uE,Zf,Zc,ed].includes(l.key))return;l.stopPropagation(),l.preventDefault();const p=this._getChildren().filter(D=>!g(D));let v;if([Zc,ed].includes(l.key))v=p[l.key===Zc?0:p.length-1];else{const D=[Jf,Zf].includes(l.key);v=me(p,l.target,D,!0)}v&&(v.focus({preventScroll:!0}),fi.getOrCreateInstance(v).show())}_getChildren(){return U.find(nu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,p){this._setAttributeIfNotExists(l,"role","tablist");for(const v of p)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const p=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",p),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),p||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const p=U.getElementFromSelector(l);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,p){const v=this._getOuterElement(l);if(!v.classList.contains("dropdown"))return;const D=(O,j)=>{const Y=U.findOne(O,v);Y&&Y.classList.toggle(j,p)};D(nd,hi),D(".dropdown-menu",eu),v.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(l,p,v){l.hasAttribute(p)||l.setAttribute(p,v)}_elemIsActive(l){return l.classList.contains(hi)}_getInnerElement(l){return l.matches(nu)?l:U.findOne(nu,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const p=fi.getOrCreateInstance(this);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}})}}W.on(document,oE,sd,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),g(this)||fi.getOrCreateInstance(this).show()}),W.on(window,lE,()=>{for(const _ of U.find(hE))fi.getOrCreateInstance(_)}),B(fi);const vr=".bs.toast",fE=`mouseover${vr}`,dE=`mouseout${vr}`,pE=`focusin${vr}`,mE=`focusout${vr}`,gE=`hide${vr}`,_E=`hidden${vr}`,yE=`show${vr}`,vE=`shown${vr}`,rd="hide",rl="show",il="showing",EE={animation:"boolean",autohide:"boolean",delay:"number"},bE={animation:!0,autohide:!0,delay:5e3};class Jo extends q{constructor(l,p){super(l,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return bE}static get DefaultType(){return EE}static get NAME(){return"toast"}show(){W.trigger(this._element,yE).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(rd),P(this._element),this._element.classList.add(rl,il),this._queueCallback(()=>{this._element.classList.remove(il),W.trigger(this._element,vE),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,gE).defaultPrevented||(this._element.classList.add(il),this._queueCallback(()=>{this._element.classList.add(rd),this._element.classList.remove(il,rl),W.trigger(this._element,_E)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rl),super.dispose()}isShown(){return this._element.classList.contains(rl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,p){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,fE,l=>this._onInteraction(l,!0)),W.on(this._element,dE,l=>this._onInteraction(l,!1)),W.on(this._element,pE,l=>this._onInteraction(l,!0)),W.on(this._element,mE,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const p=Jo.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l](this)}})}}return de(Jo),B(Jo),{Alert:N,Button:K,Carousel:cr,Collapse:Os,Dropdown:Yn,Modal:li,Offcanvas:Us,Popover:sl,ScrollSpy:Yo,Tab:fi,Toast:Jo,Tooltip:ci}})})(wl)),wl.exports}ET();const Ji=typeof document<"u";function e_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&e_(t.default)}const Ze=Object.assign;function Eu(t,e){const n={};for(const s in e){const r=e[s];n[s]=rs(r)?r.map(t):t(r)}return n}const pa=()=>{},rs=Array.isArray;function np(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const t_=/#/g,wT=/&/g,TT=/\//g,AT=/=/g,IT=/\?/g,n_=/\+/g,CT=/%5B/g,ST=/%5D/g,s_=/%5E/g,RT=/%60/g,r_=/%7B/g,PT=/%7C/g,i_=/%7D/g,VT=/%20/g;function Bh(t){return t==null?"":encodeURI(""+t).replace(PT,"|").replace(CT,"[").replace(ST,"]")}function xT(t){return Bh(t).replace(r_,"{").replace(i_,"}").replace(s_,"^")}function Wu(t){return Bh(t).replace(n_,"%2B").replace(VT,"+").replace(t_,"%23").replace(wT,"%26").replace(RT,"`").replace(r_,"{").replace(i_,"}").replace(s_,"^")}function DT(t){return Wu(t).replace(AT,"%3D")}function OT(t){return Bh(t).replace(t_,"%23").replace(IT,"%3F")}function NT(t){return OT(t).replace(TT,"%2F")}function Ca(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const kT=/\/$/,LT=t=>t.replace(kT,"");function bu(t,e,n="/"){let s,r={},i="",a="";const c=e.indexOf("#");let u=e.indexOf("?");return u=c>=0&&u>c?-1:u,u>=0&&(s=e.slice(0,u),i=e.slice(u,c>0?c:e.length),r=t(i.slice(1))),c>=0&&(s=s||e.slice(0,c),a=e.slice(c,e.length)),s=BT(s??e,n),{fullPath:s+i+a,path:s,query:r,hash:Ca(a)}}function MT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $T(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&mo(e.matched[s],n.matched[r])&&o_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function o_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!FT(t[n],e[n]))return!1;return!0}function FT(t,e){return rs(t)?rp(t,e):rs(e)?rp(e,t):t?.valueOf()===e?.valueOf()}function rp(t,e){return rs(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function BT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,a,c;for(a=0;a<s.length;a++)if(c=s[a],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(a).join("/")}const wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Gu=(function(t){return t.pop="pop",t.push="push",t})({}),wu=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function jT(t){if(!t)if(Ji){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),LT(t)}const UT=/^[^#]+#/;function qT(t,e){return t.replace(UT,"#")+e}function HT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const bc=()=>({left:window.scrollX,top:window.scrollY});function zT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=HT(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ip(t,e){return(history.state?history.state.position-e:-1)+t}const Ku=new Map;function WT(t,e){Ku.set(t,e)}function GT(t){const e=Ku.get(t);return Ku.delete(t),e}function KT(t){return typeof t=="string"||t&&typeof t=="object"}function a_(t){return typeof t=="string"||typeof t=="symbol"}let Ct=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const l_=Symbol("");Ct.MATCHER_NOT_FOUND+"",Ct.NAVIGATION_GUARD_REDIRECT+"",Ct.NAVIGATION_ABORTED+"",Ct.NAVIGATION_CANCELLED+"",Ct.NAVIGATION_DUPLICATED+"";function go(t,e){return Ze(new Error,{type:t,[l_]:!0},e)}function Hs(t,e){return t instanceof Error&&l_ in t&&(e==null||!!(t.type&e))}const QT=["params","query","hash"];function XT(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of QT)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function YT(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(n_," "),i=r.indexOf("="),a=Ca(i<0?r:r.slice(0,i)),c=i<0?null:Ca(r.slice(i+1));if(a in e){let u=e[a];rs(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function op(t){let e="";for(let n in t){const s=t[n];if(n=DT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(rs(s)?s.map(r=>r&&Wu(r)):[s&&Wu(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function JT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=rs(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const ZT=Symbol(""),ap=Symbol(""),jh=Symbol(""),Uh=Symbol(""),Qu=Symbol("");function ta(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Sr(t,e,n,s,r,i=a=>a()){const a=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((c,u)=>{const h=y=>{y===!1?u(go(Ct.NAVIGATION_ABORTED,{from:n,to:e})):y instanceof Error?u(y):KT(y)?u(go(Ct.NAVIGATION_GUARD_REDIRECT,{from:e,to:y})):(a&&s.enterCallbacks[r]===a&&typeof y=="function"&&a.push(y),c())},d=i(()=>t.call(s&&s.instances[r],e,n,h));let g=Promise.resolve(d);t.length<3&&(g=g.then(h)),g.catch(y=>u(y))})}function Tu(t,e,n,s,r=i=>i()){const i=[];for(const a of t)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(e_(u)){const h=(u.__vccOpts||u)[e];h&&i.push(Sr(h,n,s,a,c,r))}else{let h=u();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const g=bT(d)?d.default:d;a.mods[c]=d,a.components[c]=g;const y=(g.__vccOpts||g)[e];return y&&Sr(y,n,s,a,c,r)()}))}}return i}function eA(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const c=e.matched[a];c&&(t.matched.find(h=>mo(h,c))?s.push(c):n.push(c));const u=t.matched[a];u&&(e.matched.find(h=>mo(h,u))||r.push(u))}return[n,s,r]}let tA=()=>location.protocol+"//"+location.host;function c_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),sp(c,"")}return sp(n,t)+s+r}function nA(t,e,n,s){let r=[],i=[],a=null;const c=({state:y})=>{const b=c_(t,location),P=n.value,k=e.value;let L=0;if(y){if(n.value=b,e.value=y,a&&a===P){a=null;return}L=k?y.position-k.position:0}else s(b);r.forEach(F=>{F(n.value,P,{delta:L,type:Gu.pop,direction:L?L>0?wu.forward:wu.back:wu.unknown})})};function u(){a=n.value}function h(y){r.push(y);const b=()=>{const P=r.indexOf(y);P>-1&&r.splice(P,1)};return i.push(b),b}function d(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(Ze({},y.state,{scroll:bc()}),"")}}function g(){for(const y of i)y();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:u,listen:h,destroy:g}}function lp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?bc():null}}function sA(t){const{history:e,location:n}=window,s={value:c_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,h,d){const g=t.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+u:tA()+t+u;try{e[d?"replaceState":"pushState"](h,"",y),r.value=h}catch(b){console.error(b),n[d?"replace":"assign"](y)}}function a(u,h){i(u,Ze({},e.state,lp(r.value.back,u,r.value.forward,!0),h,{position:r.value.position}),!0),s.value=u}function c(u,h){const d=Ze({},r.value,e.state,{forward:u,scroll:bc()});i(d.current,d,!0),i(u,Ze({},lp(s.value,u,null),{position:d.position+1},h),!1),s.value=u}return{location:s,state:r,push:c,replace:a}}function rA(t){t=jT(t);const e=sA(t),n=nA(t,e.state,e.location,e.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const r=Ze({location:"",base:t,go:s,createHref:qT.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let Ei=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Bt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Bt||{});const iA={type:Ei.Static,value:""},oA=/[a-zA-Z0-9_]/;function aA(t){if(!t)return[[]];if(t==="/")return[[iA]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${h}": ${b}`)}let n=Bt.Static,s=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let c=0,u,h="",d="";function g(){h&&(n===Bt.Static?i.push({type:Ei.Static,value:h}):n===Bt.Param||n===Bt.ParamRegExp||n===Bt.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Ei.Param,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==Bt.ParamRegExp){s=n,n=Bt.EscapeNext;continue}switch(n){case Bt.Static:u==="/"?(h&&g(),a()):u===":"?(g(),n=Bt.Param):y();break;case Bt.EscapeNext:y(),n=s;break;case Bt.Param:u==="("?n=Bt.ParamRegExp:oA.test(u)?y():(g(),n=Bt.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case Bt.ParamRegExp:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=Bt.ParamRegExpEnd:d+=u;break;case Bt.ParamRegExpEnd:g(),n=Bt.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===Bt.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),g(),a(),r}const cp="[^/]+?",lA={sensitive:!1,strict:!1,start:!0,end:!0};var vn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(vn||{});const cA=/[.+*?^${}()[\]/\\]/g;function uA(t,e){const n=Ze({},lA,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[vn.Root];n.strict&&!h.length&&(r+="/");for(let g=0;g<h.length;g++){const y=h[g];let b=vn.Segment+(n.sensitive?vn.BonusCaseSensitive:0);if(y.type===Ei.Static)g||(r+="/"),r+=y.value.replace(cA,"\\$&"),b+=vn.Static;else if(y.type===Ei.Param){const{value:P,repeatable:k,optional:L,regexp:F}=y;i.push({name:P,repeatable:k,optional:L});const B=F||cp;if(B!==cp){b+=vn.BonusCustomRegExp;try{`${B}`}catch(ne){throw new Error(`Invalid custom RegExp for param "${P}" (${B}): `+ne.message)}}let H=k?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;g||(H=L&&h.length<2?`(?:/${H})`:"/"+H),L&&(H+="?"),r+=H,b+=vn.Dynamic,L&&(b+=vn.BonusOptional),k&&(b+=vn.BonusRepeatable),B===".*"&&(b+=vn.BonusWildcard)}d.push(b)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=vn.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function c(h){const d=h.match(a),g={};if(!d)return null;for(let y=1;y<d.length;y++){const b=d[y]||"",P=i[y-1];g[P.name]=b&&P.repeatable?b.split("/"):b}return g}function u(h){let d="",g=!1;for(const y of t){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const b of y)if(b.type===Ei.Static)d+=b.value;else if(b.type===Ei.Param){const{value:P,repeatable:k,optional:L}=b,F=P in h?h[P]:"";if(rs(F)&&!k)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const B=rs(F)?F.join("/"):F;if(!B)if(L)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${P}"`);d+=B}}return d||"/"}return{re:a,score:s,keys:i,parse:c,stringify:u}}function hA(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===vn.Static+vn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===vn.Static+vn.Segment?1:-1:0}function u_(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=hA(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(up(s))return 1;if(up(r))return-1}return r.length-s.length}function up(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fA={strict:!1,end:!0,sensitive:!1};function dA(t,e,n){const s=uA(aA(t.path),n),r=Ze(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function pA(t,e){const n=[],s=new Map;e=np(fA,e);function r(g){return s.get(g)}function i(g,y,b){const P=!b,k=fp(g);k.aliasOf=b&&b.record;const L=np(e,g),F=[k];if("alias"in g){const ne=typeof g.alias=="string"?[g.alias]:g.alias;for(const me of ne)F.push(fp(Ze({},k,{components:b?b.record.components:k.components,path:me,aliasOf:b?b.record:k})))}let B,H;for(const ne of F){const{path:me}=ne;if(y&&me[0]!=="/"){const ve=y.record.path,V=ve[ve.length-1]==="/"?"":"/";ne.path=y.record.path+(me&&V+me)}if(B=dA(ne,y,L),b?b.alias.push(B):(H=H||B,H!==B&&H.alias.push(B),P&&g.name&&!dp(B)&&a(g.name)),h_(B)&&u(B),k.children){const ve=k.children;for(let V=0;V<ve.length;V++)i(ve[V],B,b&&b.children[V])}b=b||B}return H?()=>{a(H)}:pa}function a(g){if(a_(g)){const y=s.get(g);y&&(s.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(a),y.alias.forEach(a))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&s.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function c(){return n}function u(g){const y=_A(g,n);n.splice(y,0,g),g.record.name&&!dp(g)&&s.set(g.record.name,g)}function h(g,y){let b,P={},k,L;if("name"in g&&g.name){if(b=s.get(g.name),!b)throw go(Ct.MATCHER_NOT_FOUND,{location:g});L=b.record.name,P=Ze(hp(y.params,b.keys.filter(H=>!H.optional).concat(b.parent?b.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),g.params&&hp(g.params,b.keys.map(H=>H.name))),k=b.stringify(P)}else if(g.path!=null)k=g.path,b=n.find(H=>H.re.test(k)),b&&(P=b.parse(k),L=b.record.name);else{if(b=y.name?s.get(y.name):n.find(H=>H.re.test(y.path)),!b)throw go(Ct.MATCHER_NOT_FOUND,{location:g,currentLocation:y});L=b.record.name,P=Ze({},y.params,g.params),k=b.stringify(P)}const F=[];let B=b;for(;B;)F.unshift(B.record),B=B.parent;return{name:L,path:k,params:P,matched:F,meta:gA(F)}}t.forEach(g=>i(g));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:c,getRecordMatcher:r}}function hp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function fp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:mA(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function mA(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function dp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gA(t){return t.reduce((e,n)=>Ze(e,n.meta),{})}function _A(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;u_(t,e[i])<0?s=i:n=i+1}const r=yA(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function yA(t){let e=t;for(;e=e.parent;)if(h_(e)&&u_(t,e)===0)return e}function h_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function pp(t){const e=zn(jh),n=zn(Uh),s=$e(()=>{const u=Ce(t.to);return e.resolve(u)}),r=$e(()=>{const{matched:u}=s.value,{length:h}=u,d=u[h-1],g=n.matched;if(!d||!g.length)return-1;const y=g.findIndex(mo.bind(null,d));if(y>-1)return y;const b=mp(u[h-2]);return h>1&&mp(d)===b&&g[g.length-1].path!==b?g.findIndex(mo.bind(null,u[h-2])):y}),i=$e(()=>r.value>-1&&TA(n.params,s.value.params)),a=$e(()=>r.value>-1&&r.value===n.matched.length-1&&o_(n.params,s.value.params));function c(u={}){if(wA(u)){const h=e[Ce(t.replace)?"replace":"push"](Ce(t.to)).catch(pa);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:$e(()=>s.value.href),isActive:i,isExactActive:a,navigate:c}}function vA(t){return t.length===1?t[0]:t}const EA=_g({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pp,setup(t,{slots:e}){const n=zr(pp(t)),{options:s}=zn(jh),r=$e(()=>({[gp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[gp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&vA(e.default(n));return t.custom?i:Fh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),bA=EA;function wA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function TA(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!rs(r)||r.length!==s.length||s.some((i,a)=>i.valueOf()!==r[a].valueOf()))return!1}return!0}function mp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const gp=(t,e,n)=>t??e??n,AA=_g({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=zn(Qu),r=$e(()=>t.route||s.value),i=zn(ap,0),a=$e(()=>{let h=Ce(i);const{matched:d}=r.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),c=$e(()=>r.value.matched[a.value]);ao(ap,$e(()=>a.value+1)),ao(ZT,c),ao(Qu,r);const u=_t();return Qs(()=>[u.value,c.value,t.name],([h,d,g],[y,b,P])=>{d&&(d.instances[g]=h,b&&b!==d&&h&&h===y&&(d.leaveGuards.size||(d.leaveGuards=b.leaveGuards),d.updateGuards.size||(d.updateGuards=b.updateGuards))),h&&d&&(!b||!mo(d,b)||!y)&&(d.enterCallbacks[g]||[]).forEach(k=>k(h))},{flush:"post"}),()=>{const h=r.value,d=t.name,g=c.value,y=g&&g.components[d];if(!y)return _p(n.default,{Component:y,route:h});const b=g.props[d],P=b?b===!0?h.params:typeof b=="function"?b(h):b:null,L=Fh(y,Ze({},P,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return _p(n.default,{Component:L,route:h})||L}}});function _p(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const IA=AA;function CA(t){const e=pA(t.routes,t),n=t.parseQuery||YT,s=t.stringifyQuery||op,r=t.history,i=ta(),a=ta(),c=ta(),u=lb(wr);let h=wr;Ji&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Eu.bind(null,q=>""+q),g=Eu.bind(null,NT),y=Eu.bind(null,Ca);function b(q,ae){let U,de;return a_(q)?(U=e.getRecordMatcher(q),de=ae):de=q,e.addRoute(de,U)}function P(q){const ae=e.getRecordMatcher(q);ae&&e.removeRoute(ae)}function k(){return e.getRoutes().map(q=>q.record)}function L(q){return!!e.getRecordMatcher(q)}function F(q,ae){if(ae=Ze({},ae||u.value),typeof q=="string"){const N=bu(n,q,ae.path),G=e.resolve({path:N.path},ae),K=r.createHref(N.fullPath);return Ze(N,G,{params:y(G.params),hash:Ca(N.hash),redirectedFrom:void 0,href:K})}let U;if(q.path!=null)U=Ze({},q,{path:bu(n,q.path,ae.path).path});else{const N=Ze({},q.params);for(const G in N)N[G]==null&&delete N[G];U=Ze({},q,{params:g(N)}),ae.params=g(ae.params)}const de=e.resolve(U,ae),ke=q.hash||"";de.params=d(y(de.params));const I=MT(s,Ze({},q,{hash:xT(ke),path:de.path})),S=r.createHref(I);return Ze({fullPath:I,hash:ke,query:s===op?JT(q.query):q.query||{}},de,{redirectedFrom:void 0,href:S})}function B(q){return typeof q=="string"?bu(n,q,u.value.path):Ze({},q)}function H(q,ae){if(h!==q)return go(Ct.NAVIGATION_CANCELLED,{from:ae,to:q})}function ne(q){return V(q)}function me(q){return ne(Ze(B(q),{replace:!0}))}function ve(q,ae){const U=q.matched[q.matched.length-1];if(U&&U.redirect){const{redirect:de}=U;let ke=typeof de=="function"?de(q,ae):de;return typeof ke=="string"&&(ke=ke.includes("?")||ke.includes("#")?ke=B(ke):{path:ke},ke.params={}),Ze({query:q.query,hash:q.hash,params:ke.path!=null?{}:q.params},ke)}}function V(q,ae){const U=h=F(q),de=u.value,ke=q.state,I=q.force,S=q.replace===!0,N=ve(U,de);if(N)return V(Ze(B(N),{state:typeof N=="object"?Ze({},ke,N.state):ke,force:I,replace:S}),ae||U);const G=U;G.redirectedFrom=ae;let K;return!I&&$T(s,de,U)&&(K=go(Ct.NAVIGATION_DUPLICATED,{to:G,from:de}),W(de,de,!0,!1)),(K?Promise.resolve(K):x(G,de)).catch(z=>Hs(z)?Hs(z,Ct.NAVIGATION_GUARD_REDIRECT)?z:Ue(z):De(z,G,de)).then(z=>{if(z){if(Hs(z,Ct.NAVIGATION_GUARD_REDIRECT))return V(Ze({replace:S},B(z.to),{state:typeof z.to=="object"?Ze({},ke,z.to.state):ke,force:I}),ae||G)}else z=C(G,de,!0,S,ke);return R(G,de,z),z})}function A(q,ae){const U=H(q,ae);return U?Promise.reject(U):Promise.resolve()}function w(q){const ae=pn.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(q):q()}function x(q,ae){let U;const[de,ke,I]=eA(q,ae);U=Tu(de.reverse(),"beforeRouteLeave",q,ae);for(const N of de)N.leaveGuards.forEach(G=>{U.push(Sr(G,q,ae))});const S=A.bind(null,q,ae);return U.push(S),Tt(U).then(()=>{U=[];for(const N of i.list())U.push(Sr(N,q,ae));return U.push(S),Tt(U)}).then(()=>{U=Tu(ke,"beforeRouteUpdate",q,ae);for(const N of ke)N.updateGuards.forEach(G=>{U.push(Sr(G,q,ae))});return U.push(S),Tt(U)}).then(()=>{U=[];for(const N of I)if(N.beforeEnter)if(rs(N.beforeEnter))for(const G of N.beforeEnter)U.push(Sr(G,q,ae));else U.push(Sr(N.beforeEnter,q,ae));return U.push(S),Tt(U)}).then(()=>(q.matched.forEach(N=>N.enterCallbacks={}),U=Tu(I,"beforeRouteEnter",q,ae,w),U.push(S),Tt(U))).then(()=>{U=[];for(const N of a.list())U.push(Sr(N,q,ae));return U.push(S),Tt(U)}).catch(N=>Hs(N,Ct.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function R(q,ae,U){c.list().forEach(de=>w(()=>de(q,ae,U)))}function C(q,ae,U,de,ke){const I=H(q,ae);if(I)return I;const S=ae===wr,N=Ji?history.state:{};U&&(de||S?r.replace(q.fullPath,Ze({scroll:S&&N&&N.scroll},ke)):r.push(q.fullPath,ke)),u.value=q,W(q,ae,U,S),Ue()}let T;function Le(){T||(T=r.listen((q,ae,U)=>{if(!Rt.listening)return;const de=F(q),ke=ve(de,Rt.currentRoute.value);if(ke){V(Ze(ke,{replace:!0,force:!0}),de).catch(pa);return}h=de;const I=u.value;Ji&&WT(ip(I.fullPath,U.delta),bc()),x(de,I).catch(S=>Hs(S,Ct.NAVIGATION_ABORTED|Ct.NAVIGATION_CANCELLED)?S:Hs(S,Ct.NAVIGATION_GUARD_REDIRECT)?(V(Ze(B(S.to),{force:!0}),de).then(N=>{Hs(N,Ct.NAVIGATION_ABORTED|Ct.NAVIGATION_DUPLICATED)&&!U.delta&&U.type===Gu.pop&&r.go(-1,!1)}).catch(pa),Promise.reject()):(U.delta&&r.go(-U.delta,!1),De(S,de,I))).then(S=>{S=S||C(de,I,!1),S&&(U.delta&&!Hs(S,Ct.NAVIGATION_CANCELLED)?r.go(-U.delta,!1):U.type===Gu.pop&&Hs(S,Ct.NAVIGATION_ABORTED|Ct.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),R(de,I,S)}).catch(pa)}))}let lt=ta(),rt=ta(),je;function De(q,ae,U){Ue(q);const de=rt.list();return de.length?de.forEach(ke=>ke(q,ae,U)):console.error(q),Promise.reject(q)}function Gt(){return je&&u.value!==wr?Promise.resolve():new Promise((q,ae)=>{lt.add([q,ae])})}function Ue(q){return je||(je=!q,Le(),lt.list().forEach(([ae,U])=>q?U(q):ae()),lt.reset()),q}function W(q,ae,U,de){const{scrollBehavior:ke}=t;if(!Ji||!ke)return Promise.resolve();const I=!U&&GT(ip(q.fullPath,0))||(de||!U)&&history.state&&history.state.scroll||null;return Dl().then(()=>ke(q,ae,I)).then(S=>S&&zT(S)).catch(S=>De(S,q,ae))}const Je=q=>r.go(q);let On;const pn=new Set,Rt={currentRoute:u,listening:!0,addRoute:b,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:L,getRoutes:k,resolve:F,options:t,push:ne,replace:me,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:i.add,beforeResolve:a.add,afterEach:c.add,onError:rt.add,isReady:Gt,install(q){q.component("RouterLink",bA),q.component("RouterView",IA),q.config.globalProperties.$router=Rt,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(u)}),Ji&&!On&&u.value===wr&&(On=!0,ne(r.location).catch(de=>{}));const ae={};for(const de in wr)Object.defineProperty(ae,de,{get:()=>u.value[de],enumerable:!0});q.provide(jh,Rt),q.provide(Uh,tg(ae)),q.provide(Qu,u);const U=q.unmount;pn.add(q),q.unmount=function(){pn.delete(q),pn.size<1&&(h=wr,T&&T(),T=null,u.value=wr,On=!1,je=!1),U()}}};function Tt(q){return q.reduce((ae,U)=>ae.then(()=>w(U)),Promise.resolve())}return Rt}function SA(t){return zn(Uh)}const RA={},PA={class:"home-container"},VA={class:"hero-section"};function xA(t,e){const n=mc("router-link");return ht(),yt("div",PA,[Z("div",VA,[e[1]||(e[1]=Z("h1",null,"Welcome to the Tech Store",-1)),e[2]||(e[2]=Z("p",null,"Browse the latest computer technology products.",-1)),Ke(n,{to:"/products",class:"btn btn-primary btn-lg btn-animated mt-3"},{default:Zn(()=>[...e[0]||(e[0]=[bs(" View Products ",-1)])]),_:1})]),e[3]||(e[3]=cw('<div class="features-section mt-5" data-v-f9eec640><h3 data-v-f9eec640>Why Choose Us?</h3><div class="features-grid" data-v-f9eec640><div class="feature-card" data-v-f9eec640><h5 data-v-f9eec640>Fast Shipping</h5><p data-v-f9eec640>Get your products delivered quickly</p></div><div class="feature-card" data-v-f9eec640><h5 data-v-f9eec640>Best Prices</h5><p data-v-f9eec640>Competitive pricing on all items</p></div><div class="feature-card" data-v-f9eec640><h5 data-v-f9eec640>Quality Products</h5><p data-v-f9eec640>Only the best tech products</p></div></div></div>',1))])}const DA=rr(RA,[["render",xA],["__scopeId","data-v-f9eec640"]]),OA=()=>{};var yp={};const f_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NA=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],c=t[n++],u=((r&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,c=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=i>>2,g=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;u||(b=64,a||(y=64)),s.push(n[d],n[g],n[y],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||c==null||h==null||g==null)throw new kA;const y=i<<2|c>>4;if(s.push(y),h!==64){const b=c<<4&240|h>>2;if(s.push(b),g!==64){const P=h<<6&192|g;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(t){const e=f_(t);return d_.encodeByteArray(e,!0)},jl=function(t){return LA(t).replace(/\./g,"")},MA=function(t){try{return d_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FA=()=>$A().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof yp>"u")return;const t=yp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MA(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return OA()||FA()||BA()||jA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UA=t=>qh()?.emulatorHosts?.[t],qA=t=>{const e=UA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},p_=()=>qh()?.config;class HA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Hh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zA(t){return(await fetch(t,{credentials:"include"})).ok}function WA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jl(JSON.stringify(n)),jl(JSON.stringify(a)),""].join(".")}const ma={};function GA(){const t={prod:[],emulator:[]};for(const e of Object.keys(ma))ma[e]?t.emulator.push(e):t.prod.push(e);return t}function KA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vp=!1;function QA(t,e){if(typeof window>"u"||typeof document>"u"||!Hh(window.location.host)||ma[t]===e||ma[t]||vp)return;ma[t]=e;function n(y){return`__firebase__banner__${y}`}const s="__firebase__banner",i=GA().prod.length>0;function a(){const y=document.getElementById(s);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{vp=!0,a()},y}function d(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=KA(s),b=n("text"),P=document.getElementById(b)||document.createElement("span"),k=n("learnmore"),L=document.getElementById(k)||document.createElement("a"),F=n("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const H=y.element;c(H),d(L,k);const ne=h();u(B,F),H.append(B,P,L,ne),document.body.appendChild(H)}i?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function XA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){const t=qh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const tI="FirebaseError";class Ao extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m_.prototype.create)}}class m_{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?nI(i,s):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new Ao(r,c,s)}}function nI(t,e){return t.replace(sI,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const sI=/\{\$([^}]+)}/g;function Ul(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(Ep(i)&&Ep(a)){if(!Ul(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Ep(t){return t!==null&&typeof t=="object"}function Mr(t){return t&&t._delegate?t._delegate:t}class Sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const yi="[DEFAULT]";class rI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new HA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oI(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(t){return t===yi?void 0:t}function oI(t){return t.instantiationMode==="EAGER"}class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const lI={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},cI=Ge.INFO,uI={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},hI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=uI[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class g_{constructor(e){this.name=e,this._logLevel=cI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const fI=(t,e)=>e.some(n=>t instanceof n);let bp,wp;function dI(){return bp||(bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pI(){return wp||(wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,Xu=new WeakMap,y_=new WeakMap,Au=new WeakMap,zh=new WeakMap;function mI(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Dr(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&__.set(n,t)}).catch(()=>{}),zh.set(e,t),e}function gI(t){if(Xu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Xu.set(t,e)}let Yu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||y_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _I(t){Yu=t(Yu)}function yI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Iu(this),e,...n);return y_.set(s,e.sort?e.sort():[e]),Dr(s)}:pI().includes(t)?function(...e){return t.apply(Iu(this),e),Dr(__.get(this))}:function(...e){return Dr(t.apply(Iu(this),e))}}function vI(t){return typeof t=="function"?yI(t):(t instanceof IDBTransaction&&gI(t),fI(t,dI())?new Proxy(t,Yu):t)}function Dr(t){if(t instanceof IDBRequest)return mI(t);if(Au.has(t))return Au.get(t);const e=vI(t);return e!==t&&(Au.set(t,e),zh.set(e,t)),e}const Iu=t=>zh.get(t);function EI(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),c=Dr(a);return s&&a.addEventListener("upgradeneeded",u=>{s(Dr(a.result),u.oldVersion,u.newVersion,Dr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const bI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],Cu=new Map;function Tp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=wI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||bI.includes(n)))return;const i=async function(a,...c){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),r&&u.done]))[0]};return Cu.set(e,i),i}_I(t=>({...t,get:(e,n,s)=>Tp(e,n)||t.get(e,n,s),has:(e,n)=>!!Tp(e,n)||t.has(e,n)}));class TI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AI(t){return t.getComponent()?.type==="VERSION"}const Ju="@firebase/app",Ap="0.14.6";const Zs=new g_("@firebase/app"),II="@firebase/app-compat",CI="@firebase/analytics-compat",SI="@firebase/analytics",RI="@firebase/app-check-compat",PI="@firebase/app-check",VI="@firebase/auth",xI="@firebase/auth-compat",DI="@firebase/database",OI="@firebase/data-connect",NI="@firebase/database-compat",kI="@firebase/functions",LI="@firebase/functions-compat",MI="@firebase/installations",$I="@firebase/installations-compat",FI="@firebase/messaging",BI="@firebase/messaging-compat",jI="@firebase/performance",UI="@firebase/performance-compat",qI="@firebase/remote-config",HI="@firebase/remote-config-compat",zI="@firebase/storage",WI="@firebase/storage-compat",GI="@firebase/firestore",KI="@firebase/ai",QI="@firebase/firestore-compat",XI="firebase",YI="12.6.0";const Zu="[DEFAULT]",JI={[Ju]:"fire-core",[II]:"fire-core-compat",[SI]:"fire-analytics",[CI]:"fire-analytics-compat",[PI]:"fire-app-check",[RI]:"fire-app-check-compat",[VI]:"fire-auth",[xI]:"fire-auth-compat",[DI]:"fire-rtdb",[OI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[kI]:"fire-fn",[LI]:"fire-fn-compat",[MI]:"fire-iid",[$I]:"fire-iid-compat",[FI]:"fire-fcm",[BI]:"fire-fcm-compat",[jI]:"fire-perf",[UI]:"fire-perf-compat",[qI]:"fire-rc",[HI]:"fire-rc-compat",[zI]:"fire-gcs",[WI]:"fire-gcs-compat",[GI]:"fire-fst",[QI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[XI]:"fire-js-all"};const ql=new Map,ZI=new Map,eh=new Map;function Ip(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hl(t){const e=t.name;if(eh.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;eh.set(e,t);for(const n of ql.values())Ip(n,t);for(const n of ZI.values())Ip(n,t);return!0}function e0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function t0(t){return t==null?!1:t.settings!==void 0}const n0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new m_("app","Firebase",n0);class s0{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const r0=YI;function v_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Zu,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Or.create("bad-app-name",{appName:String(r)});if(n||(n=p_()),!n)throw Or.create("no-options");const i=ql.get(r);if(i){if(Ul(n,i.options)&&Ul(s,i.config))return i;throw Or.create("duplicate-app",{appName:r})}const a=new aI(r);for(const u of eh.values())a.addComponent(u);const c=new s0(n,s,a);return ql.set(r,c),c}function i0(t=Zu){const e=ql.get(t);if(!e&&t===Zu&&p_())return v_();if(!e)throw Or.create("no-app",{appName:t});return e}function co(t,e,n){let s=JI[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(a.join(" "));return}Hl(new Sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const o0="firebase-heartbeat-database",a0=1,Ra="firebase-heartbeat-store";let Su=null;function E_(){return Su||(Su=EI(o0,a0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),Su}async function l0(t){try{const n=(await E_()).transaction(Ra),s=await n.objectStore(Ra).get(b_(t));return await n.done,s}catch(e){if(e instanceof Ao)Zs.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e?.message});Zs.warn(n.message)}}}async function Cp(t,e){try{const s=(await E_()).transaction(Ra,"readwrite");await s.objectStore(Ra).put(e,b_(t)),await s.done}catch(n){if(n instanceof Ao)Zs.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n?.message});Zs.warn(s.message)}}}function b_(t){return`${t.name}!${t.options.appId}`}const c0=1024,u0=30;class h0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>u0){const r=p0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sp(),{heartbeatsToSend:n,unsentEntries:s}=f0(this._heartbeatsCache.heartbeats),r=jl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Zs.warn(e),""}}}function Sp(){return new Date().toISOString().substring(0,10)}function f0(t,e=c0){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),Rp(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Rp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rp(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}function p0(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function m0(t){Hl(new Sa("platform-logger",e=>new TI(e),"PRIVATE")),Hl(new Sa("heartbeat",e=>new h0(e),"PRIVATE")),co(Ju,Ap,t),co(Ju,Ap,"esm2020"),co("fire-js","")}m0("");var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,w_;(function(){var t;function e(V,A){function w(){}w.prototype=A.prototype,V.F=A.prototype,V.prototype=new w,V.prototype.constructor=V,V.D=function(x,R,C){for(var T=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)T[Le-2]=arguments[Le];return A.prototype[R].apply(x,T)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(V,A,w){w||(w=0);const x=Array(16);if(typeof A=="string")for(var R=0;R<16;++R)x[R]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(R=0;R<16;++R)x[R]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=V.g[0],w=V.g[1],R=V.g[2];let C=V.g[3],T;T=A+(C^w&(R^C))+x[0]+3614090360&4294967295,A=w+(T<<7&4294967295|T>>>25),T=C+(R^A&(w^R))+x[1]+3905402710&4294967295,C=A+(T<<12&4294967295|T>>>20),T=R+(w^C&(A^w))+x[2]+606105819&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(A^R&(C^A))+x[3]+3250441966&4294967295,w=R+(T<<22&4294967295|T>>>10),T=A+(C^w&(R^C))+x[4]+4118548399&4294967295,A=w+(T<<7&4294967295|T>>>25),T=C+(R^A&(w^R))+x[5]+1200080426&4294967295,C=A+(T<<12&4294967295|T>>>20),T=R+(w^C&(A^w))+x[6]+2821735955&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(A^R&(C^A))+x[7]+4249261313&4294967295,w=R+(T<<22&4294967295|T>>>10),T=A+(C^w&(R^C))+x[8]+1770035416&4294967295,A=w+(T<<7&4294967295|T>>>25),T=C+(R^A&(w^R))+x[9]+2336552879&4294967295,C=A+(T<<12&4294967295|T>>>20),T=R+(w^C&(A^w))+x[10]+4294925233&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(A^R&(C^A))+x[11]+2304563134&4294967295,w=R+(T<<22&4294967295|T>>>10),T=A+(C^w&(R^C))+x[12]+1804603682&4294967295,A=w+(T<<7&4294967295|T>>>25),T=C+(R^A&(w^R))+x[13]+4254626195&4294967295,C=A+(T<<12&4294967295|T>>>20),T=R+(w^C&(A^w))+x[14]+2792965006&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(A^R&(C^A))+x[15]+1236535329&4294967295,w=R+(T<<22&4294967295|T>>>10),T=A+(R^C&(w^R))+x[1]+4129170786&4294967295,A=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(A^w))+x[6]+3225465664&4294967295,C=A+(T<<9&4294967295|T>>>23),T=R+(A^w&(C^A))+x[11]+643717713&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^A&(R^C))+x[0]+3921069994&4294967295,w=R+(T<<20&4294967295|T>>>12),T=A+(R^C&(w^R))+x[5]+3593408605&4294967295,A=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(A^w))+x[10]+38016083&4294967295,C=A+(T<<9&4294967295|T>>>23),T=R+(A^w&(C^A))+x[15]+3634488961&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^A&(R^C))+x[4]+3889429448&4294967295,w=R+(T<<20&4294967295|T>>>12),T=A+(R^C&(w^R))+x[9]+568446438&4294967295,A=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(A^w))+x[14]+3275163606&4294967295,C=A+(T<<9&4294967295|T>>>23),T=R+(A^w&(C^A))+x[3]+4107603335&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^A&(R^C))+x[8]+1163531501&4294967295,w=R+(T<<20&4294967295|T>>>12),T=A+(R^C&(w^R))+x[13]+2850285829&4294967295,A=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(A^w))+x[2]+4243563512&4294967295,C=A+(T<<9&4294967295|T>>>23),T=R+(A^w&(C^A))+x[7]+1735328473&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^A&(R^C))+x[12]+2368359562&4294967295,w=R+(T<<20&4294967295|T>>>12),T=A+(w^R^C)+x[5]+4294588738&4294967295,A=w+(T<<4&4294967295|T>>>28),T=C+(A^w^R)+x[8]+2272392833&4294967295,C=A+(T<<11&4294967295|T>>>21),T=R+(C^A^w)+x[11]+1839030562&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^A)+x[14]+4259657740&4294967295,w=R+(T<<23&4294967295|T>>>9),T=A+(w^R^C)+x[1]+2763975236&4294967295,A=w+(T<<4&4294967295|T>>>28),T=C+(A^w^R)+x[4]+1272893353&4294967295,C=A+(T<<11&4294967295|T>>>21),T=R+(C^A^w)+x[7]+4139469664&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^A)+x[10]+3200236656&4294967295,w=R+(T<<23&4294967295|T>>>9),T=A+(w^R^C)+x[13]+681279174&4294967295,A=w+(T<<4&4294967295|T>>>28),T=C+(A^w^R)+x[0]+3936430074&4294967295,C=A+(T<<11&4294967295|T>>>21),T=R+(C^A^w)+x[3]+3572445317&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^A)+x[6]+76029189&4294967295,w=R+(T<<23&4294967295|T>>>9),T=A+(w^R^C)+x[9]+3654602809&4294967295,A=w+(T<<4&4294967295|T>>>28),T=C+(A^w^R)+x[12]+3873151461&4294967295,C=A+(T<<11&4294967295|T>>>21),T=R+(C^A^w)+x[15]+530742520&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^A)+x[2]+3299628645&4294967295,w=R+(T<<23&4294967295|T>>>9),T=A+(R^(w|~C))+x[0]+4096336452&4294967295,A=w+(T<<6&4294967295|T>>>26),T=C+(w^(A|~R))+x[7]+1126891415&4294967295,C=A+(T<<10&4294967295|T>>>22),T=R+(A^(C|~w))+x[14]+2878612391&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~A))+x[5]+4237533241&4294967295,w=R+(T<<21&4294967295|T>>>11),T=A+(R^(w|~C))+x[12]+1700485571&4294967295,A=w+(T<<6&4294967295|T>>>26),T=C+(w^(A|~R))+x[3]+2399980690&4294967295,C=A+(T<<10&4294967295|T>>>22),T=R+(A^(C|~w))+x[10]+4293915773&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~A))+x[1]+2240044497&4294967295,w=R+(T<<21&4294967295|T>>>11),T=A+(R^(w|~C))+x[8]+1873313359&4294967295,A=w+(T<<6&4294967295|T>>>26),T=C+(w^(A|~R))+x[15]+4264355552&4294967295,C=A+(T<<10&4294967295|T>>>22),T=R+(A^(C|~w))+x[6]+2734768916&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~A))+x[13]+1309151649&4294967295,w=R+(T<<21&4294967295|T>>>11),T=A+(R^(w|~C))+x[4]+4149444226&4294967295,A=w+(T<<6&4294967295|T>>>26),T=C+(w^(A|~R))+x[11]+3174756917&4294967295,C=A+(T<<10&4294967295|T>>>22),T=R+(A^(C|~w))+x[2]+718787259&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~A))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,V.g[2]=V.g[2]+R&4294967295,V.g[3]=V.g[3]+C&4294967295}s.prototype.v=function(V,A){A===void 0&&(A=V.length);const w=A-this.blockSize,x=this.C;let R=this.h,C=0;for(;C<A;){if(R==0)for(;C<=w;)r(this,V,C),C+=this.blockSize;if(typeof V=="string"){for(;C<A;)if(x[R++]=V.charCodeAt(C++),R==this.blockSize){r(this,x),R=0;break}}else for(;C<A;)if(x[R++]=V[C++],R==this.blockSize){r(this,x),R=0;break}}this.h=R,this.o+=A},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;A=this.o*8;for(var w=V.length-8;w<V.length;++w)V[w]=A&255,A/=256;for(this.v(V),V=Array(16),A=0,w=0;w<4;++w)for(let x=0;x<32;x+=8)V[A++]=this.g[w]>>>x&255;return V};function i(V,A){var w=c;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=A(V)}function a(V,A){this.h=A;const w=[];let x=!0;for(let R=V.length-1;R>=0;R--){const C=V[R]|0;x&&C==A||(w[R]=C,x=!1)}this.g=w}var c={};function u(V){return-128<=V&&V<128?i(V,function(A){return new a([A|0],A<0?-1:0)}):new a([V|0],V<0?-1:0)}function h(V){if(isNaN(V)||!isFinite(V))return g;if(V<0)return L(h(-V));const A=[];let w=1;for(let x=0;V>=w;x++)A[x]=V/w|0,w*=4294967296;return new a(A,0)}function d(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return L(d(V.substring(1),A));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=h(Math.pow(A,8));let x=g;for(let C=0;C<V.length;C+=8){var R=Math.min(8,V.length-C);const T=parseInt(V.substring(C,C+R),A);R<8?(R=h(Math.pow(A,R)),x=x.j(R).add(h(T))):(x=x.j(w),x=x.add(h(T)))}return x}var g=u(0),y=u(1),b=u(16777216);t=a.prototype,t.m=function(){if(k(this))return-L(this).m();let V=0,A=1;for(let w=0;w<this.g.length;w++){const x=this.i(w);V+=(x>=0?x:4294967296+x)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(P(this))return"0";if(k(this))return"-"+L(this).toString(V);const A=h(Math.pow(V,6));var w=this;let x="";for(;;){const R=ne(w,A).g;w=F(w,R.j(A));let C=((w.g.length>0?w.g[0]:w.h)>>>0).toString(V);if(w=R,P(w))return C+x;for(;C.length<6;)C="0"+C;x=C+x}},t.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function P(V){if(V.h!=0)return!1;for(let A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function k(V){return V.h==-1}t.l=function(V){return V=F(this,V),k(V)?-1:P(V)?0:1};function L(V){const A=V.g.length,w=[];for(let x=0;x<A;x++)w[x]=~V.g[x];return new a(w,~V.h).add(y)}t.abs=function(){return k(this)?L(this):this},t.add=function(V){const A=Math.max(this.g.length,V.g.length),w=[];let x=0;for(let R=0;R<=A;R++){let C=x+(this.i(R)&65535)+(V.i(R)&65535),T=(C>>>16)+(this.i(R)>>>16)+(V.i(R)>>>16);x=T>>>16,C&=65535,T&=65535,w[R]=T<<16|C}return new a(w,w[w.length-1]&-2147483648?-1:0)};function F(V,A){return V.add(L(A))}t.j=function(V){if(P(this)||P(V))return g;if(k(this))return k(V)?L(this).j(L(V)):L(L(this).j(V));if(k(V))return L(this.j(L(V)));if(this.l(b)<0&&V.l(b)<0)return h(this.m()*V.m());const A=this.g.length+V.g.length,w=[];for(var x=0;x<2*A;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<V.g.length;R++){const C=this.i(x)>>>16,T=this.i(x)&65535,Le=V.i(R)>>>16,lt=V.i(R)&65535;w[2*x+2*R]+=T*lt,B(w,2*x+2*R),w[2*x+2*R+1]+=C*lt,B(w,2*x+2*R+1),w[2*x+2*R+1]+=T*Le,B(w,2*x+2*R+1),w[2*x+2*R+2]+=C*Le,B(w,2*x+2*R+2)}for(V=0;V<A;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=A;V<2*A;V++)w[V]=0;return new a(w,0)};function B(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function H(V,A){this.g=V,this.h=A}function ne(V,A){if(P(A))throw Error("division by zero");if(P(V))return new H(g,g);if(k(V))return A=ne(L(V),A),new H(L(A.g),L(A.h));if(k(A))return A=ne(V,L(A)),new H(L(A.g),A.h);if(V.g.length>30){if(k(V)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var w=y,x=A;x.l(V)<=0;)w=me(w),x=me(x);var R=ve(w,1),C=ve(x,1);for(x=ve(x,2),w=ve(w,2);!P(x);){var T=C.add(x);T.l(V)<=0&&(R=R.add(w),C=T),x=ve(x,1),w=ve(w,1)}return A=F(V,R.j(A)),new H(R,A)}for(R=g;V.l(A)>=0;){for(w=Math.max(1,Math.floor(V.m()/A.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),C=h(w),T=C.j(A);k(T)||T.l(V)>0;)w-=x,C=h(w),T=C.j(A);P(C)&&(C=y),R=R.add(C),V=F(V,T)}return new H(R,V)}t.B=function(V){return ne(this,V).h},t.and=function(V){const A=Math.max(this.g.length,V.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)&V.i(x);return new a(w,this.h&V.h)},t.or=function(V){const A=Math.max(this.g.length,V.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)|V.i(x);return new a(w,this.h|V.h)},t.xor=function(V){const A=Math.max(this.g.length,V.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)^V.i(x);return new a(w,this.h^V.h)};function me(V){const A=V.g.length+1,w=[];for(let x=0;x<A;x++)w[x]=V.i(x)<<1|V.i(x-1)>>>31;return new a(w,V.h)}function ve(V,A){const w=A>>5;A%=32;const x=V.g.length-w,R=[];for(let C=0;C<x;C++)R[C]=A>0?V.i(C+w)>>>A|V.i(C+w+1)<<32-A:V.i(C+w);return new a(R,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,w_=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Nr=a}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T_,sa,A_,Tl,th,I_,C_,S_;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof dl=="object"&&dl];for(var f=0;f<o.length;++f){var m=o[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function r(o,f){if(f)e:{var m=s;o=o.split(".");for(var E=0;E<o.length-1;E++){var M=o[E];if(!(M in m))break e;m=m[M]}o=o[o.length-1],E=m[o],f=f(E),f!=E&&f!=null&&e(m,o,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(f){var m=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&m.push([E,f[E]]);return m}});var i=i||{},a=this||self;function c(o){var f=typeof o;return f=="object"&&o!=null||f=="function"}function u(o,f,m){return o.call.apply(o.bind,arguments)}function h(o,f,m){return h=u,h.apply(null,arguments)}function d(o,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),o.apply(this,E)}}function g(o,f){function m(){}m.prototype=f.prototype,o.Z=f.prototype,o.prototype=new m,o.prototype.constructor=o,o.Ob=function(E,M,$){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return f.prototype[M].apply(E,se)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function b(o){const f=o.length;if(f>0){const m=Array(f);for(let E=0;E<f;E++)m[E]=o[E];return m}return[]}function P(o,f){for(let E=1;E<arguments.length;E++){const M=arguments[E];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=o.length||0;const $=M.length||0;o.length=m+$;for(let se=0;se<$;se++)o[m+se]=M[se]}else o.push(M)}}class k{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function L(o){a.setTimeout(()=>{throw o},0)}function F(){var o=V;let f=null;return o.g&&(f=o.g,o.g=o.g.next,o.g||(o.h=null),f.next=null),f}class B{constructor(){this.h=this.g=null}add(f,m){const E=H.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var H=new k(()=>new ne,o=>o.reset());class ne{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ve=!1,V=new B,A=()=>{const o=Promise.resolve(void 0);me=()=>{o.then(w)}};function w(){for(var o;o=F();){try{o.h.call(o.g)}catch(m){L(m)}var f=H;f.j(o),f.h<100&&(f.h++,o.next=f.g,f.g=o)}ve=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,f){this.type=o,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,f=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return o})();function T(o){return/^[\s\xa0]*$/.test(o)}function Le(o,f){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,f)}g(Le,R),Le.prototype.init=function(o,f){const m=this.type=o.type,E=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=f,f=o.relatedTarget,f||(m=="mouseover"?f=o.fromElement:m=="mouseout"&&(f=o.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),rt=0;function je(o,f,m,E,M){this.listener=o,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=M,this.key=++rt,this.da=this.fa=!1}function De(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Gt(o,f,m){for(const E in o)f.call(m,o[E],E,o)}function Ue(o,f){for(const m in o)f.call(void 0,o[m],m,o)}function W(o){const f={};for(const m in o)f[m]=o[m];return f}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(o,f){let m,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(m in E)o[m]=E[m];for(let $=0;$<Je.length;$++)m=Je[$],Object.prototype.hasOwnProperty.call(E,m)&&(o[m]=E[m])}}function pn(o){this.src=o,this.g={},this.h=0}pn.prototype.add=function(o,f,m,E,M){const $=o.toString();o=this.g[$],o||(o=this.g[$]=[],this.h++);const se=Tt(o,f,E,M);return se>-1?(f=o[se],m||(f.fa=!1)):(f=new je(f,this.src,$,!!E,M),f.fa=m,o.push(f)),f};function Rt(o,f){const m=f.type;if(m in o.g){var E=o.g[m],M=Array.prototype.indexOf.call(E,f,void 0),$;($=M>=0)&&Array.prototype.splice.call(E,M,1),$&&(De(f),o.g[m].length==0&&(delete o.g[m],o.h--))}}function Tt(o,f,m,E){for(let M=0;M<o.length;++M){const $=o[M];if(!$.da&&$.listener==f&&$.capture==!!m&&$.ha==E)return M}return-1}var q="closure_lm_"+(Math.random()*1e6|0),ae={};function U(o,f,m,E,M){if(Array.isArray(f)){for(let $=0;$<f.length;$++)U(o,f[$],m,E,M);return null}return m=ie(m),o&&o[lt]?o.J(f,m,c(E)?!!E.capture:!1,M):de(o,f,m,!1,E,M)}function de(o,f,m,E,M,$){if(!f)throw Error("Invalid event type");const se=c(M)?!!M.capture:!!M;let xe=K(o);if(xe||(o[q]=xe=new pn(o)),m=xe.add(f,m,E,se,$),m.proxy)return m;if(E=ke(),m.proxy=E,E.src=o,E.listener=m,o.addEventListener)C||(M=se),M===void 0&&(M=!1),o.addEventListener(f.toString(),E,M);else if(o.attachEvent)o.attachEvent(N(f.toString()),E);else if(o.addListener&&o.removeListener)o.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ke(){function o(m){return f.call(o.src,o.listener,m)}const f=G;return o}function I(o,f,m,E,M){if(Array.isArray(f))for(var $=0;$<f.length;$++)I(o,f[$],m,E,M);else E=c(E)?!!E.capture:!!E,m=ie(m),o&&o[lt]?(o=o.i,$=String(f).toString(),$ in o.g&&(f=o.g[$],m=Tt(f,m,E,M),m>-1&&(De(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete o.g[$],o.h--)))):o&&(o=K(o))&&(f=o.g[f.toString()],o=-1,f&&(o=Tt(f,m,E,M)),(m=o>-1?f[o]:null)&&S(m))}function S(o){if(typeof o!="number"&&o&&!o.da){var f=o.src;if(f&&f[lt])Rt(f.i,o);else{var m=o.type,E=o.proxy;f.removeEventListener?f.removeEventListener(m,E,o.capture):f.detachEvent?f.detachEvent(N(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=K(f))?(Rt(m,o),m.h==0&&(m.src=null,f[q]=null)):De(o)}}}function N(o){return o in ae?ae[o]:ae[o]="on"+o}function G(o,f){if(o.da)o=!0;else{f=new Le(f,this);const m=o.listener,E=o.ha||o.src;o.fa&&S(o),o=m.call(E,f)}return o}function K(o){return o=o[q],o instanceof pn?o:null}var z="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(o){return typeof o=="function"?o:(o[z]||(o[z]=function(f){return o.handleEvent(f)}),o[z])}function te(){x.call(this),this.i=new pn(this),this.M=this,this.G=null}g(te,x),te.prototype[lt]=!0,te.prototype.removeEventListener=function(o,f,m,E){I(this,o,f,m,E)};function ee(o,f){var m,E=o.G;if(E)for(m=[];E;E=E.G)m.push(E);if(o=o.M,E=f.type||f,typeof f=="string")f=new R(f,o);else if(f instanceof R)f.target=f.target||o;else{var M=f;f=new R(E,o),On(f,M)}M=!0;let $,se;if(m)for(se=m.length-1;se>=0;se--)$=f.g=m[se],M=J($,E,!0,f)&&M;if($=f.g=o,M=J($,E,!0,f)&&M,M=J($,E,!1,f)&&M,m)for(se=0;se<m.length;se++)$=f.g=m[se],M=J($,E,!1,f)&&M}te.prototype.N=function(){if(te.Z.N.call(this),this.i){var o=this.i;for(const f in o.g){const m=o.g[f];for(let E=0;E<m.length;E++)De(m[E]);delete o.g[f],o.h--}}this.G=null},te.prototype.J=function(o,f,m,E){return this.i.add(String(o),f,!1,m,E)},te.prototype.K=function(o,f,m,E){return this.i.add(String(o),f,!0,m,E)};function J(o,f,m,E){if(f=o.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let $=0;$<f.length;++$){const se=f[$];if(se&&!se.da&&se.capture==m){const xe=se.listener,Vt=se.ha||se.src;se.fa&&Rt(o.i,se),M=xe.call(Vt,E)!==!1&&M}}return M&&!E.defaultPrevented}function _e(o,f){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:a.setTimeout(o,f||0)}function oe(o){o.g=_e(()=>{o.g=null,o.i&&(o.i=!1,oe(o))},o.l);const f=o.h;o.h=null,o.m.apply(null,f)}class pe extends x{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ge(o){x.call(this),this.h=o,this.g={}}g(ge,x);var Te=[];function Qe(o){Gt(o.g,function(f,m){this.g.hasOwnProperty(m)&&S(f)},o),o.g={}}ge.prototype.N=function(){ge.Z.N.call(this),Qe(this)},ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Kt=a.JSON.parse,At=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Ot(){}function Nt(){}var sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){R.call(this,"d")}g(ir,R);function Pt(){R.call(this,"c")}g(Pt,R);var kt={},Kr=null;function xs(){return Kr=Kr||new te}kt.Ia="serverreachability";function Ua(o){R.call(this,kt.Ia,o)}g(Ua,R);function Qr(o){const f=xs();ee(f,new Ua(f))}kt.STAT_EVENT="statevent";function qa(o,f){R.call(this,kt.STAT_EVENT,o),this.stat=f}g(qa,R);function Qt(o){const f=xs();ee(f,new qa(f,o))}kt.Ja="timingevent";function Xr(o,f){R.call(this,kt.Ja,o),this.size=f}g(Xr,R);function or(o,f){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},f)}function ar(){this.g=!0}ar.prototype.ua=function(){this.g=!1};function Bc(o,f,m,E,M,$){o.info(function(){if(o.g)if($){var se="",xe=$.split("&");for(let ze=0;ze<xe.length;ze++){var Vt=xe[ze].split("=");if(Vt.length>1){const ft=Vt[0];Vt=Vt[1];const Ln=ft.split("_");se=Ln.length>=2&&Ln[1]=="type"?se+(ft+"="+Vt+"&"):se+(ft+"=redacted&")}}}else se=null;else se=$;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+m+`
`+se})}function jc(o,f,m,E,M,$,se){o.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+m+`
`+$+" "+se})}function lr(o,f,m,E){o.info(function(){return"XMLHTTP TEXT ("+f+"): "+cr(o,m)+(E?" "+E:"")})}function Uc(o,f){o.info(function(){return"TIMEOUT: "+f})}ar.prototype.info=function(){};function cr(o,f){if(!o.g)return f;if(!f)return null;try{const $=JSON.parse(f);if($){for(o=0;o<$.length;o++)if(Array.isArray($[o])){var m=$[o];if(!(m.length<2)){var E=m[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let se=1;se<E.length;se++)E[se]=""}}}}return qe($)}catch{return f}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ha={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},za;function Vo(){}g(Vo,Ot),Vo.prototype.g=function(){return new XMLHttpRequest},za=new Vo;function Yr(o){return encodeURIComponent(String(o))}function qc(o){var f=1;o=o.split(":");const m=[];for(;f>0&&o.length;)m.push(o.shift()),f--;return o.length&&m.push(o.join(":")),m}function Nn(o,f,m,E){this.j=o,this.i=f,this.l=m,this.S=E||1,this.V=new ge(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ds}function Ds(){this.i=null,this.g="",this.h=!1}var Jr={},xo={};function Zr(o,f,m){o.M=1,o.A=ti(Sn(f)),o.u=m,o.R=!0,Wa(o,null)}function Wa(o,f){o.F=Date.now(),Xt(o),o.B=Sn(o.A);var m=o.B,E=o.S;Array.isArray(E)||(E=[String(E)]),Li(m.i,"t",E),o.C=0,m=o.j.L,o.h=new Ds,o.g=Ja(o.j,m?f:null,!o.u),o.P>0&&(o.O=new pe(h(o.Y,o,o.g),o.P)),f=o.V,m=o.g,E=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(Te[0]=M.toString()),M=Te);for(let $=0;$<M.length;$++){const se=U(m,M[$],E||f.handleEvent,!1,f.h||f);if(!se)break;f.g[se.key]=se}f=o.J?W(o.J):{},o.u?(o.v||(o.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,f)):(o.v="GET",o.g.ea(o.B,o.v,null,f)),Qr(),Bc(o.i,o.v,o.B,o.l,o.S,o.u)}Nn.prototype.ba=function(o){o=o.target;const f=this.O;f&&Xn(o)==3?f.j():this.Y(o)},Nn.prototype.Y=function(o){try{if(o==this.g)e:{const xe=Xn(this.g),Vt=this.g.ya(),ze=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||ji(this.g)))){this.K||xe!=4||Vt==7||(Vt==8||ze<=0?Qr(3):Qr(2)),$t(this);var f=this.g.ca();this.X=f;var m=Hc(this);if(this.o=f==200,jc(this.i,this.v,this.B,this.l,this.S,xe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(E)){var $=E;break t}}$=null}if(o=$)lr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gn(this,o);else{this.o=!1,this.m=3,Qt(12),wn(this),os(this);break e}}if(this.R){o=!0;let ft;for(;!this.K&&this.C<m.length;)if(ft=Zt(this,m),ft==xo){xe==4&&(this.m=4,Qt(14),o=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Jr){this.m=4,Qt(15),lr(this.i,this.l,m,"[Invalid Chunk]"),o=!1;break}else lr(this.i,this.l,ft,null),Gn(this,ft);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||m.length!=0||this.h.h||(this.m=1,Qt(16),o=!1),this.o=this.o&&o,!o)lr(this.i,this.l,m,"[Invalid Chunked Response]"),wn(this),os(this);else if(m.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),qi(se),se.P=!0,Qt(11))}}else lr(this.i,this.l,m,null),Gn(this,m);xe==4&&wn(this),this.o&&!this.K&&(xe==4?Xa(this.j,this):(this.o=!1,Xt(this)))}else Uo(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),wn(this),os(this)}}}catch{}};function Hc(o){if(!Os(o))return o.g.la();const f=ji(o.g);if(f==="")return"";let m="";const E=f.length,M=Xn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return wn(o),os(o),"";o.h.i=new a.TextDecoder}for(let $=0;$<E;$++)o.h.h=!0,m+=o.h.i.decode(f[$],{stream:!(M&&$==E-1)});return f.length=0,o.h.g+=m,o.C=0,o.h.g}function Os(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Zt(o,f){var m=o.C,E=f.indexOf(`
`,m);return E==-1?xo:(m=Number(f.substring(m,E)),isNaN(m)?Jr:(E+=1,E+m>f.length?xo:(f=f.slice(E,E+m),o.C=E+m,f)))}Nn.prototype.cancel=function(){this.K=!0,wn(this)};function Xt(o){o.T=Date.now()+o.H,rn(o,o.H)}function rn(o,f){if(o.D!=null)throw Error("WatchDog timer not null");o.D=or(h(o.aa,o),f)}function $t(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Nn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Uc(this.i,this.B),this.M!=2&&(Qr(),Qt(17)),wn(this),this.m=2,os(this)):rn(this,this.T-o)};function os(o){o.j.I==0||o.K||Xa(o.j,o)}function wn(o){$t(o);var f=o.O;f&&typeof f.dispose=="function"&&f.dispose(),o.O=null,Qe(o.V),o.g&&(f=o.g,o.g=null,f.abort(),f.dispose())}function Gn(o,f){try{var m=o.j;if(m.I!=0&&(m.g==o||Di(m.h,o))){if(!o.L&&Di(m.h,o)&&m.I==3){try{var E=m.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<o.F)oi(m),mr(m);else break e;Ui(m),Qt(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=or(h(m.Va,m),6e3));Ns(m.h)<=1&&m.ta&&(m.ta=void 0)}else us(m,11)}else if((o.L||m.g==o)&&oi(m),!T(f))for(M=m.Ba.g.parse(f),f=0;f<M.length;f++){let ze=M[f];const ft=ze[0];if(!(ft<=m.K))if(m.K=ft,ze=ze[1],m.I==2)if(ze[0]=="c"){m.M=ze[1],m.ba=ze[2];const Ln=ze[3];Ln!=null&&(m.ka=Ln,m.j.info("VER="+m.ka));const Mn=ze[4];Mn!=null&&(m.za=Mn,m.j.info("SVER="+m.za));const ds=ze[5];ds!=null&&typeof ds=="number"&&ds>0&&(E=1.5*ds,m.O=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const ps=o.g;if(ps){const zi=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var $=E.h;$.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ei($,$.h),$.h=null))}if(E.G){const Qo=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(E.wa=Qo,it(E.J,E.G,Qo))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-o.F,m.j.info("Handshake RTT: "+m.T+"ms")),E=m;var se=o;if(E.na=ai(E,E.L?E.ba:null,E.W),se.L){Oi(E.h,se);var xe=se,Vt=E.O;Vt&&(xe.H=Vt),xe.D&&($t(xe),Xt(xe)),E.g=se}else Wo(E);m.i.length>0&&ii(m)}else ze[0]!="stop"&&ze[0]!="close"||us(m,7);else m.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?us(m,7):Bs(m):ze[0]!="noop"&&m.l&&m.l.qa(ze),m.A=0)}}Qr(4)}catch{}}var ur=class{constructor(o,f){this.g=o,this.map=f}};function Do(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xi(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ns(o){return o.h?1:o.g?o.g.size:0}function Di(o,f){return o.h?o.h==f:o.g?o.g.has(f):!1}function ei(o,f){o.g?o.g.add(f):o.h=f}function Oi(o,f){o.h&&o.h==f?o.h=null:o.g&&o.g.has(f)&&o.g.delete(f)}Do.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Oo(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let f=o.i;for(const m of o.g.values())f=f.concat(m.G);return f}return b(o.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(o,f){if(o){o=o.split("&");for(let m=0;m<o.length;m++){const E=o[m].indexOf("=");let M,$=null;E>=0?(M=o[m].substring(0,E),$=o[m].substring(E+1)):M=o[m],f(M,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Kn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;o instanceof Kn?(this.l=o.l,hr(this,o.j),this.o=o.o,this.g=o.g,fr(this,o.u),this.h=o.h,Ni(this,$o(o.i)),this.m=o.m):o&&(f=String(o).match(No))?(this.l=!1,hr(this,f[1]||"",!0),this.o=on(f[2]||""),this.g=on(f[3]||"",!0),fr(this,f[4]),this.h=on(f[5]||"",!0),Ni(this,f[6]||"",!0),this.m=on(f[7]||"")):(this.l=!1,this.i=new as(null,this.l))}Kn.prototype.toString=function(){const o=[];var f=this.j;f&&o.push(Ft(f,mn,!0),":");var m=this.g;return(m||f=="file")&&(o.push("//"),(f=this.o)&&o.push(Ft(f,mn,!0),"@"),o.push(Yr(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&o.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&o.push("/"),o.push(Ft(m,m.charAt(0)=="/"?Lo:ko,!0))),(m=this.i.toString())&&o.push("?",m),(m=this.m)&&o.push("#",Ft(m,Ls)),o.join("")},Kn.prototype.resolve=function(o){const f=Sn(this);let m=!!o.j;m?hr(f,o.j):m=!!o.o,m?f.o=o.o:m=!!o.g,m?f.g=o.g:m=o.u!=null;var E=o.h;if(m)fr(f,o.u);else if(m=!!o.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=f.h.lastIndexOf("/");M!=-1&&(E=f.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const $=[];for(let se=0;se<M.length;){const xe=M[se++];xe=="."?E&&se==M.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),E&&se==M.length&&$.push("")):($.push(xe),E=!0)}E=$.join("/")}else E=M}return m?f.h=E:m=o.i.toString()!=="",m?Ni(f,$o(o.i)):m=!!o.m,m&&(f.m=o.m),f};function Sn(o){return new Kn(o)}function hr(o,f,m){o.j=m?on(f,!0):f,o.j&&(o.j=o.j.replace(/:$/,""))}function fr(o,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);o.u=f}else o.u=null}function Ni(o,f,m){f instanceof as?(o.i=f,zc(o.i,o.l)):(m||(f=Ft(f,kn)),o.i=new as(f,o.l))}function it(o,f,m){o.i.set(f,m)}function ti(o){return it(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function on(o,f){return o?f?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ft(o,f,m){return typeof o=="string"?(o=encodeURI(o).replace(f,ks),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ks(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var mn=/[#\/\?@]/g,ko=/[#\?:]/g,Lo=/[#\?]/g,kn=/[#\?@]/g,Ls=/#/g;function as(o,f){this.h=this.g=null,this.i=o||null,this.j=!!f}function Tn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ga(o.i,function(f,m){o.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=as.prototype,t.add=function(o,f){Tn(this),this.i=null,o=an(this,o);let m=this.g.get(o);return m||this.g.set(o,m=[]),m.push(f),this.h+=1,this};function ki(o,f){Tn(o),f=an(o,f),o.g.has(f)&&(o.i=null,o.h-=o.g.get(f).length,o.g.delete(f))}function Mo(o,f){return Tn(o),f=an(o,f),o.g.has(f)}t.forEach=function(o,f){Tn(this),this.g.forEach(function(m,E){m.forEach(function(M){o.call(f,M,E,this)},this)},this)};function Ms(o,f){Tn(o);let m=[];if(typeof f=="string")Mo(o,f)&&(m=m.concat(o.g.get(an(o,f))));else for(o=Array.from(o.g.values()),f=0;f<o.length;f++)m=m.concat(o[f]);return m}t.set=function(o,f){return Tn(this),this.i=null,o=an(this,o),Mo(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[f]),this.h+=1,this},t.get=function(o,f){return o?(o=Ms(this,o),o.length>0?String(o[0]):f):f};function Li(o,f,m){ki(o,f),m.length>0&&(o.i=null,o.g.set(an(o,f),b(m)),o.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var m=f[E];const M=Yr(m);m=Ms(this,m);for(let $=0;$<m.length;$++){let se=M;m[$]!==""&&(se+="="+Yr(m[$])),o.push(se)}}return this.i=o.join("&")};function $o(o){const f=new as;return f.i=o.i,o.g&&(f.g=new Map(o.g),f.h=o.h),f}function an(o,f){return f=String(f),o.j&&(f=f.toLowerCase()),f}function zc(o,f){f&&!o.j&&(Tn(o),o.i=null,o.g.forEach(function(m,E){const M=E.toLowerCase();E!=M&&(ki(this,E),Li(this,M,m))},o)),o.j=f}function ls(o,f){const m=new ar;if(a.Image){const E=new Image;E.onload=d(Qn,m,"TestLoadImage: loaded",!0,f,E),E.onerror=d(Qn,m,"TestLoadImage: error",!1,f,E),E.onabort=d(Qn,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=d(Qn,m,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=o}else f(!1)}function Mi(o,f){const m=new ar,E=new AbortController,M=setTimeout(()=>{E.abort(),Qn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(o,{signal:E.signal}).then($=>{clearTimeout(M),$.ok?Qn(m,"TestPingServer: ok",!0,f):Qn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Qn(m,"TestPingServer: error",!1,f)})}function Qn(o,f,m,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(m)}catch{}}function ni(){this.g=new At}function si(o){this.i=o.Sb||null,this.h=o.ab||!1}g(si,Ot),si.prototype.g=function(){return new cs(this.i,this.h)};function cs(o,f){te.call(this),this.H=o,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(cs,te),t=cs.prototype,t.open=function(o,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=f,this.readyState=1,pr(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(f.body=o),(this.H||a).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var f=o.value?o.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!o.done}))&&(this.response=this.responseText+=f)}o.done?dr(this):pr(this),this.readyState==3&&Fo(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,dr(this))},t.Na=function(o){this.g&&(this.response=o,dr(this))},t.ga=function(){this.g&&dr(this)};function dr(o){o.readyState=4,o.l=null,o.j=null,o.B=null,pr(o)}t.setRequestHeader=function(o,f){this.A.append(o,f)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,o.push(m[0]+": "+m[1]),m=f.next();return o.join(`\r
`)};function pr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function $s(o){let f="";return Gt(o,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function Bo(o,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=$s(m),typeof o=="string"?m!=null&&Yr(m):it(o,f,m))}function gt(o){te.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(gt,te);var jo=/^https?$/i,$i=["POST","PUT"];t=gt.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);f=f?f.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():za.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(o),!0),this.B=!1}catch($){Fi(this,$);return}if(o=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)m.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())m.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find($=>$.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call($i,f,void 0)>=0)||E||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of m)this.g.setRequestHeader($,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch($){Fi(this,$)}};function Fi(o,f){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=f,o.o=5,Ka(o),Bi(o)}function Ka(o){o.A||(o.A=!0,ee(o,"complete"),ee(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,ee(this,"complete"),ee(this,"abort"),Bi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ri(this):this.Xa())},t.Xa=function(){ri(this)};function ri(o){if(o.h&&typeof i<"u"){if(o.v&&Xn(o)==4)setTimeout(o.Ca.bind(o),0);else if(ee(o,"readystatechange"),Xn(o)==4){o.h=!1;try{const $=o.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=$===0){let se=String(o.D).match(No)[1]||null;!se&&a.self&&a.self.location&&(se=a.self.location.protocol.slice(0,-1)),E=!jo.test(se?se.toLowerCase():"")}m=E}if(m)ee(o,"complete"),ee(o,"success");else{o.o=6;try{var M=Xn(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",Ka(o)}}finally{Bi(o)}}}}function Bi(o,f){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const m=o.g;o.g=null,f||ee(o,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var f=this.g.responseText;return o&&f.indexOf(o)==0&&(f=f.substring(o.length)),Kt(f)}};function ji(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uo(o){const f={};o=(o.g&&Xn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<o.length;E++){if(T(o[E]))continue;var m=qc(o[E]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const $=f[M]||[];f[M]=$,$.push(m)}Ue(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(o,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[o]||f}function qo(o){this.za=0,this.i=[],this.j=new ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fs("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fs("baseRetryDelayMs",5e3,o),this.Za=Fs("retryDelaySeedMs",1e4,o),this.Ta=Fs("forwardChannelMaxRetries",2,o),this.va=Fs("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(o&&o.concurrentRequestLimit),this.Ba=new ni,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qo.prototype,t.ka=8,t.I=1,t.connect=function(o,f,m,E){Qt(0),this.W=o,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.J=ai(this,null,this.W),ii(this)};function Bs(o){if(Ho(o),o.I==3){var f=o.V++,m=Sn(o.J);if(it(m,"SID",o.M),it(m,"RID",f),it(m,"TYPE","terminate"),_r(o,m),f=new Nn(o,o.j,f),f.M=2,f.A=ti(Sn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.A,m=!0),m||(f.g=Ja(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Xt(f)}Go(o)}function mr(o){o.g&&(qi(o),o.g.cancel(),o.g=null)}function Ho(o){mr(o),o.v&&(a.clearTimeout(o.v),o.v=null),oi(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function ii(o){if(!xi(o.h)&&!o.m){o.m=!0;var f=o.Ea;me||A(),ve||(me(),ve=!0),V.add(f,o),o.D=0}}function gr(o,f){return Ns(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=f.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=or(h(o.Ea,o,f),Ya(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new Nn(this,this.j,o);let $=this.o;if(this.U&&($?($=W($),On($,this.U)):$=this.U),this.u!==null||this.R||(M.J=$,$=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=zo(this,M,f),m=Sn(this.J),it(m,"RID",o),it(m,"CVER",22),this.G&&it(m,"X-HTTP-Session-Id",this.G),_r(this,m),$&&(this.R?f="headers="+Yr($s($))+"&"+f:this.u&&Bo(m,this.u,$)),ei(this.h,M),this.Ra&&it(m,"TYPE","init"),this.S?(it(m,"$req",f),it(m,"SID","null"),M.U=!0,Zr(M,m,null)):Zr(M,m,f),this.I=2}}else this.I==3&&(o?Qa(this,o):this.i.length==0||xi(this.h)||Qa(this))};function Qa(o,f){var m;f?m=f.l:m=o.V++;const E=Sn(o.J);it(E,"SID",o.M),it(E,"RID",m),it(E,"AID",o.K),_r(o,E),o.u&&o.o&&Bo(E,o.u,o.o),m=new Nn(o,o.j,m,o.D+1),o.u===null&&(m.J=o.o),f&&(o.i=f.G.concat(o.i)),f=zo(o,m,1e3),m.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),ei(o.h,m),Zr(m,E,f)}function _r(o,f){o.H&&Gt(o.H,function(m,E){it(f,E,m)}),o.l&&Gt({},function(m,E){it(f,E,m)})}function zo(o,f,m){m=Math.min(o.i.length,m);const E=o.l?h(o.l.Ka,o.l,o):null;e:{var M=o.i;let xe=-1;for(;;){const Vt=["count="+m];xe==-1?m>0?(xe=M[0].g,Vt.push("ofs="+xe)):xe=0:Vt.push("ofs="+xe);let ze=!0;for(let ft=0;ft<m;ft++){var $=M[ft].g;const Ln=M[ft].map;if($-=xe,$<0)xe=Math.max(0,M[ft].g-100),ze=!1;else try{$="req"+$+"_"||"";try{var se=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Mn,ds]of se){let ps=ds;c(ds)&&(ps=qe(ds)),Vt.push($+Mn+"="+encodeURIComponent(ps))}}catch(Mn){throw Vt.push($+"type="+encodeURIComponent("_badmap")),Mn}}catch{E&&E(Ln)}}if(ze){se=Vt.join("&");break e}}se=void 0}return o=o.i.splice(0,m),f.G=o,se}function Wo(o){if(!o.g&&!o.v){o.Y=1;var f=o.Da;me||A(),ve||(me(),ve=!0),V.add(f,o),o.A=0}}function Ui(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=or(h(o.Da,o),Ya(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Hi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=or(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),mr(this),Hi(this))};function qi(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function Hi(o){o.g=new Nn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var f=Sn(o.na);it(f,"RID","rpc"),it(f,"SID",o.M),it(f,"AID",o.K),it(f,"CI",o.F?"0":"1"),!o.F&&o.ia&&it(f,"TO",o.ia),it(f,"TYPE","xmlhttp"),_r(o,f),o.u&&o.o&&Bo(f,o.u,o.o),o.O&&(o.g.H=o.O);var m=o.g;o=o.ba,m.M=1,m.A=ti(Sn(f)),m.u=null,m.R=!0,Wa(m,o)}t.Va=function(){this.C!=null&&(this.C=null,mr(this),Ui(this),Qt(19))};function oi(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Xa(o,f){var m=null;if(o.g==f){oi(o),qi(o),o.g=null;var E=2}else if(Di(o.h,f))m=f.G,Oi(o.h,f),E=1;else return;if(o.I!=0){if(f.o)if(E==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var M=o.D;E=xs(),ee(E,new Xr(E,m)),ii(o)}else Wo(o);else if(M=f.m,M==3||M==0&&f.X>0||!(E==1&&gr(o,f)||E==2&&Ui(o)))switch(m&&m.length>0&&(f=o.h,f.i=f.i.concat(m)),M){case 1:us(o,5);break;case 4:us(o,10);break;case 3:us(o,6);break;default:us(o,2)}}}function Ya(o,f){let m=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(m*=2),m*f}function us(o,f){if(o.j.info("Error code "+f),f==2){var m=h(o.bb,o),E=o.Ua;const M=!E;E=new Kn(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hr(E,"https"),ti(E),M?ls(E.toString(),m):Mi(E.toString(),m)}else Qt(2);o.I=0,o.l&&o.l.pa(f),Go(o),Ho(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Go(o){if(o.I=0,o.ja=[],o.l){const f=Oo(o.h);(f.length!=0||o.i.length!=0)&&(P(o.ja,f),P(o.ja,o.i),o.h.i.length=0,b(o.i),o.i.length=0),o.l.oa()}}function ai(o,f,m){var E=m instanceof Kn?Sn(m):new Kn(m);if(E.g!="")f&&(E.g=f+"."+E.g),fr(E,E.u);else{var M=a.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const $=new Kn(null);E&&hr($,E),f&&($.g=f),M&&fr($,M),m&&($.h=m),E=$}return m=o.G,f=o.wa,m&&f&&it(E,m,f),it(E,"VER",o.ka),_r(o,E),E}function Ja(o,f,m){if(f&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=o.Aa&&!o.ma?new gt(new si({ab:m})):new gt(o.ma),f.Fa(o.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}t=Za.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yr(){}yr.prototype.g=function(o,f){return new ln(o,f)};function ln(o,f){te.call(this),this.g=new qo(f),this.l=o,this.h=f&&f.messageUrlParams||null,o=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(o?o["X-WebChannel-Content-Type"]=f.messageContentType:o={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(o?o["X-WebChannel-Client-Profile"]=f.sa:o={"X-WebChannel-Client-Profile":f.sa}),this.g.U=o,(o=f&&f.Qb)&&!T(o)&&(this.g.u=o),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!T(f)&&(this.g.G=f,o=this.h,o!==null&&f in o&&(o=this.h,f in o&&delete o[f])),this.j=new fs(this)}g(ln,te),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Bs(this.g)},ln.prototype.o=function(o){var f=this.g;if(typeof o=="string"){var m={};m.__data__=o,o=m}else this.v&&(m={},m.__data__=qe(o),o=m);f.i.push(new ur(f.Ya++,o)),f.I==3&&ii(f)},ln.prototype.N=function(){this.g.l=null,delete this.j,Bs(this.g),delete this.g,ln.Z.N.call(this)};function Ko(o){ir.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var f=o.__sm__;if(f){e:{for(const m in f){o=m;break e}o=void 0}(this.i=o)&&(o=this.i,f=f!==null&&o in f?f[o]:void 0),this.data=f}else this.data=o}g(Ko,ir);function hs(){Pt.call(this),this.status=1}g(hs,Pt);function fs(o){this.g=o}g(fs,Za),fs.prototype.ra=function(){ee(this.g,"a")},fs.prototype.qa=function(o){ee(this.g,new Ko(o))},fs.prototype.pa=function(o){ee(this.g,new hs)},fs.prototype.oa=function(){ee(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,S_=function(){return new yr},C_=function(){return xs()},I_=kt,th={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Tl=is,Ha.COMPLETE="complete",A_=Ha,Nt.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",te.prototype.listen=te.prototype.J,sa=Nt,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,T_=gt}).apply(typeof dl<"u"?dl:typeof self<"u"?self:typeof window<"u"?window:{});const Vp="@firebase/firestore",xp="4.9.3";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Io="12.7.0";const Ii=new g_("@firebase/firestore");function Zi(){return Ii.logLevel}function ce(t,...e){if(Ii.logLevel<=Ge.DEBUG){const n=e.map(Wh);Ii.debug(`Firestore (${Io}): ${t}`,...n)}}function er(t,...e){if(Ii.logLevel<=Ge.ERROR){const n=e.map(Wh);Ii.error(`Firestore (${Io}): ${t}`,...n)}}function _o(t,...e){if(Ii.logLevel<=Ge.WARN){const n=e.map(Wh);Ii.warn(`Firestore (${Io}): ${t}`,...n)}}function Wh(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,R_(t,s,n)}function R_(t,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function tt(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||R_(e,r,s)}function Ve(t,e){return t}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class P_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class _0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class y0{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xs,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},c=u=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new P_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class v0{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E0{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new v0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,t0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dp(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Gh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=w0(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function nh(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Ru(r)===Ru(i)?Fe(r,i):Ru(r)?1:-1}return Fe(t.length,e.length)}const T0=55296,A0=57343;function Ru(t){const e=t.charCodeAt(0);return e>=T0&&e<=A0}function yo(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}const Op="__name__";class Es{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Es.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const s=Es.isNumericId(e),r=Es.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Es.extractNumericId(e).compare(Es.extractNumericId(n)):nh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class vt extends Es{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const I0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Es{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return I0.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Op}static keyField(){return new tn([Op])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(s+=c,r++):(i(),r++)}if(i(),a)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(vt.fromString(e))}static fromName(e){return new ye(vt.fromString(e).popFirst(5))}static empty(){return new ye(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new vt(e.slice()))}}function V_(t,e,n){if(!n)throw new fe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C0(t,e,n,s){if(e===!0&&s===!0)throw new fe(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Np(t){if(!ye.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kp(t){if(ye.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ma(t,e){if(!x_(t))throw new fe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new fe(X.INVALID_ARGUMENT,n);return!0}const Lp=-62135596800,Mp=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mp);return new Et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lp)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mp}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ma(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Mt("string",Et._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Et(0,0))}static max(){return new Ie(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pa=-1;function S0(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(s===1e9?new Et(n+1,0):new Et(n,s));return new $r(r,ye.empty(),e)}function R0(t){return new $r(t.readTime,t.key,Pa)}class $r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(Ie.min(),ye.empty(),Pa)}static max(){return new $r(Ie.max(),ye.empty(),Pa)}}function P0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}const V0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==V0)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,s)=>{n(e)}))}static reject(e){return new Q(((n,s)=>{s(e)}))}static waitFor(e){return new Q(((n,s)=>{let r=0,i=0,a=!1;e.forEach((c=>{++r,c.next((()=>{++i,a&&i===r&&n()}),(u=>s(u)))})),a=!0,i===r&&n()}))}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next((r=>r?Q.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new Q(((s,r)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((d=>{a[h]=d,++c,c===i&&s(a)}),(d=>r(d)))}}))}static doWhile(e,n){return new Q(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function D0(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(t){return t.name==="IndexedDbTransactionError"}class wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wc.ce=-1;const Qh=-1;function Tc(t){return t==null}function zl(t){return t===0&&1/t==-1/0}function O0(t){return typeof t=="number"&&Number.isInteger(t)&&!zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const D_="";function N0(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$p(e)),e=k0(t.get(n),e);return $p(e)}function k0(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case D_:n+="";break;default:n+=i}}return n}function $p(t){return t+D_+""}function Fp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class wt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??en.RED,this.left=r??en.EMPTY,this.right=i??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new en(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bp(this.data.getIterator())}getIteratorFrom(e){return new Bp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Bp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new zt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class N_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new N_("Invalid base64 string: "+i):i}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const L0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=L0.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}const k_="server_timestamp",L_="__type__",M_="__previous_value__",$_="__local_write_time__";function Xh(t){return(t?.mapValue?.fields||{})[L_]?.stringValue===k_}function Ac(t){const e=t.mapValue.fields[M_];return Xh(e)?Ac(e):e}function Va(t){const e=Fr(t.mapValue.fields[$_].timestampValue);return new Et(e.seconds,e.nanos)}class M0{constructor(e,n,s,r,i,a,c,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Wl="(default)";class xa{constructor(e,n){this.projectId=e,this.database=n||Wl}static empty(){return new xa("","")}get isDefaultDatabase(){return this.database===Wl}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}const F_="__type__",$0="__max__",ml={mapValue:{}},B_="__vector__",Gl="value";function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xh(t)?4:B0(t)?9007199254740991:F0(t)?10:11:be(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Fr(r.timestampValue),c=Fr(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return Br(r.bytesValue).isEqual(Br(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return Dt(r.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return Dt(r.integerValue)===Dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Dt(r.doubleValue),c=Dt(i.doubleValue);return a===c?zl(a)===zl(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Fp(a)!==Fp(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Ps(a[u],c[u])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function Da(t,e){return(t.values||[]).find((n=>Ps(n,e)))!==void 0}function vo(t,e){if(t===e)return 0;const n=jr(t),s=jr(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const c=Dt(i.integerValue||i.doubleValue),u=Dt(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return jp(t.timestampValue,e.timestampValue);case 4:return jp(Va(t),Va(e));case 5:return nh(t.stringValue,e.stringValue);case 6:return(function(i,a){const c=Br(i),u=Br(a);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const c=i.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){const d=Fe(c[h],u[h]);if(d!==0)return d}return Fe(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const c=Fe(Dt(i.latitude),Dt(a.latitude));return c!==0?c:Fe(Dt(i.longitude),Dt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Up(t.arrayValue,e.arrayValue);case 10:return(function(i,a){const c=i.fields||{},u=a.fields||{},h=c[Gl]?.arrayValue,d=u[Gl]?.arrayValue,g=Fe(h?.values?.length||0,d?.values?.length||0);return g!==0?g:Up(h,d)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===ml.mapValue&&a===ml.mapValue)return 0;if(i===ml.mapValue)return 1;if(a===ml.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const y=nh(u[g],d[g]);if(y!==0)return y;const b=vo(c[u[g]],h[d[g]]);if(b!==0)return b}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function jp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Fr(t),s=Fr(e),r=Fe(n.seconds,s.seconds);return r!==0?r:Fe(n.nanos,s.nanos)}function Up(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=vo(n[r],s[r]);if(i)return i}return Fe(n.length,s.length)}function Eo(t){return sh(t)}function sh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=sh(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${sh(n.fields[a])}`;return r+"}"})(t.mapValue):be(61005,{value:t})}function Al(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ac(t);return e?16+Al(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+Al(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return Wr(s.fields,((i,a)=>{r+=i.length+Al(a)})),r})(t.mapValue);default:throw be(13486,{value:t})}}function rh(t){return!!t&&"integerValue"in t}function Yh(t){return!!t&&"arrayValue"in t}function qp(t){return!!t&&"nullValue"in t}function Hp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}function F0(t){return(t?.mapValue?.fields||{})[F_]?.stringValue===B_}function ga(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ga(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return{...t}}function B0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$0}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=tn.emptyPath(),s={},r=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=c.popLast()}a?s[c.lastSegment()]=ga(a):r.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Il(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Wr(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Cn(ga(this.value))}}function j_(t){const e=[];return Wr(t.fields,((n,s)=>{const r=new tn([n]);if(Il(s)){const i=j_(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)})),new Dn(e)}class fn{constructor(e,n,s,r,i,a,c){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,Ie.min(),Ie.min(),Ie.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,r){return new fn(e,1,n,Ie.min(),s,r,0)}static newNoDocument(e,n){return new fn(e,2,n,Ie.min(),Ie.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ie.min(),Ie.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function zp(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=ye.comparator(ye.fromName(a.referenceValue),n.key):s=vo(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function j0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class U_{}class Ut extends U_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new q0(e,n,s):n==="array-contains"?new W0(e,s):n==="in"?new G0(e,s):n==="not-in"?new K0(e,s):n==="array-contains-any"?new Q0(e,s):new Ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H0(e,s):new z0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends U_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return q_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q_(t){return t.op==="and"}function H_(t){return U0(t)&&q_(t)}function U0(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function ih(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(H_(t))return t.filters.map((e=>ih(e))).join(",");{const e=t.filters.map((n=>ih(n))).join(",");return`${t.op}(${e})`}}function z_(t,e){return t instanceof Ut?(function(s,r){return r instanceof Ut&&s.op===r.op&&s.field.isEqual(r.field)&&Ps(s.value,r.value)})(t,e):t instanceof Vs?(function(s,r){return r instanceof Vs&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,a,c)=>i&&z_(a,r.filters[c])),!0):!1})(t,e):void be(19439)}function W_(t){return t instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(W_).join(" ,")+"}"})(t):"Filter"}class q0 extends Ut{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class H0 extends Ut{constructor(e,n){super(e,"in",n),this.keys=G_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class z0 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=G_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G_(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class W0 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&Da(n.arrayValue,this.value)}}class G0 extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Da(this.value.arrayValue,n)}}class K0 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Da(this.value.arrayValue,n)}}class Q0 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Da(this.value.arrayValue,s)))}}class X0{constructor(e,n=null,s=[],r=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function Gp(t,e=null,n=[],s=[],r=null,i=null,a=null){return new X0(t,e,n,s,r,i,a)}function Jh(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ih(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),Tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function Zh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j0(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wp(t.startAt,e.startAt)&&Wp(t.endAt,e.endAt)}function oh(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ic{constructor(e,n=null,s=[],r=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y0(t,e,n,s,r,i,a,c){return new Ic(t,e,n,s,r,i,a,c)}function ef(t){return new Ic(t)}function Kp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J0(t){return t.collectionGroup!==null}function _a(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new zt(tn.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ql(i,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Ql(tn.keyField(),s))}return e.Ie}function As(t){const e=Ve(t);return e.Ee||(e.Ee=Z0(e,_a(t))),e.Ee}function Z0(t,e){if(t.limitType==="F")return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new Ql(r.field,i)}));const n=t.endAt?new Kl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Kl(t.startAt.position,t.startAt.inclusive):null;return Gp(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ah(t,e,n){return new Ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cc(t,e){return Zh(As(t),As(e))&&t.limitType===e.limitType}function K_(t){return`${Jh(As(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>W_(r))).join(", ")}]`),Tc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Eo(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Eo(r))).join(",")),`Target(${s})`})(As(t))}; limitType=${t.limitType})`}function Sc(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ye.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of _a(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(a,c,u){const h=zp(a,c,u);return a.inclusive?h<=0:h<0})(s.startAt,_a(s),r)||s.endAt&&!(function(a,c,u){const h=zp(a,c,u);return a.inclusive?h>=0:h>0})(s.endAt,_a(s),r))})(t,e)}function eC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q_(t){return(e,n)=>{let s=!1;for(const r of _a(t)){const i=tC(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function tC(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(i,a,c){const u=a.data.field(i),h=c.data.field(i);return u!==null&&h!==null?vo(u,h):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:t.dir})}}class Ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return O_(this.inner)}size(){return this.innerSize}}const nC=new wt(ye.comparator);function nr(){return nC}const X_=new wt(ye.comparator);function ra(...t){let e=X_;for(const n of t)e=e.insert(n.key,n);return e}function Y_(t){let e=X_;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function bi(){return ya()}function J_(){return ya()}function ya(){return new Ri((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sC=new wt(ye.comparator),rC=new zt(ye.comparator);function Be(...t){let e=rC;for(const n of t)e=e.add(n);return e}const iC=new zt(Fe);function oC(){return iC}function tf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function Z_(t){return{integerValue:""+t}}function aC(t,e){return O0(e)?Z_(e):tf(t,e)}class Rc{constructor(){this._=void 0}}function lC(t,e,n){return t instanceof Xl?(function(r,i){const a={fields:{[L_]:{stringValue:k_},[$_]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Xh(i)&&(i=Ac(i)),i&&(a.fields[M_]=i),{mapValue:a}})(n,e):t instanceof Oa?ty(t,e):t instanceof Na?ny(t,e):(function(r,i){const a=ey(r,i),c=Qp(a)+Qp(r.Ae);return rh(a)&&rh(r.Ae)?Z_(c):tf(r.serializer,c)})(t,e)}function cC(t,e,n){return t instanceof Oa?ty(t,e):t instanceof Na?ny(t,e):n}function ey(t,e){return t instanceof Yl?(function(s){return rh(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class Xl extends Rc{}class Oa extends Rc{constructor(e){super(),this.elements=e}}function ty(t,e){const n=sy(e);for(const s of t.elements)n.some((r=>Ps(r,s)))||n.push(s);return{arrayValue:{values:n}}}class Na extends Rc{constructor(e){super(),this.elements=e}}function ny(t,e){let n=sy(e);for(const s of t.elements)n=n.filter((r=>!Ps(r,s)));return{arrayValue:{values:n}}}class Yl extends Rc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qp(t){return Dt(t.integerValue||t.doubleValue)}function sy(t){return Yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uC(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof Oa&&r instanceof Oa||s instanceof Na&&r instanceof Na?yo(s.elements,r.elements,Ps):s instanceof Yl&&r instanceof Yl?Ps(s.Ae,r.Ae):s instanceof Xl&&r instanceof Xl})(t.transform,e.transform)}class hC{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pc{}function ry(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nf(t.key,ts.none()):new $a(t.key,t.data,ts.none());{const n=t.data,s=Cn.empty();let r=new zt(tn.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new Gr(t.key,s,new Dn(r.toArray()),ts.none())}}function fC(t,e,n){t instanceof $a?(function(r,i,a){const c=r.value.clone(),u=Yp(r.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Gr?(function(r,i,a){if(!Cl(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Yp(r.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(iy(r)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function va(t,e,n,s){return t instanceof $a?(function(i,a,c,u){if(!Cl(i.precondition,a))return c;const h=i.value.clone(),d=Jp(i.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof Gr?(function(i,a,c,u){if(!Cl(i.precondition,a))return c;const h=Jp(i.fieldTransforms,u,a),d=a.data;return d.setAll(iy(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,s):(function(i,a,c){return Cl(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function dC(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=ey(s.transform,r||null);i!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,i))}return n||null}function Xp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&yo(s,r,((i,a)=>uC(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $a extends Pc{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gr extends Pc{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iy(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Yp(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,c=e.data.field(i.field);s.set(i.field,cC(a,c,n[r]))}return s}function Jp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,lC(i,a,e))}return s}class nf extends Pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mC{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&fC(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=va(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=va(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=J_();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(r.key)?null:c;const u=ry(a,c);u!==null&&s.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>Xp(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>Xp(n,s)))}}class sf{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return sC})();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new sf(e,n,s,r)}}class gC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _C{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,We;function yC(t){switch(t){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function oy(t){if(t===void 0)return er("GRPC error has no .code"),X.UNKNOWN;switch(t){case Lt.OK:return X.OK;case Lt.CANCELLED:return X.CANCELLED;case Lt.UNKNOWN:return X.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return X.INTERNAL;case Lt.UNAVAILABLE:return X.UNAVAILABLE;case Lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Lt.NOT_FOUND:return X.NOT_FOUND;case Lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Lt.ABORTED:return X.ABORTED;case Lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Lt.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:t})}}(We=Lt||(Lt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function vC(){return new TextEncoder}const EC=new Nr([4294967295,4294967295],0);function Zp(t){const e=vC().encode(t),n=new w_;return n.update(e),new Uint8Array(n.digest())}function em(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Nr([n,s],0),new Nr([r,i],0)]}class rf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ia(`Invalid padding: ${n}`);if(s<0)throw new ia(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ia(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ia(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Nr.fromNumber(s)));return r.compare(EC)===1&&(r=new Nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zp(e),[s,r]=em(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new rf(i,r,n);return s.forEach((c=>a.insert(c))),a}insert(e){if(this.ge===0)return;const n=Zp(e),[s,r]=em(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vc(Ie.min(),r,new wt(Fe),nr(),Be())}}class Fa{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fa(s,n,Be(),Be(),Be())}}class Sl{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class ay{constructor(e,n){this.targetId=e,this.Ce=n}}class ly{constructor(e,n,s=nn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class tm{constructor(){this.ve=0,this.Fe=nm(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:be(38017,{changeType:i})}})),new Fa(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bC{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=gl(),this.He=gl(),this.Ye=new wt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(oh(i))if(s===0){const a=new ye(i.path);this.et(n,a,fn.newNoDocument(a,Ie.min()))}else tt(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,c;try{a=Br(s).toUint8Array()}catch(u){if(u instanceof N_)return _o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new rf(a,r,i)}catch(u){return _o(u instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const c=this.ot(a);if(c){if(i.current&&oh(c.target)){const u=new ye(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,fn.newNoDocument(u,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let s=Be();this.He.forEach(((i,a)=>{let c=!0;a.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(s=s.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const r=new Vc(e,n,this.Ye,this.je,s);return this.je=nr(),this.Je=gl(),this.He=gl(),this.Ye=new wt(Fe),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tm),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gl(){return new wt(ye.comparator)}function nm(){return new wt(ye.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class IC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lh(t,e){return t.useProto3Json||Tc(e)?e:{value:e}}function Jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CC(t,e){return Jl(t,e.toTimestamp())}function Is(t){return tt(!!t,49232),Ie.fromTimestamp((function(n){const s=Fr(n);return new Et(s.seconds,s.nanos)})(t))}function of(t,e){return ch(t,e).canonicalString()}function ch(t,e){const n=(function(r){return new vt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uy(t){const e=vt.fromString(t);return tt(my(e),10190,{key:e.toString()}),e}function uh(t,e){return of(t.databaseId,e.path)}function Pu(t,e){const n=uy(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(fy(n))}function hy(t,e){return of(t.databaseId,e)}function SC(t){const e=uy(t);return e.length===4?vt.emptyPath():fy(e)}function hh(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fy(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sm(t,e,n){return{name:uh(t,e),fields:n.value.mapValue.fields}}function RC(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(tt(d===void 0||typeof d=="string",58123),nn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),nn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){const d=h.code===void 0?X.UNKNOWN:oy(h.code);return new fe(d,h.message||"")})(a);n=new ly(s,r,i,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Pu(t,s.document.name),i=Is(s.document.updateTime),a=s.document.createTime?Is(s.document.createTime):Ie.min(),c=new Cn({mapValue:{fields:s.document.fields}}),u=fn.newFoundDocument(r,i,a,c),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Sl(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Pu(t,s.document),i=s.readTime?Is(s.readTime):Ie.min(),a=fn.newNoDocument(r,i),c=s.removedTargetIds||[];n=new Sl([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Pu(t,s.document),i=s.removedTargetIds||[];n=new Sl([],i,r,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new _C(r,i),c=s.targetId;n=new ay(c,a)}}return n}function PC(t,e){let n;if(e instanceof $a)n={update:sm(t,e.key,e.value)};else if(e instanceof nf)n={delete:uh(t,e.key)};else if(e instanceof Gr)n={update:sm(t,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof pC))return be(16599,{Vt:e.type});n={verify:uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,a){const c=a.transform;if(c instanceof Xl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oa)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Na)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yl)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw be(20930,{transform:a.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:CC(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:be(27497)})(t,e.precondition)),n}function VC(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(r,i){let a=r.updateTime?Is(r.updateTime):Is(i);return a.isEqual(Ie.min())&&(a=Is(i)),new hC(a,r.transformResults||[])})(n,e)))):[]}function xC(t,e){return{documents:[hy(t,e.path)]}}function DC(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hy(t,r);const i=(function(h){if(h.length!==0)return py(Vs.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:to(y.field),direction:kC(y.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=lh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function OC(t){let e=SC(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){tt(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(g){const y=dy(g);return y instanceof Vs&&H_(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((y=>(function(P){return new Ql(no(P.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let y;return y=typeof g=="object"?g.value:g,Tc(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(g){const y=!!g.before,b=g.values||[];return new Kl(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,b=g.values||[];return new Kl(b,y)})(n.endAt)),Y0(e,r,a,i,c,"F",u,h)}function NC(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dy(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=no(n.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=no(n.unaryFilter.field);return Ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=no(n.unaryFilter.field);return Ut.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ut.create(no(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((s=>dy(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function kC(t){return wC[t]}function LC(t){return TC[t]}function MC(t){return AC[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return tn.fromServerFormat(t.fieldPath)}function py(t){return t instanceof Ut?(function(n){if(n.op==="=="){if(Hp(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(qp(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hp(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(qp(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:LC(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const s=n.getFilters().map((r=>py(r)));return s.length===1?s[0]:{compositeFilter:{op:MC(n.op),filters:s}}})(t):be(54877,{filter:t})}function $C(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function my(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Pr{constructor(e,n,s,r,i=Ie.min(),a=Ie.min(),c=nn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FC{constructor(e){this.yt=e}}function BC(t){const e=OC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ah(e,e.limit,"L"):e}class jC{constructor(){this.Cn=new UC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve($r.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class UC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new zt(vt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new zt(vt.comparator)).toArray()}}const rm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gy=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gy,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const im="LruGarbageCollector",qC=1048576;function om([t,e],[n,s]){const r=Fe(t,n);return r===0?Fe(e,s):r}class HC{constructor(e){this.Ir=e,this.buffer=new zt(om),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();om(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(im,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ce(im,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class WC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(wc.ce);const s=new HC(n);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(rm)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rm):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,c,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r)))).next((g=>(s=g,c=Date.now(),this.removeTargets(e,s,n)))).next((g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((g=>(h=Date.now(),Zi()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(c-a)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:g}))))}}function GC(t,e){return new WC(t,e)}class KC{constructor(){this.changes=new Ri((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XC{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&va(s.mutation,r,Dn.empty(),Et.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const r=bi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let a=ra();return i.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const s=bi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,s,r){let i=nr();const a=ya(),c=(function(){return ya()})();return n.forEach(((u,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Gr)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),va(d.mutation,h,d.mutation.getFieldMask(),Et.now())):a.set(h.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,d)=>a.set(h,d))),n.forEach(((h,d)=>c.set(h,new QC(d,a.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const s=ya();let r=new wt(((a,c)=>a-c)),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let d=s.get(u)||Dn.empty();d=c.applyToLocalView(h,d),s.set(u,d);const g=(r.get(c.batchId)||Be()).add(u);r=r.insert(c.batchId,g)}))})).next((()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,d=u.value,g=J_();d.forEach((y=>{if(!i.has(y)){const b=ry(n.get(y),s.get(y));b!==null&&g.set(y,b),i=i.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):Q.resolve(bi());let c=Pa,u=i;return a.next((h=>Q.forEach(h,((d,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{u=u.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,Be()))).next((d=>({batchId:c,changes:Y_(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let r=ra();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=ra();return this.indexManager.getCollectionParents(e,i).next((c=>Q.forEach(c,(u=>{const h=(function(g,y){return new Ic(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((d=>{d.forEach(((g,y)=>{a=a.insert(g,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((a=>{i.forEach(((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,fn.newInvalidDocument(d)))}));let c=ra();return a.forEach(((u,h)=>{const d=i.get(u);d!==void 0&&va(d.mutation,h,Dn.empty(),Et.now()),Sc(n,h)&&(c=c.insert(u,h))})),c}))}}class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Is(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:BC(r.bundledQuery),readTime:Is(r.readTime)}})(n)),Q.resolve()}}class JC{constructor(){this.overlays=new wt(ye.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=bi();return Q.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const r=bi(),i=n.length+1,a=new ye(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new wt(((h,d)=>h-d));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=bi(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const c=bi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,d)=>c.set(h,d))),!(c.size()>=r)););return Q.resolve(c)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new gC(n,s));let i=this.qr.get(n);i===void 0&&(i=Be(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}class ZC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class af{constructor(){this.Qr=new zt(Jt.$r),this.Ur=new zt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new vt([])),s=new Jt(n,e),r=new Jt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new vt([])),s=new Jt(n,e),r=new Jt(n,e+1);let i=Be();return this.Ur.forEachInRange([s,r],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class eS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Jt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mC(i,n,s,r);this.mutationQueue.push(a);for(const c of r)this.Zr=this.Zr.add(new Jt(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Qh:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),r=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],(a=>{const c=this.Xr(a.Yr);i.push(c)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Fe);return n.forEach((r=>{const i=new Jt(r,0),a=new Jt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(c=>{s=s.add(c.Yr)}))})),Q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ye.isDocumentKey(i)||(i=i.child(""));const a=new Jt(new ye(i),0);let c=new zt(Fe);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(c=c.add(u.Yr)),!0)}),a),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Q.forEach(n.mutations,(r=>{const i=new Jt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),r=this.Zr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tS{constructor(e){this.ri=e,this.docs=(function(){return new wt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():fn.newInvalidDocument(r))})),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=nr();const a=n.path,c=new ye(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||P0(R0(d),s)<=0||(r.has(d.key)||Sc(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,s,r){be(9500)}ii(e,n){return Q.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new nS(this)}getSize(e){return Q.resolve(this.size)}}class nS extends KC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class sS{constructor(e){this.persistence=e,this.si=new Ri((n=>Jh(n)),Zh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new af,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,r)=>n(r))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach(((a,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)})),Q.waitFor(i).next((()=>r))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((a=>{i.push(r.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class _y{constructor(e,n){this.ui={},this.overlays={},this.ci=new wc(0),this.li=!1,this.li=!0,this.hi=new ZC,this.referenceDelegate=e(this),this.Pi=new sS(this),this.indexManager=new jC,this.remoteDocumentCache=(function(r){return new tS(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FC(n),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new eS(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const r=new rS(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((i=>this.referenceDelegate.di(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class rS extends x0{constructor(e){super(),this.currentSequenceNumber=e}}class lf{constructor(e){this.persistence=e,this.Ri=new af,this.Vi=null}static mi(e){return new lf(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(s=>{const r=ye.fromPath(s);return this.gi(e,r).next((i=>{i||n.removeEntry(r,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zl{constructor(e,n){this.persistence=e,this.pi=new Ri((s=>N0(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=GC(this,n)}static mi(e,n){return new Zl(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((s,r)=>this.br(e,s,r).next((i=>i?Q.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(a=>this.br(e,a,n).next((c=>{c||(s++,i.removeEntry(a,Ie.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Al(e.data.value)),n}br(e,n,s){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return Q.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cf{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Be(),r=Be();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cf(e,n.fromCache,s,r)}}class iS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JA()?8:D0(XA())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,r,s).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new iS;return this.Ss(e,n,a).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,a,c.size)}))})).next((()=>i.result))}bs(e,n,s,r){return s.documentReadCount<this.fs?(Zi()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Zi()<=Ge.DEBUG&&ce("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Zi()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):Q.resolve())}ys(e,n){if(Kp(n))return Q.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=ah(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const a=Be(...i);return this.ps.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,s).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,a,u.readTime)?this.ys(e,ah(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,s,r){return Kp(n)||r.isEqual(Ie.min())?Q.resolve(null):this.ps.getDocuments(e,s).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?Q.resolve(null):(Zi()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eo(n)),this.vs(e,a,n,S0(r,Pa)).next((c=>c)))}))}Ds(e,n){let s=new zt(Q_(e));return n.forEach(((r,i)=>{Sc(e,i)&&(s=s.add(i))})),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Zi()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,$r.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const uf="LocalStore",aS=3e8;class lS{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new wt(Fe),this.xs=new Ri((i=>Jh(i)),Zh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cS(t,e,n,s){return new lS(t,e,n,s)}async function yy(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const a=[],c=[];let u=Be();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){c.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:c})))}))}))}function uS(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,d){const g=h.batch,y=g.keys();let b=Q.resolve();return y.forEach((P=>{b=b.next((()=>d.getEntry(u,P))).next((k=>{const L=h.docVersions.get(P);tt(L!==null,48541),k.version.compareTo(L)<0&&(g.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),d.addEntry(k)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(c){let u=Be();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function vy(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function hS(t,e){const n=Ve(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const c=[];e.targetChanges.forEach(((d,g)=>{const y=r.get(g);if(!y)return;c.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,g))));let b=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(nn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,s)),r=r.insert(g,b),(function(k,L,F){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=aS?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(y,b,d)&&c.push(n.Pi.updateTargetData(i,b))}));let u=nr(),h=Be();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),c.push(fS(i,a,e.documentUpdates).next((d=>{u=d.ks,h=d.qs}))),!s.isEqual(Ie.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));c.push(d)}return Q.waitFor(c).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=r,i)))}function fS(t,e,n){let s=Be(),r=Be();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let a=nr();return n.forEach(((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Ie.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):ce(uf,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:a,qs:r}}))}function dS(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qh),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pS(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.Pi.getTargetData(s,e).next((i=>i?(r=i,Q.resolve(r)):n.Pi.allocateTargetId(s).next((a=>(r=new Pr(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function fh(t,e,n){const s=Ve(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(a=>s.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!So(a))throw a;ce(uf,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function am(t,e,n){const s=Ve(t);let r=Ie.min(),i=Be();return s.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,h,d){const g=Ve(u),y=g.xs.get(d);return y!==void 0?Q.resolve(g.Ms.get(y)):g.Pi.getTargetData(h,d)})(s,a,As(e)).next((c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,c.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:Ie.min(),n?i:Be()))).next((c=>(mS(s,eC(e),c),{documents:c,Qs:i})))))}function mS(t,e,n){let s=t.Os.get(e)||Ie.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Os.set(e,s)}class lm{constructor(){this.activeTargetIds=oC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(){this.Mo=new lm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _S{Oo(e){}shutdown(){}}const cm="ConnectivityMonitor";class um{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(cm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(cm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _l=null;function dh(){return _l===null?_l=(function(){return 268435456+Math.round(2147483648*Math.random())})():_l++,"0x"+_l.toString(16)}const Vu="RestConnection",yS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Wl?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=dh(),c=this.zo(e,n.toUriEncodedString());ce(Vu,`Sending RPC '${e}' ${a}:`,c,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:h}=new URL(c),d=Hh(h);return this.Jo(e,c,u,s,d).then((g=>(ce(Vu,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw _o(Vu,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",s),g}))}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}zo(e,n){const s=yS[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ES{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class bS extends vS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=dh();return new Promise(((c,u)=>{const h=new T_;h.setWithCredentials(!0),h.listenOnce(A_.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tl.NO_ERROR:const g=h.getResponseJson();ce(cn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case Tl.TIMEOUT:ce(cn,`RPC '${e}' ${a} timed out`),u(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const y=h.getStatus();if(ce(cn,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const P=b?.error;if(P&&P.status&&P.message){const k=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(B)>=0?B:X.UNKNOWN})(P.status);u(new fe(k,P.message))}else u(new fe(X.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new fe(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ce(cn,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(r);ce(cn,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",d,s,15)}))}T_(e,n,s){const r=dh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=S_(),c=C_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");ce(cn,`Creating RPC '${e}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);this.I_(g);let y=!1,b=!1;const P=new ES({Yo:L=>{b?ce(cn,`Not sending because RPC '${e}' stream ${r} is closed:`,L):(y||(ce(cn,`Opening RPC '${e}' stream ${r} transport.`),g.open(),y=!0),ce(cn,`RPC '${e}' stream ${r} sending:`,L),g.send(L))},Zo:()=>g.close()}),k=(L,F,B)=>{L.listen(F,(H=>{try{B(H)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return k(g,sa.EventType.OPEN,(()=>{b||(ce(cn,`RPC '${e}' stream ${r} transport opened.`),P.o_())})),k(g,sa.EventType.CLOSE,(()=>{b||(b=!0,ce(cn,`RPC '${e}' stream ${r} transport closed`),P.a_(),this.E_(g))})),k(g,sa.EventType.ERROR,(L=>{b||(b=!0,_o(cn,`RPC '${e}' stream ${r} transport errored. Name:`,L.name,"Message:",L.message),P.a_(new fe(X.UNAVAILABLE,"The operation could not be completed")))})),k(g,sa.EventType.MESSAGE,(L=>{if(!b){const F=L.data[0];tt(!!F,16349);const B=F,H=B?.error||B[0]?.error;if(H){ce(cn,`RPC '${e}' stream ${r} received error:`,H);const ne=H.status;let me=(function(A){const w=Lt[A];if(w!==void 0)return oy(w)})(ne),ve=H.message;me===void 0&&(me=X.INTERNAL,ve="Unknown error status: "+ne+" with message "+H.message),b=!0,P.a_(new fe(me,ve)),g.close()}else ce(cn,`RPC '${e}' stream ${r} received:`,F),P.u_(F)}})),k(c,I_.STAT_EVENT,(L=>{L.stat===th.PROXY?ce(cn,`RPC '${e}' stream ${r} detected buffering proxy`):L.stat===th.NOPROXY&&ce(cn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xu(){return typeof document<"u"?document:null}function xc(t){return new IC(t,!0)}class Ey{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hm="PersistentStream";class by{constructor(e,n,s,r,i,a,c,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ey(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new fe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(hm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(hm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wS extends by{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RC(this.serializer,e),s=(function(i){if(!("targetChange"in i))return Ie.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ie.min():a.readTime?Is(a.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=hh(this.serializer),n.addTarget=(function(i,a){let c;const u=a.target;if(c=oh(u)?{documents:xC(i,u)}:{query:DC(i,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=cy(i,a.resumeToken);const h=lh(i,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(Ie.min())>0){c.readTime=Jl(i,a.snapshotVersion.toTimestamp());const h=lh(i,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const s=NC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=hh(this.serializer),n.removeTarget=e,this.q_(n)}}class TS extends by{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VC(e.writeResults,e.commitTime),s=Is(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=hh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>PC(this.serializer,s)))};this.q_(n)}}class AS{}class IS extends AS{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,ch(n,s),r,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(X.UNKNOWN,i.toString())}))}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Ho(e,ch(n,s),r,a,c,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(X.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ci="RemoteStore";class SS{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{s.enqueueAndForget((async()=>{Pi(this)&&(ce(Ci,"Restarting streams for network reachability change."),await(async function(u){const h=Ve(u);h.Ea.add(4),await Ba(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Dc(h)})(this))}))})),this.Ra=new CS(s,r)}}async function Dc(t){if(Pi(t))for(const e of t.da)await e(!0)}async function Ba(t){for(const e of t.da)await e(!1)}function wy(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pf(n)?df(n):Ro(n).O_()&&ff(n,e))}function hf(t,e){const n=Ve(t),s=Ro(n);n.Ia.delete(e),s.O_()&&Ty(n,e),n.Ia.size===0&&(s.O_()?s.L_():Pi(n)&&n.Ra.set("Unknown"))}function ff(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(t).Y_(e)}function Ty(t,e){t.Va.Ue(e),Ro(t).Z_(e)}function df(t){t.Va=new bC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ro(t).start(),t.Ra.ua()}function pf(t){return Pi(t)&&!Ro(t).x_()&&t.Ia.size>0}function Pi(t){return Ve(t).Ea.size===0}function Ay(t){t.Va=void 0}async function RS(t){t.Ra.set("Online")}async function PS(t){t.Ia.forEach(((e,n)=>{ff(t,e)}))}async function VS(t,e){Ay(t),pf(t)?(t.Ra.ha(e),df(t)):t.Ra.set("Unknown")}async function xS(t,e,n){if(t.Ra.set("Online"),e instanceof ly&&e.state===2&&e.cause)try{await(async function(r,i){const a=i.cause;for(const c of i.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,a),r.Ia.delete(c),r.Va.removeTarget(c))})(t,e)}catch(s){ce(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ec(t,s)}else if(e instanceof Sl?t.Va.Ze(e):e instanceof ay?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await vy(t.localStore);n.compareTo(s)>=0&&await(function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),Ty(i,u);const g=new Pr(d.target,u,h,d.sequenceNumber);ff(i,g)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(s){ce(Ci,"Failed to raise snapshot:",s),await ec(t,s)}}async function ec(t,e,n){if(!So(e))throw e;t.Ea.add(1),await Ba(t),t.Ra.set("Offline"),n||(n=()=>vy(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(Ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dc(t)}))}function Iy(t,e){return e().catch((n=>ec(t,n,e)))}async function Oc(t){const e=Ve(t),n=Ur(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qh;for(;DS(e);)try{const r=await dS(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,OS(e,r)}catch(r){await ec(e,r)}Cy(e)&&Sy(e)}function DS(t){return Pi(t)&&t.Ta.length<10}function OS(t,e){t.Ta.push(e);const n=Ur(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Cy(t){return Pi(t)&&!Ur(t).x_()&&t.Ta.length>0}function Sy(t){Ur(t).start()}async function NS(t){Ur(t).ra()}async function kS(t){const e=Ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function LS(t,e,n){const s=t.Ta.shift(),r=sf.from(s,e,n);await Iy(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Oc(t)}async function MS(t,e){e&&Ur(t).X_&&await(async function(s,r){if((function(a){return yC(a)&&a!==X.ABORTED})(r.code)){const i=s.Ta.shift();Ur(s).B_(),await Iy(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await Oc(s)}})(t,e),Cy(t)&&Sy(t)}async function fm(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ce(Ci,"RemoteStore received new credentials");const s=Pi(n);n.Ea.add(3),await Ba(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dc(n)}async function $S(t,e){const n=Ve(t);e?(n.Ea.delete(2),await Dc(n)):e||(n.Ea.add(2),await Ba(n),n.Ra.set("Unknown"))}function Ro(t){return t.ma||(t.ma=(function(n,s,r){const i=Ve(n);return i.sa(),new wS(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:RS.bind(null,t),t_:PS.bind(null,t),r_:VS.bind(null,t),H_:xS.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pf(t)?df(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ay(t))}))),t.ma}function Ur(t){return t.fa||(t.fa=(function(n,s,r){const i=Ve(n);return i.sa(),new TS(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NS.bind(null,t),r_:MS.bind(null,t),ta:kS.bind(null,t),na:LS.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Oc(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(Ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class mf{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,c=new mf(e,n,a,r,i);return c.start(s),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gf(t,e){if(er("AsyncQueue",`${e}: ${t}`),So(t))return new fe(X.UNAVAILABLE,`${e}: ${t}`);throw t}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=ra(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class dm{constructor(){this.ga=new wt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wo{constructor(e,n,s,r,i,a,c,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new wo(e,n,uo.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}class FS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BS{constructor(){this.queries=pm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Ve(n),i=r.queries;r.queries=pm(),i.forEach(((a,c)=>{for(const u of c.Sa)u.onError(s)}))})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function pm(){return new Ri((t=>K_(t)),Cc)}async function Ry(t,e){const n=Ve(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new FS,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const c=gf(a,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&_f(n)}async function Py(t,e){const n=Ve(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jS(t,e){const n=Ve(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const c of a.Sa)c.Fa(r)&&(s=!0);a.wa=r}}s&&_f(n)}function US(t,e,n){const s=Ve(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function _f(t){t.Ca.forEach((e=>{e.next()}))}var ph,mm;(mm=ph||(ph={})).Ma="default",mm.Cache="cache";class Vy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ph.Cache}}class xy{constructor(e){this.key=e}}class Dy{constructor(e){this.key=e}}class qS{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Q_(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dm,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,g)=>{const y=r.get(d),b=Sc(this.query,g)?g:null,P=!!y&&this.mutatedKeys.has(y.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let L=!1;y&&b?y.data.isEqual(b.data)?P!==k&&(s.track({type:3,doc:b}),L=!0):this.su(y,b)||(s.track({type:2,doc:b}),L=!0,(u&&this.eu(b,u)>0||h&&this.eu(b,h)<0)&&(c=!0)):!y&&b?(s.track({type:0,doc:b}),L=!0):y&&!b&&(s.track({type:1,doc:y}),L=!0,(u||h)&&(c=!0)),L&&(b?(a=a.add(b),i=k?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,g)=>(function(b,P){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:L})}};return k(b)-k(P)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(s),r=r??!1;const c=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new wo(this.query,e.tu,i,a,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Dy(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new xy(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yf="SyncEngine";class HS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zS{constructor(e){this.key=e,this.hu=!1}}class WS{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ri((c=>K_(c)),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ye.comparator),this.Au=new Map,this.Ru=new af,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GS(t,e,n=!0){const s=$y(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await Oy(s,e,n,!0),r}async function KS(t,e){const n=$y(t);await Oy(n,e,!0,!1)}async function Oy(t,e,n,s){const r=await pS(t.localStore,As(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return s&&(c=await QS(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&wy(t.remoteStore,r),c}async function QS(t,e,n,s,r){t.pu=(g,y,b)=>(async function(k,L,F,B){let H=L.view.ru(F);H.Cs&&(H=await am(k.localStore,L.query,!1).then((({documents:V})=>L.view.ru(V,H))));const ne=B&&B.targetChanges.get(L.targetId),me=B&&B.targetMismatches.get(L.targetId)!=null,ve=L.view.applyChanges(H,k.isPrimaryClient,ne,me);return _m(k,L.targetId,ve.au),ve.snapshot})(t,g,y,b);const i=await am(t.localStore,e,!0),a=new qS(e,i.Qs),c=a.ru(i.documents),u=Fa.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=a.applyChanges(c,t.isPrimaryClient,u);_m(t,n,h.au);const d=new HS(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function XS(t,e,n){const s=Ve(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((a=>!Cc(a,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await fh(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&hf(s.remoteStore,r.targetId),mh(s,r.targetId)})).catch(Co)):(mh(s,r.targetId),await fh(s.localStore,r.targetId,!0))}async function YS(t,e){const n=Ve(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hf(n.remoteStore,s.targetId))}async function JS(t,e,n){const s=iR(t);try{const r=await(function(a,c){const u=Ve(a),h=Et.now(),d=c.reduce(((b,P)=>b.add(P.key)),Be());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let P=nr(),k=Be();return u.Ns.getEntries(b,d).next((L=>{P=L,P.forEach(((F,B)=>{B.isValidDocument()||(k=k.add(F))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,P))).next((L=>{g=L;const F=[];for(const B of c){const H=dC(B,g.get(B.key).overlayedDocument);H!=null&&F.push(new Gr(B.key,H,j_(H.value.mapValue),ts.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,F,c)})).next((L=>{y=L;const F=L.applyToLocalDocumentSet(g,k);return u.documentOverlayCache.saveOverlays(b,L.batchId,F)}))})).then((()=>({batchId:y.batchId,changes:Y_(g)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(a,c,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new wt(Fe)),h=h.insert(c,u),a.Vu[a.currentUser.toKey()]=h})(s,r.batchId,n),await ja(s,r.changes),await Oc(s.remoteStore)}catch(r){const i=gf(r,"Failed to persist write");n.reject(i)}}async function Ny(t,e){const n=Ve(t);try{const s=await hS(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const a=n.Au.get(i);a&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?tt(a.hu,14607):r.removedDocuments.size>0&&(tt(a.hu,42227),a.hu=!1))})),await ja(n,s,e)}catch(s){await Co(s)}}function gm(t,e,n){const s=Ve(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,a)=>{const c=a.view.va(e);c.snapshot&&r.push(c.snapshot)})),(function(a,c){const u=Ve(a);u.onlineState=c;let h=!1;u.queries.forEach(((d,g)=>{for(const y of g.Sa)y.va(c)&&(h=!0)})),h&&_f(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZS(t,e,n){const s=Ve(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new wt(ye.comparator);a=a.insert(i,fn.newNoDocument(i,Ie.min()));const c=Be().add(i),u=new Vc(Ie.min(),new Map,new wt(Fe),a,c);await Ny(s,u),s.du=s.du.remove(i),s.Au.delete(e),vf(s)}else await fh(s.localStore,e,!1).then((()=>mh(s,e,n))).catch(Co)}async function eR(t,e){const n=Ve(t),s=e.batch.batchId;try{const r=await uS(n.localStore,e);Ly(n,s,null),ky(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ja(n,r)}catch(r){await Co(r)}}async function tR(t,e,n){const s=Ve(t);try{const r=await(function(a,c){const u=Ve(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(tt(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(s.localStore,e);Ly(s,e,n),ky(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ja(s,r)}catch(r){await Co(r)}}function ky(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ly(t,e,n){const s=Ve(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function mh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||My(t,s)}))}function My(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),vf(t))}function _m(t,e,n){for(const s of n)s instanceof xy?(t.Ru.addReference(s.key,e),nR(t,s)):s instanceof Dy?(ce(yf,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||My(t,s.key)):be(19791,{wu:s})}function nR(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ce(yf,"New document in limbo: "+n),t.Eu.add(s),vf(t))}function vf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(vt.fromString(e)),s=t.fu.next();t.Au.set(s,new zS(n)),t.du=t.du.insert(n,s),wy(t.remoteStore,new Pr(As(ef(n.path)),s,"TargetPurposeLimboResolution",wc.ce))}}async function ja(t,e,n){const s=Ve(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach(((c,u)=>{a.push(s.pu(u,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(h){r.push(h);const d=cf.As(u.targetId,h);i.push(d)}})))})),await Promise.all(a),s.Pu.H_(r),await(async function(u,h){const d=Ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Q.forEach(h,(y=>Q.forEach(y.Es,(b=>d.persistence.referenceDelegate.addReference(g,y.targetId,b))).next((()=>Q.forEach(y.ds,(b=>d.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))))))}catch(g){if(!So(g))throw g;ce(uf,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=d.Ms.get(y),P=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(P);d.Ms=d.Ms.insert(y,k)}}})(s.localStore,i))}async function sR(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ce(yf,"User change. New user:",e.toKey());const s=await yy(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((c=>{c.forEach((u=>{u.reject(new fe(X.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(n,s.Ls)}}function rR(t,e){const n=Ve(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let r=Be();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const c=n.Tu.get(a);r=r.unionWith(c.view.nu)}return r}}function $y(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ny.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,e),e.Pu.H_=jS.bind(null,e.eventManager),e.Pu.yu=US.bind(null,e.eventManager),e}function iR(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cS(this.persistence,new oS,e.initialUser,this.serializer)}Cu(e){return new _y(lf.mi,this.serializer)}Du(e){return new gS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class oR extends tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Zl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new _y((s=>Zl.mi(s,n)),this.serializer)}}class gh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sR.bind(null,this.syncEngine),await $S(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BS})()}createDatastore(e){const n=xc(e.databaseInfo.databaseId),s=(function(i){return new bS(i)})(e.databaseInfo);return(function(i,a,c,u){return new IS(i,a,c,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,a,c){return new SS(s,r,i,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>gm(this.syncEngine,n,0)),(function(){return um.v()?new um:new _S})())}createSyncEngine(e,n){return(function(r,i,a,c,u,h,d){const g=new WS(r,i,a,c,u,h);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ve(n);ce(Ci,"RemoteStore shutting down."),s.Ea.add(5),await Ba(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gh.provider={build:()=>new gh};class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class aR{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=Gh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async a=>{ce(qr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(s,(a=>(ce(qr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gf(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Du(t,e){t.asyncQueue.verifyOperationInProgress(),ce(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await yy(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ym(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lR(t);ce(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>fm(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>fm(e.remoteStore,r))),t._onlineComponents=e}async function lR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(qr,"Using user provided OfflineComponentProvider");try{await Du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===X.FAILED_PRECONDITION||r.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Du(t,new tc)}}else ce(qr,"Using default OfflineComponentProvider"),await Du(t,new oR(void 0));return t._offlineComponents}async function By(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(qr,"Using user provided OnlineComponentProvider"),await ym(t,t._uninitializedComponentsProvider._online)):(ce(qr,"Using default OnlineComponentProvider"),await ym(t,new gh))),t._onlineComponents}function cR(t){return By(t).then((e=>e.syncEngine))}async function jy(t){const e=await By(t),n=e.eventManager;return n.onListen=GS.bind(null,e.syncEngine),n.onUnlisten=XS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YS.bind(null,e.syncEngine),n}function uR(t,e,n={}){const s=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const d=new Fy({next:y=>{d.Nu(),a.enqueueAndForget((()=>Py(i,g)));const b=y.docs.has(c);!b&&y.fromCache?h.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&u&&u.source==="server"?h.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Vy(ef(c.path),d,{includeMetadataChanges:!0,qa:!0});return Ry(i,g)})(await jy(t),t.asyncQueue,e,n,s))),s.promise}function hR(t,e,n={}){const s=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const d=new Fy({next:y=>{d.Nu(),a.enqueueAndForget((()=>Py(i,g))),y.fromCache&&u.source==="server"?h.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Vy(c,d,{includeMetadataChanges:!0,qa:!0});return Ry(i,g)})(await jy(t),t.asyncQueue,e,n,s))),s.promise}function Uy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const vm=new Map;const qy="firestore.googleapis.com",Em=!0;class bm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qy,this.ssl=Em}else this.host=e.host,this.ssl=e.ssl??Em;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qC)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uy(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new g0;switch(s.type){case"firstParty":return new E0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vm.get(n);s&&(ce("ComponentProvider","Removing Datastore"),vm.delete(n),s.terminate())})(this),Promise.resolve()}}function fR(t,e,n,s={}){t=tr(t,Nc);const r=Hh(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;r&&(zA(`https://${c}`),QA("Firestore",!0)),i.host!==qy&&i.host!==c&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:r,emulatorOptions:s};if(!Ul(u,a)&&(t._setSettings(u),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=un.MOCK_USER;else{h=WA(s.mockUserToken,t._app?.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new un(g)}t._authCredentials=new _0(new P_(h,d))}}class kc{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kc(this.firestore,e,this._query)}}class qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ma(n,qt._jsonSchema))return new qt(e,s||null,new ye(vt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Mt("string",qt._jsonSchemaVersion),referencePath:Mt("string")};class kr extends kc{constructor(e,n,s){super(e,n,ef(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ye(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function _h(t,e,...n){if(t=Mr(t),V_("collection","path",e),t instanceof Nc){const s=vt.fromString(e,...n);return kp(s),new kr(t,null,s)}{if(!(t instanceof qt||t instanceof kr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return kp(s),new kr(t.firestore,null,s)}}function nc(t,e,...n){if(t=Mr(t),arguments.length===1&&(e=Gh.newId()),V_("doc","path",e),t instanceof Nc){const s=vt.fromString(e,...n);return Np(s),new qt(t,null,new ye(s))}{if(!(t instanceof qt||t instanceof kr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vt.fromString(e,...n));return Np(s),new qt(t.firestore,t instanceof kr?t.converter:null,new ye(s))}}const wm="AsyncQueue";class Tm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ey(this,"async_queue_retry"),this._c=()=>{const s=xu();s&&ce(wm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;ce(wm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",Am(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=mf.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&be(47125,{Pc:Am(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Am(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends Nc{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Tm,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tm(e),this._firestoreClient=void 0,await e}}}function dR(t,e){const n=typeof t=="object"?t:i0(),s=typeof t=="string"?t:Wl,r=e0(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=qA("firestore");i&&fR(r,...i)}return r}function Ef(t){if(t._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pR(t),t._firestoreClient}function pR(t){const e=t._freezeSettings(),n=(function(r,i,a,c){return new M0(r,i,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Uy(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aR(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(nn.fromBase64String(e))}catch(n){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ma(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Mt("string",qn._jsonSchemaVersion),bytes:Mt("string")};class Lc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bf{constructor(e){this._methodName=e}}class Cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(e){if(Ma(e,Cs._jsonSchema))return new Cs(e.latitude,e.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:Mt("string",Cs._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ma(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new fe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Mt("string",Ss._jsonSchemaVersion),vectorValues:Mt("object")};const mR=/^__.*__$/;class gR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $a(e,this.data,n,this.fieldTransforms)}}class Hy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class wf{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zy(this.Ac)&&mR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _R{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xc(e)}Cc(e,n,s,r=!1){return new wf({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wy(t){const e=t._freezeSettings(),n=xc(t._databaseId);return new _R(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yR(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);Tf("Data must be an object, but it was:",a,s);const c=Gy(s,a);let u,h;if(i.merge)u=new Dn(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const g of i.mergeFields){const y=yh(e,g,n);if(!a.contains(y))throw new fe(X.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Qy(d,y)||d.push(y)}u=new Dn(d),h=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=a.fieldTransforms;return new gR(new Cn(c),u,h)}class Mc extends bf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mc}}function vR(t,e,n,s){const r=t.Cc(1,e,n);Tf("Data must be an object, but it was:",r,s);const i=[],a=Cn.empty();Wr(s,((u,h)=>{const d=Af(e,u,n);h=Mr(h);const g=r.yc(d);if(h instanceof Mc)i.push(d);else{const y=$c(h,g);y!=null&&(i.push(d),a.set(d,y))}}));const c=new Dn(i);return new Hy(a,c,r.fieldTransforms)}function ER(t,e,n,s,r,i){const a=t.Cc(1,e,n),c=[yh(e,s,n)],u=[r];if(i.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(yh(e,i[y])),u.push(i[y+1]);const h=[],d=Cn.empty();for(let y=c.length-1;y>=0;--y)if(!Qy(h,c[y])){const b=c[y];let P=u[y];P=Mr(P);const k=a.yc(b);if(P instanceof Mc)h.push(b);else{const L=$c(P,k);L!=null&&(h.push(b),d.set(b,L))}}const g=new Dn(h);return new Hy(d,g,a.fieldTransforms)}function $c(t,e){if(Ky(t=Mr(t)))return Tf("Unsupported field value:",e,t),Gy(t,e);if(t instanceof bf)return(function(s,r){if(!zy(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const i=[];let a=0;for(const c of s){let u=$c(c,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Mr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aC(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Et.fromDate(s);return{timestampValue:Jl(r.serializer,i)}}if(s instanceof Et){const i=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jl(r.serializer,i)}}if(s instanceof Cs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:cy(r.serializer,s._byteString)};if(s instanceof qt){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:of(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Ss)return(function(a,c){return{mapValue:{fields:{[F_]:{stringValue:B_},[Gl]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return tf(c.serializer,h)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${Kh(s)}`)})(t,e)}function Gy(t,e){const n={};return O_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((s,r)=>{const i=$c(r,e.mc(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function Ky(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Cs||t instanceof qn||t instanceof qt||t instanceof bf||t instanceof Ss)}function Tf(t,e,n){if(!Ky(n)||!x_(n)){const s=Kh(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function yh(t,e,n){if((e=Mr(e))instanceof Lc)return e._internalPath;if(typeof e=="string")return Af(t,e);throw sc("Field path arguments must be of type string or ",t,!1,void 0,n)}const bR=new RegExp("[~\\*/\\[\\]]");function Af(t,e,n){if(e.search(bR)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lc(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sc(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${s}`),a&&(u+=` in document ${r}`),u+=")"),new fe(X.INVALID_ARGUMENT,c+t+u)}function Qy(t,e){return t.some((n=>n.isEqual(e)))}class Xy{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wR extends Xy{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?Af(t,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}function TR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AR{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wr(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[Gl].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new Cs(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ac(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);tt(my(s),9688,{name:e});const r=new xa(s.get(1),s.get(3)),i=new ye(s.popFirst(5));return r.isEqual(n)||er(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function IR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends Xy{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Mt("string",Ti._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Rl extends Ti{data(e={}){return super.data(e)}}class ho{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new oa(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rl(this._firestore,this._userDataWriter,s.key,s,new oa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((c=>{const u=new Rl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new oa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new Rl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new oa(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),d=a.indexOf(c.doc.key)),{type:CR(c.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function SR(t){t=tr(t,qt);const e=tr(t.firestore,Po);return uR(Ef(e),t._key).then((n=>xR(e,t,n)))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Mt("string",ho._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Jy extends AR{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Zy(t){t=tr(t,kc);const e=tr(t.firestore,Po),n=Ef(e),s=new Jy(e);return TR(t._query),hR(n,t._query).then((r=>new ho(e,s,t,r)))}function RR(t,e,n,...s){t=tr(t,qt);const r=tr(t.firestore,Po),i=Wy(r);let a;return a=typeof(e=Mr(e))=="string"||e instanceof Lc?ER(i,"updateDoc",t._key,e,n,s):vR(i,"updateDoc",t._key,e),If(r,[a.toMutation(t._key,ts.exists(!0))])}function PR(t){return If(tr(t.firestore,Po),[new nf(t._key,ts.none())])}function VR(t,e){const n=tr(t.firestore,Po),s=nc(t),r=IR(t.converter,e);return If(n,[yR(Wy(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,ts.exists(!1))]).then((()=>s))}function If(t,e){return(function(s,r){const i=new Xs;return s.asyncQueue.enqueueAndForget((async()=>JS(await cR(s),r,i))),i.promise})(Ef(t),e)}function xR(t,e,n){const s=n.docs.get(e._key),r=new Jy(t);return new Ti(t,r,e._key,s,new oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Io=r})(r0),Hl(new Sa("firestore",((s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),c=new Po(new y0(s.getProvider("auth-internal")),new b0(a,s.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(h.options.projectId,d)})(a,r),a);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),co(Vp,xp,e),co(Vp,xp,"esm2020")})();var DR="firebase",OR="12.7.0";co(DR,OR,"app");const NR={apiKey:"AIzaSyANkciF5AHFcSljBrjpHgmZ2b85qCIGr40",authDomain:"subscription-manager-52969.firebaseapp.com",projectId:"subscription-manager-52969",storageBucket:"subscription-manager-52969.firebasestorage.app",messagingSenderId:"409213181427",appId:"1:409213181427:web:53f81125e11fc1122c8686"},kR=v_(NR),so=dR(kR),LR={class:"row"},MR={class:"card h-100 product-card"},$R=["src"],FR={class:"card-body"},BR={class:"card-text text-muted"},jR={class:"price-badge"},UR={__name:"ProductsView",setup(t){const e=_t([]);return To(async()=>{const n=await Zy(_h(so,"products"));e.value=n.docs.map(s=>({id:s.id,...s.data()}))}),(n,s)=>{const r=mc("router-link");return ht(),yt(jt,null,[s[2]||(s[2]=Z("h2",null,"Products",-1)),Z("div",LR,[(ht(!0),yt(jt,null,gc(e.value,i=>(ht(),yt("div",{class:"col-md-4 mb-3",key:i.id},[Z("div",MR,[Z("img",{src:i.image,class:"card-img-top"},null,8,$R),Z("div",FR,[Z("h5",null,bt(n.$uppercase(i.name)),1),Z("p",BR,[Z("small",null,bt(n.$lowercase(i.category)),1)]),Z("p",jR,""+bt(i.price),1),Ke(r,{to:"/products/"+i.id,class:"btn btn-primary btn-sm btn-animated"},{default:Zn(()=>[...s[1]||(s[1]=[bs(" View Details ",-1)])]),_:1},8,["to"])])])]))),128))]),Z("button",{class:"btn btn-secondary mt-4 btn-animated",onClick:s[0]||(s[0]=i=>n.$router.back())},"Back")],64)}}},qR=rr(UR,[["__scopeId","data-v-d5d70340"]]),HR={key:0,class:"product-detail-container"},zR={class:"detail-grid"},WR={class:"detail-image"},GR=["src"],KR={class:"detail-info"},QR={class:"category-badge"},XR={class:"description"},YR={class:"price-stock-info"},JR={class:"price-large"},ZR={class:"stock-info"},e1={class:"stock-badge"},t1={__name:"ProductsDetailsView",setup(t){const e=_t(null),n=SA();To(async()=>{const r=await SR(nc(so,"products",n.params.id));e.value=r.data()});const s=()=>{alert(`${e.value.name} added to cart!`)};return(r,i)=>e.value?(ht(),yt("div",HR,[Z("h2",null,bt(r.$uppercase(e.value.name)),1),Z("div",zR,[Z("div",WR,[Z("img",{src:e.value.image,class:"img-fluid detail-img"},null,8,GR)]),Z("div",KR,[Z("p",QR,bt(r.$uppercase(e.value.category)),1),Z("p",XR,bt(r.$trimSpaces(e.value.description)),1),Z("div",YR,[Z("p",JR,""+bt(e.value.price),1),Z("p",ZR,[i[1]||(i[1]=Z("strong",null,"In Stock:",-1)),i[2]||(i[2]=bs()),Z("span",e1,bt(e.value.stock),1)])]),Z("button",{class:"btn btn-success btn-lg btn-animated mb-3",onClick:s}," Add to Cart ")])]),Z("button",{class:"btn btn-secondary btn-animated",onClick:i[0]||(i[0]=a=>r.$router.back())},"Back")])):$l("",!0)}},n1=rr(t1,[["__scopeId","data-v-afb8c982"]]);function Im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Im(Object(n),!0).forEach(function(s){s1(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function s1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(t).reduce((n,s)=>(e.includes(s)||(n[s]=Ce(t[s])),n),{})}function rc(t){return typeof t=="function"}function r1(t){return xr(t)||Rs(t)}function ev(t,e,n){let s=t;const r=e.split(".");for(let i=0;i<r.length;i++){if(!s[r[i]])return n;s=s[r[i]]}return s}function Ou(t,e,n){return $e(()=>t.some(s=>ev(e,s,{[n]:!1})[n]))}function Sm(t,e,n){return $e(()=>t.reduce((s,r)=>{const i=ev(e,r,{[n]:!1})[n]||[];return s.concat(i)},[]))}function tv(t,e,n,s){return t.call(s,Ce(e),Ce(n),s)}function nv(t){return t.$valid!==void 0?!t.$valid:!t}function i1(t,e,n,s,r,i,a){let{$lazy:c,$rewardEarly:u}=r,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],d=arguments.length>8?arguments[8]:void 0,g=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0;const b=_t(!!s.value),P=_t(0);n.value=!1;const k=Qs([e,s].concat(h,y),()=>{if(c&&!s.value||u&&!g.value&&!n.value)return;let L;try{L=tv(t,e,d,a)}catch(F){L=Promise.reject(F)}P.value++,n.value=!!P.value,b.value=!1,Promise.resolve(L).then(F=>{P.value--,n.value=!!P.value,i.value=F,b.value=nv(F)}).catch(F=>{P.value--,n.value=!!P.value,i.value=F,b.value=!0})},{immediate:!0,deep:typeof e=="object"});return{$invalid:b,$unwatch:k}}function o1(t,e,n,s,r,i,a,c){let{$lazy:u,$rewardEarly:h}=s;const d=()=>({}),g=$e(()=>{if(u&&!n.value||h&&!c.value)return!1;let y=!0;try{const b=tv(t,e,a,i);r.value=b,y=nv(b)}catch(b){r.value=b}return y});return{$unwatch:d,$invalid:g}}function a1(t,e,n,s,r,i,a,c,u,h,d){const g=_t(!1),y=t.$params||{},b=_t(null);let P,k;t.$async?{$invalid:P,$unwatch:k}=i1(t.$validator,e,g,n,s,b,r,t.$watchTargets,u,h,d):{$invalid:P,$unwatch:k}=o1(t.$validator,e,n,s,b,r,u,h);const L=t.$message;return{$message:rc(L)?$e(()=>L(Cm({$pending:g,$invalid:P,$params:Cm(y),$model:e,$response:b,$validator:i,$propertyPath:c,$property:a}))):L||"",$params:y,$pending:g,$invalid:P,$response:b,$unwatch:k}}function l1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Ce(t),n=Object.keys(e),s={},r={},i={};let a=null;return n.forEach(c=>{const u=e[c];switch(!0){case rc(u.$validator):s[c]=u;break;case rc(u):s[c]={$validator:u};break;case c==="$validationGroups":a=u;break;case c.startsWith("$"):i[c]=u;break;default:r[c]=u}}),{rules:s,nestedValidators:r,config:i,validationGroups:a}}const c1="__root";function u1(t,e,n,s,r,i,a,c,u){const h=Object.keys(t),d=s.get(r,t),g=_t(!1),y=_t(!1),b=_t(0);if(d){if(!d.$partial)return d;d.$unwatch(),g.value=d.$dirty.value}const P={$dirty:g,$path:r,$touch:()=>{g.value||(g.value=!0)},$reset:()=>{g.value&&(g.value=!1)},$commit:()=>{}};return h.length?(h.forEach(k=>{P[k]=a1(t[k],e,P.$dirty,i,a,k,n,r,u,y,b)}),P.$externalResults=$e(()=>c.value?[].concat(c.value).map((k,L)=>({$propertyPath:r,$property:n,$validator:"$externalResults",$uid:`${r}-externalResult-${L}`,$message:k,$params:{},$response:null,$pending:!1})):[]),P.$invalid=$e(()=>{const k=h.some(L=>Ce(P[L].$invalid));return y.value=k,!!P.$externalResults.value.length||k}),P.$pending=$e(()=>h.some(k=>Ce(P[k].$pending))),P.$error=$e(()=>P.$dirty.value?P.$pending.value||P.$invalid.value:!1),P.$silentErrors=$e(()=>h.filter(k=>Ce(P[k].$invalid)).map(k=>{const L=P[k];return zr({$propertyPath:r,$property:n,$validator:k,$uid:`${r}-${k}`,$message:L.$message,$params:L.$params,$response:L.$response,$pending:L.$pending})}).concat(P.$externalResults.value)),P.$errors=$e(()=>P.$dirty.value?P.$silentErrors.value:[]),P.$unwatch=()=>h.forEach(k=>{P[k].$unwatch()}),P.$commit=()=>{y.value=!0,b.value=Date.now()},s.set(r,t,P),P):(d&&s.set(r,t,P),P)}function h1(t,e,n,s,r,i,a){const c=Object.keys(t);return c.length?c.reduce((u,h)=>(u[h]=vh({validations:t[h],state:e,key:h,parentKey:n,resultsCache:s,globalConfig:r,instance:i,externalResults:a}),u),{}):{}}function f1(t,e,n){const s=$e(()=>[e,n].filter(P=>P).reduce((P,k)=>P.concat(Object.values(Ce(k))),[])),r=$e({get(){return t.$dirty.value||(s.value.length?s.value.every(P=>P.$dirty):!1)},set(P){t.$dirty.value=P}}),i=$e(()=>{const P=Ce(t.$silentErrors)||[],k=s.value.filter(L=>(Ce(L).$silentErrors||[]).length).reduce((L,F)=>L.concat(...F.$silentErrors),[]);return P.concat(k)}),a=$e(()=>{const P=Ce(t.$errors)||[],k=s.value.filter(L=>(Ce(L).$errors||[]).length).reduce((L,F)=>L.concat(...F.$errors),[]);return P.concat(k)}),c=$e(()=>s.value.some(P=>P.$invalid)||Ce(t.$invalid)||!1),u=$e(()=>s.value.some(P=>Ce(P.$pending))||Ce(t.$pending)||!1),h=$e(()=>s.value.some(P=>P.$dirty)||s.value.some(P=>P.$anyDirty)||r.value),d=$e(()=>r.value?u.value||c.value:!1),g=()=>{t.$touch(),s.value.forEach(P=>{P.$touch()})},y=()=>{t.$commit(),s.value.forEach(P=>{P.$commit()})},b=()=>{t.$reset(),s.value.forEach(P=>{P.$reset()})};return s.value.length&&s.value.every(P=>P.$dirty)&&g(),{$dirty:r,$errors:a,$invalid:c,$anyDirty:h,$error:d,$pending:u,$touch:g,$reset:b,$silentErrors:i,$commit:y}}function vh(t){let{validations:e,state:n,key:s,parentKey:r,childResults:i,resultsCache:a,globalConfig:c={},instance:u,externalResults:h}=t;const d=r?`${r}.${s}`:s,{rules:g,nestedValidators:y,config:b,validationGroups:P}=l1(e),k=Rr(Rr({},c),b),L=s?$e(()=>{const Ue=Ce(n);return Ue?Ce(Ue[s]):void 0}):n,F=Rr({},Ce(h)||{}),B=$e(()=>{const Ue=Ce(h);return s?Ue?Ce(Ue[s]):void 0:Ue}),H=u1(g,L,s,a,d,k,u,B,n),ne=h1(y,L,d,a,k,u,B),me={};P&&Object.entries(P).forEach(Ue=>{let[W,Je]=Ue;me[W]={$invalid:Ou(Je,ne,"$invalid"),$error:Ou(Je,ne,"$error"),$pending:Ou(Je,ne,"$pending"),$errors:Sm(Je,ne,"$errors"),$silentErrors:Sm(Je,ne,"$silentErrors")}});const{$dirty:ve,$errors:V,$invalid:A,$anyDirty:w,$error:x,$pending:R,$touch:C,$reset:T,$silentErrors:Le,$commit:lt}=f1(H,ne,i),rt=s?$e({get:()=>Ce(L),set:Ue=>{ve.value=!0;const W=Ce(n),Je=Ce(h);Je&&(Je[s]=F[s]),Ht(W[s])?W[s].value=Ue:W[s]=Ue}}):null;s&&k.$autoDirty&&Qs(L,()=>{ve.value||C();const Ue=Ce(h);Ue&&(Ue[s]=F[s])},{flush:"sync"});async function je(){return C(),k.$rewardEarly&&(lt(),await Dl()),await Dl(),new Promise(Ue=>{if(!R.value)return Ue(!A.value);const W=Qs(R,()=>{Ue(!A.value),W()})})}function De(Ue){return(i.value||{})[Ue]}function Gt(){Ht(h)?h.value=F:Object.keys(F).length===0?Object.keys(h).forEach(Ue=>{delete h[Ue]}):Object.assign(h,F)}return zr(Rr(Rr(Rr({},H),{},{$model:rt,$dirty:ve,$error:x,$errors:V,$invalid:A,$anyDirty:w,$pending:R,$touch:C,$reset:T,$path:d||c1,$silentErrors:Le,$validate:je,$commit:lt},i&&{$getResultsForChild:De,$clearExternalResults:Gt,$validationGroups:me}),ne))}class d1{constructor(){this.storage=new Map}set(e,n,s){this.storage.set(e,{rules:n,result:s})}checkRulesValidity(e,n,s){const r=Object.keys(s),i=Object.keys(n);return i.length!==r.length||!i.every(c=>r.includes(c))?!1:i.every(c=>n[c].$params?Object.keys(n[c].$params).every(u=>Ce(s[c].$params[u])===Ce(n[c].$params[u])):!0)}get(e,n){const s=this.storage.get(e);if(!s)return;const{rules:r,result:i}=s,a=this.checkRulesValidity(e,n,r),c=i.$unwatch?i.$unwatch:()=>({});return a?i:{$dirty:i.$dirty,$partial:!0,$unwatch:c}}}const Pl={COLLECT_ALL:!0,COLLECT_NONE:!1},Rm=Symbol("vuelidate#injectChildResults"),Pm=Symbol("vuelidate#removeChildResults");function p1(t){let{$scope:e,instance:n}=t;const s={},r=_t([]),i=$e(()=>r.value.reduce((d,g)=>(d[g]=Ce(s[g]),d),{}));function a(d,g){let{$registerAs:y,$scope:b,$stopPropagation:P}=g;P||e===Pl.COLLECT_NONE||b===Pl.COLLECT_NONE||e!==Pl.COLLECT_ALL&&e!==b||(s[y]=d,r.value.push(y))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],a);function c(d){r.value=r.value.filter(g=>g!==d),delete s[d]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],c);const u=zn(Rm,[]);ao(Rm,n.__vuelidateInjectInstances);const h=zn(Pm,[]);return ao(Pm,n.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:u,removeValidationResultsFromParent:h}}function sv(t){return new Proxy(t,{get(e,n){return typeof e[n]=="object"?sv(e[n]):$e(()=>e[n])}})}let Vm=0;function rv(t,e){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=t,t=void 0,e=void 0);let{$registerAs:r,$scope:i=Pl.COLLECT_ALL,$stopPropagation:a,$externalResults:c,currentVueInstance:u}=s;const h=u||((n=vc())===null||n===void 0?void 0:n.proxy),d=h?h.$options:{};r||(Vm+=1,r=`_vuelidate_${Vm}`);const g=_t({}),y=new d1,{childResults:b,sendValidationResultsToParent:P,removeValidationResultsFromParent:k}=h?p1({$scope:i,instance:h}):{childResults:_t({})};if(!t&&d.validations){const L=d.validations;e=_t({}),Eg(()=>{e.value=h,Qs(()=>rc(L)?L.call(e.value,new sv(e.value)):L,F=>{g.value=vh({validations:F,state:e,childResults:b,resultsCache:y,globalConfig:s,instance:h,externalResults:c||h.vuelidateExternalResults})},{immediate:!0})}),s=d.validationsConfig||s}else{const L=Ht(t)||r1(t)?t:zr(t||{});Qs(L,F=>{g.value=vh({validations:F,state:e,childResults:b,resultsCache:y,globalConfig:s,instance:h??{},externalResults:c})},{immediate:!0})}return h&&(P.forEach(L=>L(g,{$registerAs:r,$scope:i,$stopPropagation:a})),kh(()=>k.forEach(L=>L(r)))),$e(()=>Rr(Rr({},Ce(g.value)),b.value))}const Fc=t=>{if(t=Ce(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let e in t)return!0;return!1}return!!String(t).length},iv=t=>(t=Ce(t),Array.isArray(t)?t.length:typeof t=="object"?Object.keys(t).length:String(t).length);function Vi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s=>(s=Ce(s),!Fc(s)||e.every(r=>(r.lastIndex=0,r.test(s))))}Vi(/^[a-zA-Z]*$/);Vi(/^[a-zA-Z0-9]*$/);var m1=Vi(/^\d*(\.\d+)?$/),g1={$validator:m1,$message:"Value must be numeric",$params:{type:"numeric"}};const _1=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;Vi(_1);function y1(t){return e=>!Fc(e)||iv(e)<=Ce(t)}function v1(t){return{$validator:y1(t),$message:e=>{let{$params:n}=e;return`The maximum length allowed is ${n.max}`},$params:{max:t,type:"maxLength"}}}function E1(t){return e=>!Fc(e)||iv(e)>=Ce(t)}function b1(t){return{$validator:E1(t),$message:e=>{let{$params:n}=e;return`This field should be at least ${n.min} characters long`},$params:{min:t,type:"minLength"}}}function w1(t){return typeof t=="string"&&(t=t.trim()),Fc(t)}var T1={$validator:w1,$message:"Value is required",$params:{type:"required"}};const A1=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;Vi(A1);Vi(/(^[0-9]*$)|(^-[0-9]+$)/);Vi(/^[-]?\d*(\.\d+)?$/);const I1={class:"mb-3"},C1={key:0,class:"form-label"},S1={key:1,class:"invalid-feedback d-block text-danger",style:{"font-size":"0.875rem","margin-top":"0.25rem"}},R1={__name:"FormInput",props:{modelValue:{type:[String,Number],required:!0},label:String,placeholder:String,type:{type:String,default:"text"},minLength:Number,maxLength:Number,numericOnly:Boolean,alphabetOnly:Boolean,alphanumericOnly:Boolean},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const s=t,r=n,i=zr({value:s.modelValue}),a={$validator:b=>/^[a-zA-Z\s]*$/.test(b),$message:"Value must contain only letters and spaces"},c={$validator:b=>/^[a-zA-Z0-9\s]*$/.test(b),$message:"Value must contain only letters, numbers, and spaces"},u=()=>{const b={value:{required:T1}};return s.minLength&&(b.value.minLength=b1(s.minLength)),s.maxLength&&(b.value.maxLength=v1(s.maxLength)),s.numericOnly&&(b.value.numeric=g1),s.alphabetOnly&&(b.value.alphaWithSpaces=a),s.alphanumericOnly&&(b.value.alphanumericWithSpaces=c),b},h=$e(()=>u()),d=rv(h,i),g=b=>{i.value=b.target.value,r("update:modelValue",b.target.value)};return e({isValid:async()=>await d.$validate(),v$:d}),(b,P)=>(ht(),yt("div",I1,[t.label?(ht(),yt("label",C1,bt(t.label),1)):$l("",!0),(ht(),Ug(Ob(t.type==="textarea"?"textarea":"input"),{type:t.type==="textarea"?void 0:t.type,class:uc(["form-control",{"is-invalid":Ce(d).$invalid&&Ce(d).$dirty}]),value:t.modelValue,placeholder:t.placeholder,onInput:g,onBlur:P[0]||(P[0]=k=>Ce(d).$touch())},null,40,["type","class","value","placeholder"])),Ce(d).$invalid&&Ce(d).$dirty?(ht(),yt("div",S1,[(ht(!0),yt(jt,null,gc(Ce(d).$errors,k=>(ht(),yt("div",{key:k.$uid},bt(k.$message),1))),128))])):$l("",!0)]))}},Qi=rr(R1,[["__scopeId","data-v-e913caa9"]]),P1={class:"button-group"},V1=["disabled"],x1=["disabled"],D1={class:"text-muted"},O1=["onClick"],N1=["onClick"],k1={__name:"AdminView",setup(t){const e=_t([]),n=_t(null),s=_t(null),r=_t(null),i=_t(null),a=_t(null),c=_t(null),u=_t({name:"",category:"",price:"",stock:"",description:"",image:""}),h=_t(null),d=$e(()=>u.value.name.trim()!==""&&u.value.category.trim()!==""&&u.value.price!==""&&u.value.stock!==""&&u.value.image.trim()!==""&&u.value.description.trim()!==""&&u.value.name.length>=3&&u.value.category.length>=3&&u.value.description.length>=10),g=async()=>{const F=await Zy(_h(so,"products"));e.value=F.docs.map(B=>({id:B.id,...B.data()}))},y=async()=>{d.value&&(await VR(_h(so,"products"),u.value),L(),await g())},b=F=>{h.value=F.id,u.value={...F}},P=async()=>{if(d.value){const F=nc(so,"products",h.value);await RR(F,u.value),L(),await g()}},k=async F=>{await PR(nc(so,"products",F)),g()},L=()=>{h.value=null,u.value={name:"",category:"",price:"",stock:"",description:"",image:""},n.value?.isValid(),s.value?.isValid(),r.value?.isValid(),i.value?.isValid(),a.value?.isValid(),c.value?.isValid()};return To(g),(F,B)=>(ht(),yt(jt,null,[B[9]||(B[9]=Z("h2",null,"Admin  Manage Products",-1)),Z("form",{onSubmit:B[6]||(B[6]=Zg(H=>h.value?P():y(),["prevent"])),class:"mb-4 form-card"},[Ke(Qi,{modelValue:u.value.name,"onUpdate:modelValue":B[0]||(B[0]=H=>u.value.name=H),label:"Product Name",placeholder:"Name",required:"",minLength:3,maxLength:50,alphabetOnly:!0,ref_key:"nameRef",ref:n},null,8,["modelValue"]),Ke(Qi,{modelValue:u.value.category,"onUpdate:modelValue":B[1]||(B[1]=H=>u.value.category=H),label:"Category",placeholder:"Category",required:"",minLength:3,alphabetOnly:!0,ref_key:"categoryRef",ref:s},null,8,["modelValue"]),Ke(Qi,{modelValue:u.value.price,"onUpdate:modelValue":B[2]||(B[2]=H=>u.value.price=H),label:"Price ()",placeholder:"Price",type:"number",required:"",numericOnly:!0,ref_key:"priceRef",ref:r},null,8,["modelValue"]),Ke(Qi,{modelValue:u.value.stock,"onUpdate:modelValue":B[3]||(B[3]=H=>u.value.stock=H),label:"Stock Quantity",placeholder:"Stock",type:"number",required:"",numericOnly:!0,ref_key:"stockRef",ref:i},null,8,["modelValue"]),Ke(Qi,{modelValue:u.value.image,"onUpdate:modelValue":B[4]||(B[4]=H=>u.value.image=H),label:"Image URL",placeholder:"Image URL",required:"",ref_key:"imageRef",ref:a},null,8,["modelValue"]),Ke(Qi,{modelValue:u.value.description,"onUpdate:modelValue":B[5]||(B[5]=H=>u.value.description=H),label:"Description",placeholder:"Description",type:"textarea",minLength:10,maxLength:500,ref_key:"descriptionRef",ref:c},null,8,["modelValue"]),Z("div",P1,[h.value?(ht(),yt("button",{key:1,type:"submit",class:"btn btn-primary btn-animated me-2",disabled:!d.value}," Update Product ",8,x1)):(ht(),yt("button",{key:0,type:"submit",class:"btn btn-success btn-animated",disabled:!d.value}," Add Product ",8,V1)),h.value?(ht(),yt("button",{key:2,type:"button",class:"btn btn-secondary btn-animated",onClick:L}," Cancel ")):$l("",!0)])],32),B[10]||(B[10]=Z("h3",{class:"mt-5 mb-3"},"Product List",-1)),Ke(zw,{name:"list",tag:"ul",class:"list-group"},{default:Zn(()=>[(ht(!0),yt(jt,null,gc(e.value,H=>(ht(),yt("li",{key:H.id,class:"list-group-item d-flex justify-content-between align-items-center"},[Z("div",null,[Z("strong",null,bt(F.$uppercase(H.name)),1),B[8]||(B[8]=Z("br",null,null,-1)),Z("small",D1,bt(F.$uppercase(H.category)),1)]),Z("div",null,[Z("button",{class:"btn btn-warning btn-sm me-2 btn-animated",onClick:ne=>b(H)}," Edit ",8,O1),Z("button",{class:"btn btn-danger btn-sm btn-animated",onClick:ne=>k(H.id)}," Delete ",8,N1)])]))),128))]),_:1}),Z("button",{class:"btn btn-secondary mt-4 btn-animated",onClick:B[7]||(B[7]=H=>F.$router.back())},"Back")],64))}},L1=rr(k1,[["__scopeId","data-v-3b8acdc2"]]),M1={class:"about-container"},$1={class:"about-tagline"},F1={class:"about-content"},B1={class:"about-card"},j1={class:"brand-badge"},U1={class:"about-card"},q1={class:"rating"},H1={class:"about-card"},z1="THE BEST TECH STORE FOR YOUR NEEDS",W1="TechStore",G1="4.5",K1="  123 Blat il qamar, Siggiewi, MLT  ",Q1={__name:"AboutView",setup(t){return(e,n)=>(ht(),yt("div",M1,[n[4]||(n[4]=Z("h2",null,"About Us",-1)),Z("p",$1,bt(e.$lowercase(z1)),1),Z("div",F1,[Z("div",B1,[n[1]||(n[1]=Z("h4",null,"Store Name",-1)),Z("p",j1,bt(e.$first3(W1)),1)]),Z("div",U1,[n[2]||(n[2]=Z("h4",null,"Quality Rating",-1)),Z("p",q1,bt(e.$withPlus(G1)),1)]),Z("div",H1,[n[3]||(n[3]=Z("h4",null,"Location",-1)),Z("p",null,bt(e.$trimSpaces(K1)),1)])]),n[5]||(n[5]=Z("div",{class:"description-card"},[Z("p",null,"This store provides a range of computer hardware and accessories at competitive prices. We pride ourselves on quality products and exceptional customer service.")],-1)),Z("button",{class:"btn btn-secondary mt-4 btn-animated",onClick:n[0]||(n[0]=s=>e.$router.back())},"Back")]))}},X1=rr(Q1,[["__scopeId","data-v-5f355b4a"]]),Y1={class:"contact-container"},J1={class:"contact-info"},Z1={class:"info-card"},eP={class:"info-card"},tP={class:"brand"},nP={class:"mb-3"},sP={class:"mb-3"},rP={class:"mb-3"},iP="lee.muscat.g52850@mcast.edu.mt",oP="+356 1234 5678",aP="TechStore",lP={__name:"ContactView",setup(t){const e=_t({name:"",email:"",message:""}),n=()=>{alert(`Thank you ${e.value.name}! We received your message.`),e.value={name:"",email:"",message:""}};return(s,r)=>(ht(),yt("div",Y1,[r[11]||(r[11]=Z("h2",null,"Contact Us",-1)),Z("div",J1,[Z("div",Z1,[r[4]||(r[4]=Z("h4",null,"Email",-1)),Z("p",null,bt(s.$lowercase(iP)),1)]),Z("div",{class:"info-card"},[r[5]||(r[5]=Z("h4",null,"Phone",-1)),Z("p",null,bt(oP))]),Z("div",eP,[r[6]||(r[6]=Z("h4",null,"Brand",-1)),Z("p",tP,bt(s.$first3(aP)),1)])]),Z("form",{onSubmit:Zg(n,["prevent"]),class:"contact-form"},[Z("div",nP,[r[7]||(r[7]=Z("label",{class:"form-label"},"Name",-1)),hu(Z("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>e.value.name=i),type:"text",class:"form-control",placeholder:"Your name",required:""},null,512),[[vu,e.value.name]])]),Z("div",sP,[r[8]||(r[8]=Z("label",{class:"form-label"},"Email",-1)),hu(Z("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>e.value.email=i),type:"email",class:"form-control",placeholder:"Your email",required:""},null,512),[[vu,e.value.email]])]),Z("div",rP,[r[9]||(r[9]=Z("label",{class:"form-label"},"Message",-1)),hu(Z("textarea",{"onUpdate:modelValue":r[2]||(r[2]=i=>e.value.message=i),class:"form-control",placeholder:"Your message",rows:"5",required:""},null,512),[[vu,e.value.message]])]),r[10]||(r[10]=Z("button",{type:"submit",class:"btn btn-primary btn-animated"}," Send Message ",-1))],32),Z("button",{class:"btn btn-secondary mt-4 btn-animated",onClick:r[3]||(r[3]=i=>s.$router.back())},"Back")]))}},cP=rr(lP,[["__scopeId","data-v-be03657e"]]),uP=[{name:"Laptop Bag",discount:20,category:"Accessories"},{name:"Gaming Mouse",discount:15,category:"Peripherals"},{name:"USB-C Dock",discount:10,category:"Hardware"},{name:"Gaming Keyboard",discount:30,category:"Peripherals"}],hP={class:"offers-container"},fP={key:0,class:"offers-section"},dP={class:"offers-grid"},pP={class:"category"},mP={class:"discount-badge"},gP={key:1,class:"alert alert-info"},_P={__name:"OffersView",setup(t){const e=_t([]);return To(()=>{e.value=JSON.parse(JSON.stringify(uP))}),(n,s)=>(ht(),yt("div",hP,[s[2]||(s[2]=Z("h2",null,"Special Offers",-1)),s[3]||(s[3]=Z("p",{class:"subtitle"},"Here are some Special Offers with amazing discounts",-1)),e.value.length>0?(ht(),yt("div",fP,[s[1]||(s[1]=Z("h3",null,"Available Offers",-1)),Z("div",dP,[(ht(!0),yt(jt,null,gc(e.value,r=>(ht(),yt("div",{key:r.name,class:"offer-card"},[Z("h4",null,bt(r.name),1),Z("p",pP,bt(r.category),1),Z("div",mP,"-"+bt(r.discount)+"%",1)]))),128))])])):(ht(),yt("div",gP," No offers available at the moment. ")),Z("button",{class:"btn btn-secondary btn-animated mt-4",onClick:s[0]||(s[0]=r=>n.$router.back())},"Back")]))}},yP=rr(_P,[["__scopeId","data-v-5b6bd661"]]),vP=[{path:"/",component:DA},{path:"/products",component:qR},{path:"/products/:id",component:n1},{path:"/admin",component:L1},{path:"/about",component:X1},{path:"/contact",component:cP},{path:"/offers",component:yP}],EP=CA({history:rA(),routes:vP}),Cf=tT(yT),xm={uppercase:t=>t?.toString().toUpperCase()||"",lowercase:t=>t?.toString().toLowerCase()||"",first3:t=>t?.toString().substring(0,3).toUpperCase()||"",trimSpaces:t=>t?.toString().trim()||"",withPlus:t=>`+${t}`};Object.keys(xm).forEach(t=>{Cf.config.globalProperties[`$${t}`]=xm[t]});Cf.use(rv);Cf.use(EP).mount("#app");
